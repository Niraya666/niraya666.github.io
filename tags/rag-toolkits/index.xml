<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>RAG-Toolkits on LZY Blog</title>
    <link>https://niraya666.github.io/tags/rag-toolkits/</link>
    <description>Recent content in RAG-Toolkits on LZY Blog</description>
    <image>
      <title>LZY Blog</title>
      <url>https://niraya666.github.io/images/papermod-cover.png</url>
      <link>https://niraya666.github.io/images/papermod-cover.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 22 Sep 2025 18:56:00 +0800</lastBuildDate>
    <atom:link href="https://niraya666.github.io/tags/rag-toolkits/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæœ‰äº†Copaliç³»åˆ—æ¨¡å‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦OCRå—ï¼Ÿ</title>
      <link>https://niraya666.github.io/posts/rag-toolkits-copali/</link>
      <pubDate>Mon, 22 Sep 2025 18:56:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag-toolkits-copali/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ç°é˜¶æ®µçš„RAGæ˜¯ä¸ªç¼åˆæ€ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å†™åœ¨å¼€å¤´&#34;&gt;å†™åœ¨å¼€å¤´&lt;/h2&gt;
&lt;p&gt;å¦‚æœå›é¡¾RAGé‚£çŸ­æš‚çš„å†å²ï¼Œå…¶æœ€åˆä¸»è¦æ˜¯ä¸ºäº†è§£å†³æ¨¡å‹çŸ¥è¯†çš„åŠ¨æ€æ›´æ–°å’Œé™ä½æ¨¡å‹å¹»è§‰è€Œè®¾è®¡çš„ï¼Œæ ¸å¿ƒå‡è®¾æ˜¯çŸ¥è¯†å­˜åœ¨äºç¦»æ•£çš„ã€çº¯æ–‡æœ¬çš„æ®µè½ä¸­ã€‚ç„¶è€Œï¼Œéšç€å¤šæ¨¡æ€å¤§æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œä¾ç„¶æ²¿ç”¨ç€è¿™ç§â€œå…ˆè§£æã€å†åˆ†å—ã€ååµŒå…¥â€çš„æ—§æ€æƒ³æ¥å¤„ç†è•´å«ä¸°å¯Œè§†è§‰ä¿¡æ¯çš„æ–‡æ¡£ï¼Œè¿™å¥—å½“åˆçš„è®¾è®¡æ”¾åœ¨ç°åœ¨å°±æ˜¾å¾—æœ‰äº›â€œåˆ»èˆŸæ±‚å‰‘â€ï¼Œç”šè‡³æˆäº†ä¸€ç§å†å²åŒ…è¢±ã€‚è¿™ä¾¿å¼•å‡ºäº†æˆ‘ä»¬ä»Šå¤©è¦æ¢è®¨çš„æ ¸å¿ƒé—®é¢˜ï¼šä¸ºäº†è®©æ¨¡å‹â€œè¯»æ‡‚â€å›¾æ–‡å¹¶èŒ‚çš„å¤æ‚æ–‡æ¡£ï¼Œæˆ‘ä»¬çœŸçš„éœ€è¦å¦‚æ­¤ç¹ççš„é¢„å¤„ç†å—ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;ç°é˜¶æ®µragä¸­å­˜åœ¨çš„é—®é¢˜&#34;&gt;ç°é˜¶æ®µRAGä¸­å­˜åœ¨çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;å…ˆç»†æ•°ä¸€ä¸‹å½“å‰ä¸»æµRAGæ¶æ„ä¸­ï¼Œæ‰€å­˜åœ¨çš„æ™®éé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¾èµ–ä¸“é—¨çš„OCRæ¨¡å‹ï¼Œlayoutåˆ†ææ¨¡å‹å¯¹æ–‡æ¡£è¿›è¡Œä¿¡æ¯æå–ï¼šä¸€ä¸ªå…¸å‹çš„PDFæ–‡æ¡£å¤„ç†æµç¨‹å¯èƒ½éœ€è¦ layoutåˆ†ææ¨¡å‹ï¼ŒOCRæ¨¡å‹ï¼Œè¡¨æ ¼è¯†åˆ«æ¨¡å‹ç­‰ã€‚å¤šæ¨¡å‹åˆ™å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦å’Œå»¶è¿Ÿï¼Œè€Œä¸”æ¯ä¸€æ­¥éƒ½å­˜åœ¨ä¸€å®šçš„ä¿¡æ¯æŸå¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸åŒæ–‡ä»¶æ ¼å¼éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼ï¼šPDFã€Wordã€Markdownã€PPTX&amp;hellip; æ¯ä¸€ç§æ–‡ä»¶ç±»å‹éƒ½éœ€è¦ä¸€å¥—ä¸åŒçš„è§£æç­–ç•¥ã€‚è¿™å¯¼è‡´è§£æç³»ç»Ÿå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œç»´æŠ¤æˆæœ¬ä¸Šå‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾åƒä¿¡æ¯çš„ä¸¢å¤±ï¼šä¼ ç»Ÿçš„RAGå‡ ä¹æ˜¯çº¯æ–‡æœ¬çš„ã€‚å½“é‡åˆ°å›¾åƒã€å¤æ‚è¡¨æ ¼ã€æµç¨‹å›¾æ—¶ï¼Œä¿¡æ¯ä¸¢å¤±æ˜¯å¿…ç„¶çš„ã€‚å³ä¾¿å¼•å…¥å¤šæ¨¡æ€æ¨¡å‹åšImage-Captioningï¼Œå°†å›¾åƒè½¬è¯‘æˆä¸€æ®µæè¿°æ€§æ–‡å­—ï¼Œå…¶ä¿¡æ¯çš„ç²¾ç¡®åº¦å’Œå®Œæ•´åº¦ä¹Ÿè¿œè¿œæ— æ³•ä¸åŸå§‹å›¾åƒç›¸æ¯”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éœ€è¦é’ˆå¯¹æ€§è°ƒæ•´åˆ†å—ç­–ç•¥å’Œç´¢å¼•è®¾è®¡ï¼šå¾€å¾€éœ€è¦ä¸ºä¸åŒç±»å‹çš„æ–‡æ¡£ã€ä¸åŒç±»å‹çš„åœºæ™¯ï¼Œè®¾è®¡åˆ†å—ç­–ç•¥å’Œç´¢å¼•ç»“æ„ã€‚æ˜¯æŒ‰å›ºå®šå¤§å°åˆ†å—ï¼Œè¿˜æ˜¯æŒ‰ç« èŠ‚åˆ†å—ï¼Ÿå¯¹äºä¸€ç¯‡è®ºæ–‡å’Œä¸€ä»½äº§å“æ‰‹å†Œï¼Œæœ€ä½³ç­–ç•¥æ˜¾ç„¶ä¸åŒã€‚è¿™ç§é«˜åº¦å®šåˆ¶åŒ–çš„è®¾è®¡ï¼Œä½¿å¾—RAGç³»ç»Ÿéš¾ä»¥æ‰©å±•å’Œè¿ç§»ï¼Œæ¶æ„è¿‡äºå¤æ‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å‰ä½œä¸­ï¼Œæ›¾å±•æœ›è¿‡VLMåœ¨RAGé¢†åŸŸçš„å·¨å¤§æ½œåŠ›ï¼Œç‰¹åˆ«æ˜¯æ„å»ºä¸€ä¸ªEnd-to-Endçš„RAGç³»ç»Ÿã€‚è¿™ä¸ªè®¾æƒ³çš„ç›®æ ‡ï¼Œæ­£æ˜¯ä¸ºäº†å½»åº•æ¨ç¿»ä¸Šè¿°å¤æ‚çš„â€œé¢„å¤„ç†â€ï¼Œè®©ä¿¡æ¯å¤„ç†å›å½’ç®€æ´å’Œé«˜æ•ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆç°é˜¶æ®µend-to-endçš„ragæ˜¯å¯è¡Œçš„&#34;&gt;ä¸ºä»€ä¹ˆç°é˜¶æ®µEnd-to-Endçš„RAGæ˜¯å¯è¡Œçš„ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç«¯åˆ°ç«¯çš„RAGï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œæ‰€è§å³æ‰€å¾—â€ã€‚ä¸å†è´¹åŠ›åœ°å°†æ–‡æ¡£â€œç¿»è¯‘â€æˆæ¨¡å‹èƒ½ç†è§£çš„çº¯æ–‡æœ¬æ ¼å¼ï¼Œè€Œæ˜¯ç›´æ¥å°†æ–‡æ¡£çš„â€œè§†è§‰å½¢æ€â€â€”â€”å³æ–‡æ¡£é¡µé¢å›¾åƒï¼Œç›´æ¥è¾“å…¥ç»™VLMã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;VLMçš„VQAèƒ½åŠ›å¼ºäºOCR&lt;/strong&gt;ï¼šå¿…é¡»æ‰¿è®¤ï¼Œåœ¨å¤æ‚æ–‡æ¡£çš„ç†è§£ä¸Šï¼ŒVLMçš„èƒ½åŠ›å¼ºäºå…¶OCRèƒ½åŠ›çš„ã€‚ä¸å…¶åœ¨OCRè¿™æ¡è·¯ä¸Šâ€œè±¡ç‰™é‡Œé›•èŠ±â€ï¼Œå°†å¤æ‚æ–‡æ¡£è½¬æ¢æˆçº¯æ–‡æœ¬å½¢å¼ï¼Œ ä¸å¦‚ç›´æ¥å°†æ–‡æ¡£é¡µé¢è§†ä¸ºä¸€å¼ å›¾ç‰‡ï¼Œåˆ©ç”¨VLMçš„VQAèƒ½åŠ›ç›´æ¥åœ¨å›¾åƒä¸Šè¿›è¡Œä¿¡æ¯å®šä½å’Œå›ç­”ï¼Œè¿™ä¸ä»…è·³è¿‡äº†ä¸­é—´ç¹ççš„æ­¥éª¤ï¼Œæ›´ä»æ ¹æœ¬ä¸Šé¿å…äº†ä¿¡æ¯åœ¨å¤šæ¬¡è½¬æ¢ä¸­çš„æŸå¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Late Interactionæ¨¡å‹çš„å‡ºç°&lt;/strong&gt;ï¼šä»¥&lt;code&gt;ColBERT&lt;/code&gt;ä¸ºä»£è¡¨çš„Late Interactionæ¨¡å‹ï¼Œæä¾›å…¨æ–°çš„æ€è·¯ã€‚ä¼ ç»Ÿçš„å‘é‡æ£€ç´¢æ˜¯å°†æ•´ä¸ªæ–‡æœ¬å—å‹ç¼©æˆä¸€ä¸ªå•ä¸€çš„å‘é‡ï¼Œè¿™æ— ç–‘ä¼šä¸¢å¤±å¤§é‡ç»†èŠ‚ã€‚è€Œ&lt;code&gt;ColBERT&lt;/code&gt;åˆ™æ˜¯ä¸ºæ–‡æœ¬å—ä¸­çš„æ¯ä¸ªTokenéƒ½ç”Ÿæˆä¸€ä¸ªå‘é‡ã€‚æ£€ç´¢æ—¶ï¼Œåˆ™é€šè¿‡MaxSimæ“ä½œè®¡ç®—ç›¸å…³æ€§åˆ†æ•°ã€‚ è€Œè¿™ä¸ªæ€æƒ³å¯ä»¥è¿ç§»åˆ°è§†è§‰é¢†åŸŸï¼šå°†å›¾åƒä¸­çš„æ¯ä¸ªPatchä½œä¸ºå‘é‡åŒ–çš„åŸºæœ¬å•ä½ï¼Œè€Œä¸æ˜¯å¯¹æ•´å¼ å›¾ç‰‡æ„å»ºç´¢å¼•ï¼ˆCLIPï¼‰ã€‚ åŒæ—¶æ–‡æ¡£çš„æ¯ä¸€é¡µå¤©ç„¶å°±æ˜¯ä¸€ä¸ªåˆ†å—åVLMçš„è¾“å…¥å•å…ƒï¼Œçœå»äº†è®¾è®¡Chunkingç­–ç•¥çš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å‹èƒ½åŠ›å’ŒåŸºç¡€è®¾æ–½çš„æˆç†Ÿ&lt;/strong&gt;ï¼šä¸»æµçš„VLMå·²ç»æ”¯æŒå¤šå¼ é«˜åˆ†è¾¨ç‡å›¾ç‰‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¸”æ‹¥æœ‰è¶³å¤Ÿé•¿çš„ä¸Šä¸‹æ–‡çª—å£æ¥å¤„ç†æ•´ä¸ªæ–‡æ¡£ã€‚ä¸»æµçš„LLMæ¨ç†æ¡†æ¶ä¹Ÿæ”¯æŒäº†å¤šå›¾åƒè¾“å…¥ï¼Œè¿™ä¹Ÿä¸ºç«¯åˆ°ç«¯çš„æ–‡æ¡£çº§ç†è§£æä¾›äº†åŸºç¡€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;copaliç³»åˆ—æ¨¡å‹&#34;&gt;Copaliç³»åˆ—æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Co&lt;/strong&gt;ntextualized &lt;strong&gt;L&lt;/strong&gt;ate &lt;strong&gt;I&lt;/strong&gt;nteraction &lt;strong&gt;O&lt;/strong&gt;ver &lt;strong&gt;Pali&lt;/strong&gt;Gemma ï¼ˆCopaliï¼‰ä¾¿æ˜¯è¯¥ç³»åˆ—çš„å¼€å±±ä¹‹ä½œã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ColBERTåœ¨å›¾åƒæ•°æ®ä¸Šçš„æ‰©å±•ã€‚ï¼ˆColBERTç›¸å…³å†…å®¹å¯å‚è€ƒ&lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/&#34;&gt;å‰ä½œ&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://arxiv.org/html/2407.01449v6/extracted/6240861/images/final_architecture.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;é€‰ç”¨Â &lt;a href=&#34;https://huggingface.co/blog/zh/paligemma&#34;&gt;PaliGemma-3B&lt;/a&gt;Â ä½œä¸ºåŸºç¡€æ¨¡å‹ï¼ˆä»¥&lt;a href=&#34;https://huggingface.co/docs/transformers/model_doc/siglip&#34;&gt;SigLIP&lt;/a&gt;ä½œä¸ºvision-encoderï¼Œé€šè¿‡ä¸€ä¸ªçº¿æ€§å±‚å°†å›¾åƒpatchæ˜ å°„è‡³LLMï¼Œå³Gemma-2Bçš„åµŒå…¥ç©ºé—´ï¼‰ï¼Œç±»ä¼¼ColBERTï¼Œåœ¨LLMçš„è¾“å‡ºåå†å¢åŠ ä¸€ä¸ªæŠ•å½±å±‚ï¼Œä»è€Œå®ç°å¤šå‘é‡è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/paligemma/paligemma_arch.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡æ¡£ä¾§ï¼ˆæ„å»ºç´¢å¼•æ—¶ï¼‰&lt;/strong&gt;ï¼šå°†ä¸€å¼ æ–‡æ¡£é¡µé¢å›¾åƒè¾“å…¥åˆ°ColPaliä¸­ã€‚ç›´æ¥é€šè¿‡è§†è§‰ç¼–ç å™¨å°†å…¶è½¬æ¢ä¸ºä¸€ç³»åˆ—å›¾åƒpatchï¼ˆ1024ï¼‰ï¼Œè¿™äº›åµŒå…¥éšåè¢«é€å…¥LLMï¼Œæœ€ç»ˆé€šè¿‡ä¸€ä¸ªæŠ•å½±å±‚ï¼Œä¸º&lt;strong&gt;æ¯ä¸ªå›¾åƒå—&lt;/strong&gt;ç”Ÿæˆä¸€ä¸ª128ç»´å‘é‡ã€‚è¿™æ ·ï¼Œä¸€é¡µæ–‡æ¡£å°±è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªbag-of-embeddingsã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢ä¾§ï¼ˆæ£€ç´¢ï¼‰&lt;/strong&gt;ï¼šç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æŸ¥è¯¢ï¼ˆqueryï¼‰è¢«é€å…¥æ¨¡å‹çš„è¯­è¨€æ¨¡å‹éƒ¨åˆ†ï¼ŒåŒæ ·ä¸ºæŸ¥è¯¢ä¸­çš„&lt;strong&gt;æ¯ä¸ªtoken&lt;/strong&gt;ç”Ÿæˆä¸€ä¸ªå‘é‡&lt;/p&gt;
&lt;p&gt;åœ¨æ£€ç´¢æ—¶ï¼Œä½¿ç”¨ç±»ä¼¼ColBERTçš„&lt;strong&gt;MaxSim&lt;/strong&gt;æ“ä½œæ¥è®¡ç®—æŸ¥è¯¢ä¸æ–‡æ¡£é¡µé¢çš„ç›¸å…³æ€§åˆ†æ•°&lt;/p&gt;
&lt;p&gt;è®­ç»ƒé˜¶æ®µï¼Œåœ¨&lt;a href=&#34;https://huggingface.co/datasets/vidore/colpali_train_set&#34;&gt;vidore/colpali_train_set&lt;/a&gt; 118Kä¸ªquery-é¡µé¢å¯¹ä¸Šåšå¯¹æ¯”å­¦ä¹ è·å¾—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Copali-assets/image.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä¸ºäº†ç³»ç»Ÿæ€§åœ°è¯„ä¼°å¯Œè§†è§‰æ–‡æ¡£çš„æ£€ç´¢èƒ½åŠ›ï¼Œä½œè€…åˆ›å»ºäº†ä¸€ä¸ªåä¸º&lt;a href=&#34;https://huggingface.co/collections/vidore/vidore-benchmark-667173f98e70a1c0fa4db00d&#34;&gt;ViDoRe&lt;/a&gt; (Visual Document Retrieval Benchmark)Â çš„ç»¼åˆæ€§è¯„æµ‹åŸºå‡†ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä»¥PaliGemma ä¸ºbased çš„æ¨¡å‹å¤–ï¼Œè¿˜æœ‰å°†åŸºç¡€æ¨¡å‹æ¢æˆQwen2-VL å’ŒQwen2.5-VL çš„&lt;a href=&#34;https://huggingface.co/docs/transformers/model_doc/colqwen2&#34;&gt;ColQwen2&lt;/a&gt;æ¨¡å‹&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Model&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Score on &lt;a href=&#34;https://huggingface.co/spaces/vidore/vidore-leaderboard&#34;&gt;ViDoRe&lt;/a&gt; ğŸ†&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;License&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Comments&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali&#34;&gt;vidore/colpali&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;81.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;google/paligemma-3b-mix-448&lt;/code&gt;.&lt;br /&gt;â€¢ Checkpoint used in the ColPali paper.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.1&#34;&gt;vidore/colpali-v1.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;81.5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;google/paligemma-3b-mix-448&lt;/code&gt;.&lt;br /&gt;â€¢ Fix right padding for queries.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.2&#34;&gt;vidore/colpali-v1.2&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;83.9&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colpali-v1.1&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.3&#34;&gt;vidore/colpali-v1.3&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;84.8&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colpali-v1.2&lt;/code&gt;.&lt;br /&gt;â€¢ Trained with a larger effective batch size of 256 batch size for 3 epochs.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2-v0.1&#34;&gt;vidore/colqwen2-v0.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;87.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;Qwen/Qwen2-VL-2B-Instruct&lt;/code&gt;.&lt;br /&gt;â€¢ Supports dynamic resolution.&lt;br /&gt;â€¢ Trained using 768 image patches per page and an effective batch size of 32.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2-v1.0&#34;&gt;vidore/colqwen2-v1.0&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;89.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colqwen2-v0.1&lt;/code&gt;, but trained with more powerful GPUs and with a larger effective batch size (256).&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2.5-v0.1&#34;&gt;vidore/colqwen2.5-v0.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;88.8&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;Qwen/Qwen2 5-VL-3B-Instruct&lt;/code&gt;&lt;br /&gt;â€¢ Supports dynamic resolution.&lt;br /&gt;â€¢ Trained using 768 image patches per page and an effective batch size of 32.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2.5-v0.2&#34;&gt;vidore/colqwen2.5-v0.2&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;89.4&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colqwen2.5-v0.1&lt;/code&gt;, but trained with slightly different hyper parameters&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colSmol-256M&#34;&gt;vidore/colSmol-256M&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;80.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;HuggingFaceTB/SmolVLM-256M-Instruct&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colSmol-500M&#34;&gt;vidore/colSmol-500M&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;82.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;HuggingFaceTB/SmolVLM-500M-Instruct&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ï¼ˆFrom &lt;strong&gt;&lt;a href=&#34;https://github.com/illuin-tech/colpali&#34;&gt;colpali&lt;/a&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šColBERT</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/</link>
      <pubDate>Tue, 12 Aug 2025 20:56:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;å‰ä¸€æ®µæ—¶é—´è·‘æ¯”èµ›æ—¶ï¼Œè‹¦äºä¸Šåˆ†é™·å…¥ç“¶é¢ˆï¼Œäºæ˜¯ä¾¿ç¥­å‡ºäº†MLç»å…¸ensembleå¤§æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªåˆ†æ”¯ä¾¿æ˜¯é€‰æ‹©çš„ColBERTï¼Œæ²¡æƒ³åˆ°ï¼Œç«Ÿæˆäº†ç ´å±€çš„å…³é”®ï¼›ä¹Ÿç”±æ­¤è¡¥é½äº†æˆ‘å¯¹â€œè¿Ÿäº¤äº’â€ç±»æ¨¡å‹çš„è®¤çŸ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨å…¸å‹çš„æ£€ç´¢ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ¶æ„æ˜¯ &lt;strong&gt;Retrieval + Reranking&lt;/strong&gt;ä¸¤é˜¶æ®µ:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ£€ç´¢é˜¶æ®µ&lt;/strong&gt;ä½¿ç”¨è½»é‡çº§çš„æ–¹æ³•ï¼ˆå¦‚BM25æˆ–dense vector retrieverï¼‰ä»æµ·é‡è¯­æ–™ä¸­å¿«é€Ÿç­›é€‰å‡ºå‡ ç™¾ä¸ªå€™é€‰æ–‡æ¡£ï¼Œä¼˜å…ˆè€ƒè™‘é€Ÿåº¦å’Œå¬å›ç‡ï¼›&lt;strong&gt;æ’åºé˜¶æ®µ&lt;/strong&gt;åˆ™ä½¿ç”¨cross-encoderåŸºäº query-document å…¨é‡äº¤äº’ï¼Œé‡æ–°ç»™å€™é€‰é›†æ‰“åˆ†ï¼Œå¾—åˆ°ç²¾å‡†çš„æœ€ç»ˆæ’åºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆåšè™½è¿è¡Œè‰¯å¥½ï¼Œä½†å­˜åœ¨ç“¶é¢ˆï¼šç¬¬ä¸€é˜¶æ®µæ£€ç´¢è´¨é‡çš„é™åˆ¶æ„å‘³ç€å¤§é‡ä½è´¨é‡å€™é€‰è¢«é€å…¥æ˜‚è´µçš„ç¬¬äºŒé˜¶æ®µï¼Œè€Œcross-encoderåœ¨å¤§è§„æ¨¡å€™é€‰é›†ä¸Šçš„è®¡ç®—æˆæœ¬å¥‡é«˜ï¼Œ é«˜ç›¸å…³çš„æ–‡æ¡£å¦‚æœæ²¡èƒ½è¢«ç¬¬ä¸€é˜¶æ®µå¬å›ï¼Œå°±æ— æ³•è¢« reranker â€œæå›æ¥â€ã€‚&lt;/p&gt;
&lt;p&gt;è€Œmulti-vectoræ¨¡å‹æ­£å¥½å¡«è¡¥äº†è¿™ä¸ªæ£€ç´¢æµæ°´çº¿ä¸­çš„â€œç©ºç™½ä¸­é—´å±‚â€â€”â€”æ¯” embedding æ›´ç²¾å‡†ï¼Œæ¯” cross-encoder æ›´é«˜æ•ˆã€‚ç›¸æ¯”å•å‘é‡ embedding æ¨¡å‹å°†æ•´ä¸ªchunkå‹ç¼©ä¸ºä¸€ä¸ªå‘é‡ï¼Œmulti-vectoræ¨¡å‹ä¿ç•™äº†Â **token çº§åˆ«çš„è¡¨ç¤ºï¼Œ**å¯ä»¥æ•æ‰åˆ°å±€éƒ¨ä¸ query é«˜åº¦åŒ¹é…çš„ç‰‡æ®µï¼Œä¹Ÿæ˜¯èƒ½ç¼“è§£â€œè¯­ä¹‰é¸¿æ²Ÿâ€çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒColBERT ä¾¿æ˜¯ç»å…¸çš„å¤šå‘é‡æ¨¡å‹/late-interactionä»£è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆå¯èƒ½åœ¨æœ¬æ–‡ä¸­ä¼šå°†ColBERT/late-interaction/multi-vector-model æ··ä¸ºä¸€è°ˆï¼Œæ¯•ç«Ÿåªæ˜¯å®ä¾‹-æœºåˆ¶-ç±»åˆ« çš„å…³ç³» ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;ä¸åŒçš„äº¤äº’å±‚çº§&#34;&gt;ä¸åŒçš„â€œäº¤äº’â€å±‚çº§&lt;/h2&gt;
&lt;p&gt;ï¼ˆå€Ÿç”¨ColBERTè®ºæ–‡ä¸­çš„æ’å›¾ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/rag_toolkits/rag_retrieval_colbert.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;æƒ³è¦ç†è§£late-interactionï¼Œéœ€è¦å…ˆç†è§£è¿‡å»çš„ä¸åŒâ€œäº¤äº’â€å½¢å¼ï¼›&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Representation-based Similarity ï¼ˆno-interactionï¼Œembeddingï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯åŒå¡”ï¼Œ queryå’Œdocumentç‹¬ç«‹è®¡ç®—å‡ºä¸€ä¸ªå‘é‡ï¼Œæ¯”è¾ƒä¸¤ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦è·å¾—åˆ†æ•°Sï¼›åœ¨ç”Ÿæˆå„è‡ªçš„å‘é‡å‰ï¼Œ Query å’Œ Document ä¹‹é—´æ²¡æœ‰ä»»ä½•ä¿¡æ¯äº¤äº’ï¼Œæ‰€æœ‰å¤æ‚çš„è¯­ä¹‰éƒ½è¢«å‹ç¼©è¿›äº†ä¸€ä¸ªå•ä¸€çš„å‘é‡ä¸­ï¼ˆä¹Ÿå°±å­˜åœ¨ä¿¡æ¯å‹ç¼©çš„æŸå¤±å’Œç“¶é¢ˆï¼‰&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹é€Ÿåº¦æå¿«ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œç²¾åº¦æœ‰é™ï¼Œæ‰€æœ‰ä¿¡æ¯è¢«å‹ç¼©åˆ°ä¸€ä¸ªå‘é‡ä¸­ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;All-to-all Interaction ï¼ˆcross-encoderï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›®å‰ä¸»æµåŸºäºBERT å®ç°çš„Reranker / Cross-Encoder&lt;/p&gt;
&lt;p&gt;å°†æŸ¥è¯¢å’Œæ–‡æ¡£æ‹¼æ¥æˆÂ &lt;code&gt;[CLS] query_tokens [SEP] document_tokens [SEP]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥åˆ° BERT æ¨¡å‹ä¸­ï¼Œ&lt;code&gt;[CLS]&lt;/code&gt;Â ç‰¹æ®Šæ ‡è®°æœ€ç»ˆè¾“å‡ºå‘é‡ï¼Œå°†å‘é‡è¾“å…¥ä¸€ä¸ªlinear layerä¸­ï¼Œ ä»è€Œè·å¾—è·å¾—ä¸€ä¸ª0ï½1é—´çš„æ ‡é‡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ˜¯åœ¨å…¥å£å¤„åšçš„äº¤äº’ï¼Œäºæ˜¯ä¹Ÿè¢«ç§°ä¸ºâ€œEarly, Deep, All-to-all Interactionâ€&lt;/p&gt;
&lt;p&gt;ç›®å‰è€Œè¨€æ•ˆæœæ¯”è¾ƒå¥½çš„æ’åºæ–¹æ¡ˆï¼Œä»£ä»·æ˜¯è®¡ç®—é€Ÿåº¦æ…¢&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;Late Interaction ï¼ˆ&lt;strong&gt;ColBERT&lt;/strong&gt;ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æŸ¥è¯¢å’Œæ–‡æ¡£æ˜¯&lt;strong&gt;ç‹¬ç«‹ã€å¹¶è¡Œ&lt;/strong&gt;åœ°é€šè¿‡ BERT ç¼–ç å™¨è¿›è¡Œç¼–ç ï¼Œç”Ÿæˆå„è‡ªçš„tokençº§åˆ«å‘é‡è¡¨ç¤º&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„æ–‡æ¡£è§£ææ–¹æ¡ˆï¼ˆ2025ç‰ˆï¼‰</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/</link>
      <pubDate>Wed, 12 Mar 2025 16:44:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/#smoldocling&#34;&gt;Updated on 2025-03-29: Add SmolDocling &amp;amp; VLM Summary&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æŠ€æœ¯è¿­ä»£é€Ÿåº¦ä¹‹å¿«ä»¤äººæƒŠå¹ï¼Œå‰ä½œ &lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/&#34;&gt;RAGå·¥å…·ç®±ï¼šæ–‡æ¡£è§£æä¸è¡¨æ ¼å¤„ç†&lt;/a&gt; åœ¨çŸ­çŸ­æ•°æœˆå†…å·²æ˜¾ç°å‡ºä»£é™…å·®è·ï¼Œå°½ç®¡å‰ä½œä¹Ÿä»…ä»…åªæ˜¯æŠ›ç –å¼•ç‰å¼åœ°è®¨è®ºäº†pdfçš„è§£ææ–¹æ¡ˆï¼Œä¸è¿‡åœ¨æ–°æŠ€æœ¯çš„é¢å‰ï¼Œæ—¢æœ‰çš„å¤æ‚è§£ææ¶æ„é€æ¸å¤±å»å­˜åœ¨ä»·å€¼ï¼Œä¹Ÿè¢«ç«¯åˆ°ç«¯èŒƒå¼æ‰€å–ä»£ã€‚åœ¨ç¬”è€…çœ‹æ¥ï¼ŒåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„ç«¯åˆ°ç«¯æ–‡æ¡£è§£ææ–¹æ¡ˆï¼Œå°†æˆä¸ºæœ€ä¼˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ¢è®¨æ–‡æ¡£è§£æçš„ç»ˆæå½¢æ€â€”â€”åŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆVLMï¼‰çš„è§£ææŠ€æœ¯ï¼ŒåŒ…æ‹¬Mistral-OCRã€OlmOCRç­‰å‰æ²¿å·¥å…·çš„å®ç°ä¸å®è·µï¼Œå¹¶å±•æœ›è¯¥é¢†åŸŸçš„æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼Œå’Œå¯¹äºRAGçš„å½±å“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿‡å»çš„æŠ€æœ¯æ ˆæ€»ç»“&#34;&gt;è¿‡å»çš„æŠ€æœ¯æ ˆæ€»ç»“&lt;/h2&gt;
&lt;p&gt;åœ¨RAGç³»ç»Ÿä¸­ï¼Œæ–‡æ¡£è§£æè´¨é‡ç›´æ¥å†³å®šç³»ç»Ÿä¸Šé™ã€‚ä¸åŒåœºæ™¯ä¸‹çš„æ–‡æ¡£å½¢æ€å·®å¼‚æ˜¾è‘—ï¼Œè‹¥ä¸èƒ½æœ‰æ•ˆè§£å†³&amp;quot;garbage in, garbage out&amp;quot;çš„è¾“å…¥è´¨é‡é—®é¢˜ï¼Œåç»­å¤„ç†ç¯èŠ‚å°†éš¾ä»¥å‘æŒ¥åº”æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿæ–‡æ¡£è§£ææŠ€æœ¯é•¿æœŸå—é™äºä»¥ä¸‹æ ¸å¿ƒç—›ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç»“æ„åŒ–ä¿¡æ¯ç¼ºå¤±ï¼šæ— æ³•å‡†ç¡®è¯†åˆ«æ–‡æ¡£æ ‡é¢˜ã€å‰¯æ ‡é¢˜ç­‰å±‚çº§ç»“æ„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹æ®Šå†…å®¹å¤„ç†è–„å¼±ï¼šæ•°å­¦å…¬å¼ã€ä¸“ä¸šç¬¦å·è§£æå‡†ç¡®ç‡ä½ä¸‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤æ‚è¡¨æ ¼è§£æå›°å¢ƒï¼šè·¨é¡µè¡¨æ ¼ã€åˆå¹¶å•å…ƒæ ¼ç­‰åœºæ™¯æ”¯æŒä¸è¶³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾åƒä¿¡æ¯æå–ç“¶é¢ˆï¼šæ‰«ææ–‡æ¡£ã€æ‰‹å†™ä½“è¯†åˆ«æ•ˆæœæ¬ ä½³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰ˆå¼é€‚åº”æ€§é—®é¢˜ï¼šå¤šæ å¸ƒå±€ã€å½±å°ç‰ˆæœ¬ç­‰æ–‡æ¡£æ ¼å¼å…¼å®¹æ€§å·®&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»æŠ€æœ¯è§’åº¦ï¼Œè¿‡å»æ–‡æ¡£è§£æçš„åº•å±‚é€»è¾‘å’Œæ¡†æ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;çº¯æ–‡æœ¬è§£æ: &lt;code&gt;PyPDF&lt;/code&gt;, &lt;code&gt;PyMuPDF&lt;/code&gt;åªèƒ½è§£æpdfä¸­çš„æ–‡å­—,å¯¹äºå…¬å¼è¡¨æ ¼å’Œå¤æ‚æ’ç‰ˆè§£ææ— èƒ½,å¯¹äºæ‰«æç‰ˆä½è´¨é‡çš„pdfæ— èƒ½ä¸ºåŠ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OCRæ–¹æ¡ˆï¼ˆPaddleOCRç­‰ï¼‰: é¦–å…ˆä½¿ç”¨ç›®æ ‡æ£€æµ‹æ¨¡å‹å¯¹æ–‡æ¡£å¸ƒå±€è¿›è¡Œåˆ†æï¼Œè¯†åˆ«å‡ºæ ‡é¢˜ã€è¡¨æ ¼ç­‰å…³é”®å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨è¿™äº›ä½ç½®ä¸Šä½¿ç”¨OCRæŠ€æœ¯æå–æ–‡å­—ï¼›ç”±äºéœ€è¦è°ƒç”¨å¤šä¸ªæ¨¡å‹ï¼Œæ•´å¥—ç³»ç»Ÿéå¸¸å¤æ‚ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºäºtransformer çš„è§£ææ–¹æ¡ˆï¼ˆä»£è¡¨: Dount, Nougatï¼‰ï¼šä¸“é—¨é’ˆå¯¹è‹±æ–‡çš„å­¦æœ¯æ–‡ç« åšçš„è®­ç»ƒ, èƒ½å¤Ÿå°†pdfæ–‡ç« æ•´ç†æˆMarkdownæˆ–Latexæ ¼å¼ï¼›ä½†å¯¹äºå…¶ä»–è¯­è¨€å’Œå…¶ä»–ç±»å‹çš„æ–‡æ¡£æ³›åŒ–æ•ˆæœå¾ˆå·®ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éšç€æ¨¡å‹èƒ½åŠ›æå‡ï¼Œé‡‡ç”¨VLMåšè§£ææ˜¯éå¸¸è‡ªç„¶çš„æƒ³æ³•ï¼Œå°½ç®¡GPT-4oçš„å‘å¸ƒä½¿è¯¥æŠ€æœ¯è·å¾—å¹¿æ³›å…³æ³¨ï¼Œä½†å…¶é«˜æ˜‚çš„APIæˆæœ¬åˆ¶çº¦äº†å®é™…åº”ç”¨ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå¼€æºç¤¾åŒºçš„æŠ€æœ¯çªç ´æ­£åœ¨æ”¹å˜è¿™ä¸€å±€é¢ï¼šä¸è®ºæ˜¯LLMåŸºåº§æ¨¡å‹å¤šæ¨¡æ€ç†è§£èƒ½åŠ›çš„å¢å¼ºï¼Œè¿˜æ˜¯è§†è§‰ç¼–ç å™¨çš„æå‡ï¼Œè‡³å°‘åœ¨å½“ä¸‹ï¼Œå¼€æºVLMå·²å…·å¤‡å®ç”¨çº§æ–‡æ¡£è§£æèƒ½åŠ›ï¼Œè€Œæ— éœ€é’ˆå¯¹ä¸‹æ¸¸ä»»åŠ¡çš„å¾®è°ƒï¼ŒåŒæ—¶æˆæœ¬ä¸Šå·²ç»åœ¨å¯æ¥å—èŒƒå›´äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;benchmark&#34;&gt;Benchmark&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ¨¡å‹æ˜¯å¦é€‚åˆDocument Parsingï¼Œéœ€è¦benchmarkæµ‹è¯•åˆ†æ•°ï¼Œä½œä¸ºæ¨¡å‹æŒ‘é€‰çš„æ ‡å‡†ã€‚&lt;/p&gt;
&lt;p&gt;ç°é˜¶æ®µï¼Œé’ˆå¯¹LLMsåœ¨OCRã€æ–‡æ¡£ä¿¡æ¯æå–åœºæ™¯ä¸‹ä¸»è¦é‡‡ç”¨ä»¥ä¸‹å‡ ä¸ªå¸¸è§çš„bench&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/spaces/echo840/ocrbench-leaderboard&#34;&gt;OCRBench&lt;/a&gt;ã€&lt;a href=&#34;https://huggingface.co/spaces/ling99/OCRBench-v2-leaderboard&#34;&gt;OCRBench-V2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/opendatalab/OmniDocBench&#34;&gt;OmniDocBench&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://arxiv.org/abs/2412.02210&#34;&gt;CC-OCR&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;â€¦and more&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆå…³äºbenchmarkçš„å…·ä½“å†…å®¹è§é™„å½•ï¼‰&lt;/p&gt;
&lt;p&gt;è¿™äº›benchéƒ½åŸºæœ¬ä¸ŠåŒ…å«äº†é€šç”¨åœºæ™¯ä¸‹çš„OCRèƒ½åŠ›ï¼Œ å¤šè¯­è¨€çš„æ–‡æ¡£è§£æèƒ½åŠ›çš„æµ‹è¯•ï¼Œèƒ½å¤Ÿä¸€å®šç¨‹åº¦ä¸Šä½œä¸ºæ¨¡å‹ç­›é€‰çš„å…³æ³¨é¦–é€‰&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†æ¨¡å‹èƒ½åŠ›ä»¥å¤–ï¼Œè¿˜éœ€è¦å…³æ³¨æ¨¡å‹çš„å‚æ•°é‡ï¼Œå› ä¸ºä¸å…¶æˆæœ¬å’Œlatencyæ¯æ¯ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…·ä½“åœºæ™¯ï¼Œè¿˜æ˜¯éœ€è¦æ„å»ºè‡ªå·±çš„æµ‹è¯•é›†ç”¨äºåˆ¤æ–­æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿèƒœä»»ä»»åŠ¡ï¼Œ å› ä¸ºbenchmarkæ‰€åŒ…å«çš„æµ‹è¯•åœºæ™¯æ•°æ®ï¼Œåˆ†å¸ƒè¯­è¨€ç­‰ç­‰å’Œå…·ä½“çš„åœºæ™¯ä¸è§å¾—å®Œå…¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®benchmarkå’Œå®é™…æµ‹è¯•ç»“æœï¼Œç›®å‰å‡ ä¸ªå€¼å¾—å…³æ³¨çš„å¼€æºVLMï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://huggingface.co/collections/Qwen/qwen25-vl-6795ffac22b334a837c0f9a5&#34;&gt;Qwen2.5-VL&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/microsoft/Phi-4-multimodal-instruct&#34;&gt;Phi-4-multimodal&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/meta-llama/Llama-3.2-90B-Vision-Instruct&#34;&gt;Llama 3.2 Vision&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/allenai/olmOCR-7B-0225-preview&#34;&gt;olmocr&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;and more â€¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;qwen25-vlç³»åˆ—æ¨¡å‹&#34;&gt;Qwen2.5-VLç³»åˆ—æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/QwenLM/Qwen2.5-VL/tree/main/cookbooks&#34;&gt;cookbook&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://qwenlm.github.io/zh/blog/qwen2.5-vl/&#34;&gt;Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://arxiv.org/abs/2502.13923&#34;&gt;Technical Report&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯å¼€æºçš„æ¨¡å‹ä¸­ï¼Œæ•ˆæœæ’å‰åˆ—çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆæˆªæ­¢è‡³ä»Šï¼‰ï¼ŒåŒæ—¶è¿˜å…·å¤‡äº†å¤šç§å‚æ•°é‡ï¼ˆ3Bï¼Œ7Bï¼Œ72Bï¼‰å¯é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Technical Report ä¸­ä¸€äº›å’Œdocument-parseæœ‰å…³çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€é˜¶æ®µè§†è§‰é¢„è®­ç»ƒä¸­ï¼ˆä»…è®­ç»ƒViTï¼‰ï¼Œé’ˆå¯¹&lt;strong&gt;Document Parsing&lt;/strong&gt;ï¼Œè®¾è®¡äº†&lt;strong&gt;ä¸€å¥—æ ‡å‡†åŒ–çš„HTMLæ ‡ç­¾ä½“ç³»&lt;/strong&gt;ï¼ŒåŒ…å«ï¼šæ®µè½ï¼ˆ&lt;code&gt;p&amp;gt;&lt;/code&gt;ï¼‰ã€è¡¨æ ¼ï¼ˆ&lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt;ï¼‰ã€å›¾è¡¨ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;chart&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€å…¬å¼ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;formula&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€å›¾åƒæ ‡æ³¨ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;image caption&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€OCRæ–‡æœ¬ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;image ocr&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€ä¹è°±ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;music sheet&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€åŒ–å­¦å¼ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;chemical formula&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ç­‰æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—å‡é€šè¿‡Â &lt;code&gt;data-bbox&lt;/code&gt;Â å±æ€§æ ‡æ³¨å…¶åŸå§‹åæ ‡ä½ç½®ï¼Œä¿ç•™ç©ºé—´å¸ƒå±€ä¿¡æ¯; åŒæ—¶æ‰€æœ‰æ–‡æ¡£å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ï¼ˆå¦‚ä½ç½®ã€å°ºå¯¸ï¼‰é€šè¿‡åŸç”Ÿåˆ†è¾¨ç‡ä¸‹çš„ç»å¯¹åæ ‡ç›´æ¥ç¼–ç åˆ°HTMLæ ‡ç­¾ä¸­ï¼Œä½¿æ¨¡å‹èƒ½åŒæ—¶å­¦ä¹ å†…å®¹è¯­ä¹‰å’Œç©ºé—´å…³ç³»&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šRAG Tutorial for Beginner</title>
      <link>https://niraya666.github.io/posts/rag-tutorial-for-beginner/</link>
      <pubDate>Tue, 11 Mar 2025 19:24:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag-tutorial-for-beginner/</guid>
      <description>&lt;p&gt;ä¸€äº›é€‚åˆå…¥é—¨çš„RAGææ–™&lt;/p&gt;
&lt;h2 id=&#34;åŸç†ç§‘æ™®&#34;&gt;åŸç†ã€ç§‘æ™®&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.promptingguide.ai/research/rag&#34;&gt;Retrieval Augmented Generation (RAG) for LLMs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/concepts/rag/&#34;&gt;Langchain|Retrieval augmented generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://cameronrwolfe.substack.com/p/a-practitioners-guide-to-retrieval&#34;&gt;A Practitioners Guide to Retrieval Augmented Generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.typingmind.com/rag-for-beginners/&#34;&gt;RAG for Beginners: The Complete Guide to Retrieval Augmented Generation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.datacamp.com/blog/what-is-retrieval-augmented-generation-rag&#34;&gt;What is Retrieval Augmented Generation (RAG)?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/concepts/rag/&#34;&gt;Retrieval augmented generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ€è€ƒé¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Why RAGï¼Ÿ RAGè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼ŸRAGå’ŒSFTå¦‚ä½•é€‰æ‹©ï¼ŸRAGçš„ä¼˜åŠ¿ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»€ä¹ˆæ ·çš„é—®é¢˜æ˜¯RAGæ— æ³•è§£å†³çš„ï¼Ÿä»€ä¹ˆæ ·çš„æ•°æ®é€‚åˆä½¿ç”¨RAG&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦åšchunkingï¼Ÿchunk-sizeå—é‚£äº›å› ç´ åˆ¶çº¦ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯embeddingï¼Ÿå‘é‡åº“åœ¨åšä»€ä¹ˆï¼Ÿä¸€å®šè¦åšè¯­ä¹‰åŒ¹é…å—ï¼Ÿä»€ä¹ˆæ˜¯rerankingï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•evaluate æ£€ç´¢æ•ˆæœçš„å¥½å ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RAGä¸­ï¼ŒLLMsèµ·åˆ°çš„ä½œç”¨ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hands-on&#34;&gt;Hands-On&lt;/h2&gt;
&lt;h3 id=&#34;å‰ç½®ä»»åŠ¡&#34;&gt;å‰ç½®ä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;è·å–æ¨¡å‹æœåŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·å¾—LLMsä¾›åº”å•†APIï¼š æ¨è OpenRouterï¼ˆä»…LLMsï¼Œéœ€è¦æ¢¯å­ï¼Œå¢ƒå¤–ä¿¡ç”¨å¡æˆ–Cryptoï¼‰ï¼ŒSilconFlowï¼ˆLLMs+embedding,æ— éœ€æ¢¯å­,æœ‰é€tokenï¼‰ï¼ŒGroqï¼ˆä»…LLMs, éœ€æ¢¯å­ï¼Œé€Ÿåº¦å¿«ï¼Œå…è´¹ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ–é‡‡ç”¨æœ¬åœ°éƒ¨ç½²ï¼š æ¨è&lt;a href=&#34;https://ollama.com/&#34;&gt;Ollama&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­,é‡‡ç”¨openRouter APIå®ç°LLMå¯¹è¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;openai&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenAI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenAI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;base_url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;api_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;OPENROUTER_API_KEY&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;completions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;openai/gpt-4o&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;What is the meaning of life?&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¾‹å­ï¼šåŸºäºæœ¬åœ°ollamaå¯åŠ¨çš„deepseek R1ï¼ˆè’¸é¦ç‰ˆæœ¬ï¼‰å¯¹è¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šQuery Enhancement</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1query-enhancement/</link>
      <pubDate>Thu, 31 Oct 2024 16:04:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1query-enhancement/</guid>
      <description>&lt;h2 id=&#34;å¼•è¨€&#34;&gt;å¼•è¨€&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œä»æœ€ç®€å•çš„RAGï¼ˆRetrieval-Augmented Generationï¼‰è°ˆèµ·ã€‚&lt;/p&gt;
&lt;p&gt;RAGç»“åˆäº†ä¿¡æ¯æ£€ç´¢ä¸ç”Ÿæˆæ¨¡å‹ï¼Œå…ˆé€šè¿‡ç”¨æˆ·çš„åŸå§‹é—®é¢˜query åœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¸ç›¸å…³çš„æ–‡æ¡£ï¼Œå†åˆ©ç”¨ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ChatGPTï¼‰ç”Ÿæˆå›ç­”ã€‚æœ€ç®€å•çš„RAGç‰ˆæœ¬é€šå¸¸è¢«ç§°ä¸ºNaive-RAGï¼Œè™½ç„¶Naive-RAGèƒ½å¤Ÿå¤„ç†ä¸€äº›ç®€å•çš„é—®é¢˜ï¼Œä½†åœ¨çœŸå®åœºæ™¯ä¸‹ï¼Œç”¨æˆ·æå‡ºçš„é—®é¢˜å¾€å¾€æ›´åŠ å¤æ‚å¤šæ ·ï¼Œè¿œè¿œè¶…å‡ºç³»ç»Ÿæœ€åˆè®¾è®¡çš„é¢„æœŸèŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç”¨æˆ·ä¸RAGç³»ç»Ÿäº¤äº’æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§å¸¸è§é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡¨è¾¾æ¨¡ç³Šä¸æ¸…&lt;/strong&gt;ï¼šç”¨æˆ·åœ¨æè¿°é—®é¢˜æ—¶ï¼Œå¾€å¾€éš¾ä»¥ç²¾å‡†è¡¨è¾¾è‡ªå·±çš„éœ€æ±‚ã€‚ä»–ä»¬å¯èƒ½ä»…ä½¿ç”¨å‡ ä¸ªè¯ç»„æˆ–ç‰‡æ®µï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç†è§£ç”¨æˆ·çš„çœŸå®æ„å›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¾èµ–ä¸Šä¸‹æ–‡&lt;/strong&gt;ï¼šç”¨æˆ·çš„é—®é¢˜ç»å¸¸ä¾èµ–ä¹‹å‰çš„å¯¹è¯æˆ–èƒŒæ™¯ä¿¡æ¯ï¼Œè€Œç³»ç»Ÿåªæ¥æ”¶åˆ°å½“å‰çš„å­¤ç«‹é—®é¢˜ï¼Œç¼ºå°‘å…³é”®çš„ä¸Šä¸‹æ–‡æ”¯æŒï¼Œæ— æ³•ç»™å‡ºå‡†ç¡®çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤æ‚å¤šå±‚æ¬¡é—®é¢˜&lt;/strong&gt;ï¼šæŸäº›é—®é¢˜æœ¬èº«å¤æ‚ï¼ŒåŒ…å«å¤šä¸ªå­é—®é¢˜æˆ–éœ€è¦æ¨ç†ã€é€»è¾‘åˆ†æã€‚Naive-RAGä¾èµ–ç®€å•çš„å…³é”®è¯åŒ¹é…æˆ–è¯­ä¹‰åŒ¹é…ï¼Œæ— æ³•å¾ˆå¥½åœ°å¤„ç†è¿™ç±»å¤æ‚çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/RAG%e5%b7%a5%e5%85%b7%e7%ae%b1%ef%bc%9aQuery%20Enhancement-assets/image.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;é¢å¯¹è¿™äº›æŒ‘æˆ˜ï¼ŒNaive-RAGçš„å±€é™æ€§å˜å¾—æ˜æ˜¾ï¼šä»…ä»…ä¾é ç”¨æˆ·çš„åŸå§‹queryæ— æ³•åº”å¯¹å¤šæ ·åŒ–çš„æé—®åœºæ™¯ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æå‡RAGç³»ç»Ÿçš„æ£€ç´¢èƒ½åŠ›ï¼Œå¢å¼ºå¯¹å¤æ‚é—®é¢˜çš„å¤„ç†å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦å¼•å…¥&lt;strong&gt;Query-Enhancement&lt;/strong&gt;æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Query-Enhancement&lt;/strong&gt;ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¯¹ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œå¢å¼ºå¤„ç†ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸è¦ç›´æ¥ä½¿ç”¨ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œç›¸å…³æ–‡æ¡£çš„æ£€ç´¢ï¼Œè€Œæ˜¯é€šè¿‡æŸç§æŠ€æœ¯æ‰‹æ®µå¯¹queryè¿›è¡Œæ”¹å†™ã€æ‰©å±•æˆ–ä¼˜åŒ–ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªæ›´é€‚åˆæ£€ç´¢çš„queryã€‚è¿™ç§æŠ€æœ¯åœ¨ä¸åŒåœºæ™¯ä¸‹æœ‰ä¸åŒçš„å‘½åï¼Œå¦‚&lt;strong&gt;query rewrite&lt;/strong&gt;æˆ–&lt;strong&gt;query reformulation&lt;/strong&gt;ï¼Œä½†æ ¸å¿ƒç›®æ ‡éƒ½æ˜¯ä¸€è‡´çš„â€”â€”æ ¹æ®ç”¨æˆ·çš„åˆå§‹è¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚ã€æ›´èƒ½æå‡æŸ¥è¯¢å‡†ç¡®æ€§çš„æ–°queryã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡Query-Enhancementï¼Œå¯ä»¥è§£å†³è®¸å¤šNaive-RAGæ— æ³•å¤„ç†çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œé’ˆå¯¹æ¨¡ç³Šæˆ–ç®€çŸ­çš„æé—®ï¼Œå¢å¼ºåçš„queryå¯ä»¥é€šè¿‡æ·»åŠ ä¸Šä¸‹æ–‡æˆ–å…³é”®è¯æ¥ä¸°å¯Œä¿¡æ¯å†…å®¹ï¼›å¯¹äºå¤æ‚çš„å¤šå±‚æ¬¡é—®é¢˜ï¼Œå¢å¼ºåçš„queryå¯ä»¥æ‹†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ï¼Œé€æ­¥è¿›è¡Œæ£€ç´¢ä¸æ¨ç†ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ä¸åŒçš„Query-EnhancementæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶åˆ†æè¿™äº›æŠ€æœ¯å¦‚ä½•æ ¹æ®åŸå§‹queryç”Ÿæˆæ›´é«˜æ•ˆçš„æŸ¥è¯¢ï¼Œå¸®åŠ©RAGç³»ç»Ÿåœ¨å¤æ‚åœºæ™¯ä¸‹æä¾›æ›´ç²¾ç¡®çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;query-rewrite&#34;&gt;Query Rewrite&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Because the original query can not be always optimal to retrieve for the LLM, especially in the real world&amp;hellip; we first prompt an LLM to rewrite the queries, then conduct retrieval-augmented reading.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Query Rewriteçš„ç›®çš„æ˜¯å°†ç”¨æˆ·æ¨¡ç³Šã€ä¸æ˜ç¡®æˆ–ä¸å®Œæ•´çš„æŸ¥è¯¢è½¬æ¢ä¸ºæ›´é€‚åˆæ£€ç´¢çš„å½¢å¼ï¼Œä»¥æå‡æ£€ç´¢æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä»…ä½¿ç”¨åŸå§‹queryçš„ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢å¸¸å¸¸æ¨¡ç³Šã€ä¸å…·ä½“æˆ–ä¸å®Œæ•´ï¼Œå¯¼è‡´éš¾ä»¥æ‰¾åˆ°æœ‰æ•ˆçš„æ£€ç´¢ç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºä¹æ˜ç¡®æœ¯è¯­ï¼Œæ— æ³•æœ‰æ•ˆä»å¤§å‹æ•°æ®é›†ä¸­æå–ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹è¯ä¸Šä¸‹æ–‡ä¸­çš„æŸ¥è¯¢å«ä¹‰å› å¯¹è¯å†å²è€Œå¼‚ï¼ŒåŒæ ·çš„è¡¨è¾¾åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¯èƒ½æœ‰ä¸åŒçš„æ„å›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¾“å…¥æ–‡æœ¬ä¸çœŸæ­£éœ€è¦æ£€ç´¢çš„çŸ¥è¯†ä¹‹é—´ä¸å¯é¿å…åœ°å­˜åœ¨å·®è·ã€‚è¿™ç§å·®è·é™åˆ¶äº†æ£€ç´¢æ€§èƒ½ï¼Œå¢åŠ äº†å¯¹æ£€ç´¢èƒ½åŠ›å¢å¼ºå’Œæç¤ºå·¥ç¨‹çš„ä¾èµ–ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæ£€ç´¢å™¨ä¹‹å‰å¢åŠ äº†ä¸€æ­¥å¯¹è¾“å…¥è¿›è¡Œæ”¹å†™çš„è¿‡ç¨‹ï¼Œå¡«è¡¥ç»™å®šè¾“å…¥ä¸æ£€ç´¢éœ€æ±‚ä¹‹é—´çš„å·®è·ã€‚è¿™ä¸€æ­¥åˆ©ç”¨äº†LLMæœ¬èº«çš„èƒ½åŠ›å¯¹åŸå§‹æŸ¥è¯¢è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„æ”¹å†™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/RAG%e5%b7%a5%e5%85%b7%e7%ae%b1%ef%bc%9aQuery%20Enhancement-assets/image%201.png&#34; alt=&#34;image 1.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œæ¥è‡ª&lt;a href=&#34;https://github.com/NirDiamant/RAG_Techniques/blob/main/all_rag_techniques_runnable_scripts/query_transformations.py&#34;&gt;RAG_Techniques&lt;/a&gt; çš„è¿™æ®µpromptï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;query_rewrite_template&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;You are an AI assistant tasked with reformulating user queries to improve retrieval in a RAG system. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Given the original query, rewrite it to be more specific, detailed, and likely to retrieve relevant information.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Original query: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{original_query}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Rewritten query:&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿LLMå¯ä»¥æ›´åŠ ç³»ç»Ÿåœ°å°†ç”¨æˆ·çš„åŸå§‹æŸ¥è¯¢æ”¹å†™ä¸ºæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚çš„å½¢å¼ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ£€ç´¢</title>
      <link>https://niraya666.github.io/posts/rag%E6%A3%80%E7%B4%A2/</link>
      <pubDate>Thu, 25 Jul 2024 17:08:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E6%A3%80%E7%B4%A2/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;If you want to make a good RAG tool that uses your documentation, you should start by making a search engine over those documents that would be good enough for a human to use themselves. This is likely something your organization has considered before, and if it doesnâ€™t exist itâ€™s because building a good search engine has traditionally been a significant undertaking.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€” from &lt;a href=&#34;https://blog.elicit.com/search-vs-vector-db/&#34;&gt;Build a search engine, not a vector DB&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ–‡æœ¬åˆ†å—</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%9C%AC%E5%88%86%E5%9D%97/</link>
      <pubDate>Wed, 15 May 2024 16:11:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%9C%AC%E5%88%86%E5%9D%97/</guid>
      <description>&lt;h2 id=&#34;ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ–‡æœ¬åˆ†å—&#34;&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ–‡æœ¬åˆ†å—ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’ŒåµŒå…¥å¼æ¨¡å‹éƒ½æœ‰å…¶å¤„ç†æ–‡æœ¬çš„é•¿åº¦é™åˆ¶ã€‚ä¸ºäº†æœ‰æ•ˆå¤„ç†è¶…å‡ºè¿™äº›é™åˆ¶çš„é•¿æ–‡æœ¬ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ–‡æœ¬åˆ†å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•è¿›è¡Œæ–‡æœ¬åˆ†å—&#34;&gt;&lt;strong&gt;å¦‚ä½•è¿›è¡Œæ–‡æœ¬åˆ†å—&lt;/strong&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;**å—åˆ†å‰²æˆ’å¾‹ï¼š**æˆ‘ä»¬çš„ç›®æ ‡ä¸ä»…ä»…æ˜¯ä¸ºäº†åˆ’åˆ†æ•°æ®å—ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¦ä»¥ä¸€ç§ä¾¿äºæ—¥åæ£€ç´¢å’Œæå–ä»·å€¼çš„æ ¼å¼æ¥æ•´ç†æˆ‘ä»¬çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ–‡æœ¬åˆ†å—çš„æ ¹æœ¬ç›®çš„ä¸ä»…ä»…æ˜¯ç®€å•åœ°å°†æ•°æ®åˆ†å‰²æˆå—ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¦ä»¥ä¾¿äºæ£€ç´¢å’Œæå–ä»·å€¼çš„æ–¹å¼æ¥ç»„ç»‡è¿™äº›æ•°æ®å—ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„åˆ†å—é€»è¾‘ï¼š&lt;/p&gt;
&lt;h3 id=&#34;å¥å­åˆ†å‰²sentence-splitting&#34;&gt;&lt;strong&gt;å¥å­åˆ†å‰²ï¼ˆSentence Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•åªæ˜¯ç®€å•åœ°å°†æ–‡æœ¬åˆ‡åˆ†æˆNä¸ªå­—ç¬¦çš„ç‰‡æ®µï¼Œä¸è€ƒè™‘å†…å®¹æˆ–å½¢å¼çš„è¿è´¯æ€§ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ä½ çš„æ–‡æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;langchain.text_splitter&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CharacterTextSplitter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CharacterTextSplitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;separator&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_overlap&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_documents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²recursive-character-text-splitting&#34;&gt;&lt;strong&gt;é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²ï¼ˆRecursive Character Text Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•é¦–å…ˆå°è¯•ç”¨ä¸€ä¸ªåˆ†éš”ç¬¦å°†æ–‡æœ¬åˆ‡åˆ†æˆå°å—ã€‚å¦‚æœåˆå§‹å°è¯•æœªèƒ½è¾¾åˆ°é¢„æœŸçš„å—å¤§å°æˆ–ç»“æ„ï¼Œå°±é€’å½’åœ°ç”¨ä¸åŒçš„åˆ†éš”ç¬¦é‡æ–°åˆ†å‰²ç»“æœå—ï¼Œç›´åˆ°å¾—åˆ°æ»¡æ„çš„ç»“æœã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ä½ çš„æ–‡æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;langchain.text_splitter&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RecursiveCharacterTextSplitter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RecursiveCharacterTextSplitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_overlap&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_documents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¹æ®langchain çš„&lt;a href=&#34;https://github.com/langchain-ai/langchain/blob/9ef2feb6747f5a69d186bd623b569ad722829a5e/libs/langchain/langchain/text_splitter.py#L842&#34;&gt;é»˜è®¤åˆ†éš”æ¡ä»¶&lt;/a&gt; &lt;code&gt;[&amp;quot;\n\n&amp;quot;, &amp;quot;\n&amp;quot;, &amp;quot; &amp;quot;, &amp;quot;&amp;quot;]&lt;/code&gt; ,ä¹Ÿå°±æ˜¯ä¼šå°†textæ ¹æ®è¯¥åˆ†å‰²æ¡ä»¶çš„é¡ºåºï¼ˆä¸¤ä¸ªæ¢è¡Œ-&amp;gt;ä¸€ä¸ªæ¢è¡Œ-&amp;gt;ç©ºæ ¼ï¼‰å°†æ–‡æœ¬è¿›è¡Œé€’å½’åˆ†å‰²ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é’ˆå¯¹ç‰¹å®šæ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•document-specific-splitting&#34;&gt;&lt;strong&gt;é’ˆå¯¹ç‰¹å®šæ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•ï¼ˆDocument Specific Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ä¾‹å¦‚é’ˆå¯¹Markdownæˆ–Pythonä»£ç çš„åˆ†å‰²ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥æ ¹æ®æ–‡æ¡£çš„ç»“æ„æ¥è¿›è¡Œåˆ†å‰²ï¼Œå¦‚ç±»å®šä¹‰æˆ–Markdownæ ‡é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;langchain æä¾›äº†ä¸€äº›å¸¸è§æ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;mardownçš„åˆ†å‰²é€»è¾‘&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# First, try to split along Markdown headings (starting with level 2)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;#{1,6} &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Note the alternative syntax for headings (below) is not handled here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Heading level 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# ---------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# End of code block&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;```&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Horizontal lines&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;---+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;___+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Note that this splitter doesn&amp;#39;t handle horizontal lines defined&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# by *three or more* of ***, ---, or ___, but this is not handled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;pythonçš„åˆ†å‰²é€»è¾‘ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ–‡æ¡£è§£æä¸è¡¨æ ¼å¤„ç†</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/</link>
      <pubDate>Sat, 20 Apr 2024 17:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/</guid>
      <description>&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/post-cover/rag_toolkits_2.JPG&#34; alt=&#34;image&#34;  /&gt;
&lt;/p&gt;
&lt;h2 id=&#34;å¼•è¨€&#34;&gt;&lt;strong&gt;å¼•è¨€&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ä¿¡æ¯åŒ–æ—¶ä»£ï¼Œæ•°æ®å’ŒçŸ¥è¯†çš„å¿«é€Ÿæå–å˜å¾—å°¤ä¸ºé‡è¦ã€‚ç‰¹åˆ«æ˜¯å¯¹äºå­¦æœ¯å’ŒæŠ€æœ¯æ–‡æ¡£ï¼Œå¦‚ä½•ä»æ ¼å¼ä¸°å¯Œä¸”ç»“æ„å¤æ‚çš„PDFæ–‡ä»¶ä¸­å‡†ç¡®åœ°æå–ä¿¡æ¯ï¼Œæ˜¯æé«˜ç ”ç©¶æ•ˆç‡çš„å…³é”®ã€‚æœ¬æ–‡å°†æ¢è®¨å‡ ç§å…ˆè¿›çš„æŠ€æœ¯æ–¹æ³•ï¼Œç”¨äºä¼˜åŒ–å­¦æœ¯è®ºæ–‡çš„PDFè§£æåŠå…¶è¡¨æ ¼å†…å®¹çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ–‡æ¡£è§£æï¼Œ&lt;strong&gt;&lt;code&gt;langchain&lt;/code&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;code&gt;llama_index&lt;/code&gt;&lt;/strong&gt; æä¾›çš„ &lt;strong&gt;&lt;code&gt;document loader&lt;/code&gt;&lt;/strong&gt; èƒ½å¤Ÿæ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹ï¼Œè¦†ç›–ç»å¤§å¤šæ•°æ–‡æ¡£æ ¼å¼çš„éœ€æ±‚ã€‚ä½†å¯¹äºpdfè§£æè€Œè¨€è¿˜å­˜åœ¨ç€ä¸€äº›æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äººç±»ä¸æœºå™¨çš„é˜…è¯»å·®å¼‚&#34;&gt;&lt;strong&gt;äººç±»ä¸æœºå™¨çš„é˜…è¯»å·®å¼‚&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å°½ç®¡PDFæ ¼å¼é€‚åˆäººç±»é˜…è¯»ï¼Œæä¾›äº†ä¼˜ç§€çš„è§†è§‰ä½“éªŒå’Œæ ¼å¼ä¿çœŸï¼Œä½†å®ƒå¹¶ä¸é€‚åˆæœºå™¨é˜…è¯»ã€‚PDFæ–‡ä»¶é€šå¸¸åŒ…å«å¤æ‚çš„å¸ƒå±€å’Œå¤šæ ·çš„å†…å®¹å…ƒç´ ï¼Œå¦‚å¤šåˆ—å¸ƒå±€ã€å…¬å¼å’Œè¡¨æ ¼ï¼Œè¿™äº›éƒ½ç»™è‡ªåŠ¨è§£æå¸¦æ¥äº†æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¸¸è§çš„pdfè§£æé—®é¢˜&#34;&gt;&lt;strong&gt;å¸¸è§çš„PDFè§£æé—®é¢˜&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ä¼ ç»Ÿçš„PDFè§£æåº“å¯èƒ½é‡åˆ°å¤šç§é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¤šåˆ—å¸ƒå±€å¯¼è‡´çš„æ–‡æœ¬æµè¯»å–é”™è¯¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¬å¼å’Œè¡¨æ ¼çš„è§£ææ•ˆæœå·®ï¼Œéš¾ä»¥æ­£ç¡®æå–ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£æè¿‡ç¨‹ä¸­ç»“æ„åŒ–ä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜å’Œåˆ—è¡¨ï¼‰çš„ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½±å°ç‰ˆPDFçš„æ–‡æœ¬æ— æ³•è¢«æ ‡å‡†OCRå·¥å…·è¯†åˆ«ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é«˜çº§è§£ææŠ€æœ¯&#34;&gt;&lt;strong&gt;é«˜çº§è§£ææŠ€æœ¯&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;æ ¹æ®&lt;a href=&#34;https://unstructured.io/&#34;&gt;unstractued&lt;/a&gt;æä¾›çš„æ–¹æ¡ˆï¼Œæ–‡æ¡£è§£æå¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼šç»“æ„åŒ–è§£æå’ŒåŸºäºå›¾åƒçš„è§£æã€‚ç»“æ„åŒ–è§£æä¾§é‡äºä»æ–‡æ¡£ä¸­æå–æ–‡å­—å’Œå…¶å®ƒå­—ç¬¦æ•°æ®ã€‚è€Œå›¾åƒåŸºè§£æåˆ™åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§æŠ€æœ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OCRæŠ€æœ¯&lt;/strong&gt;ï¼šé¦–å…ˆä½¿ç”¨ç›®æ ‡æ£€æµ‹æ¨¡å‹å¯¹æ–‡æ¡£å¸ƒå±€è¿›è¡Œåˆ†æï¼Œè¯†åˆ«å‡ºæ ‡é¢˜ã€è¡¨æ ¼ç­‰å…³é”®å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨è¿™äº›ä½ç½®ä¸Šä½¿ç”¨OCRæŠ€æœ¯æå–æ–‡å­—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸºäºTransformerçš„ç«¯åˆ°ç«¯è§£æ&lt;/strong&gt;ï¼šä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ç›´æ¥å°†å›¾åƒè½¬æ¢ä¸ºç›¸åº”çš„æ–‡å­—å†…å®¹ã€‚åœ¨è¿™æ–¹é¢ï¼Œ&lt;strong&gt;&lt;code&gt;Dount&lt;/code&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;code&gt;Nougat&lt;/code&gt;&lt;/strong&gt; æ¨¡å‹è¡¨ç°å‡ºè‰²ï¼Œå°¤å…¶æ˜¯ &lt;strong&gt;&lt;code&gt;Nougat&lt;/code&gt;&lt;/strong&gt; èƒ½å¤Ÿå°†å›¾åƒä¸­çš„æ–‡ç« æ•´ç†æˆMarkdownæˆ–Latexæ ¼å¼ï¼Œéå¸¸é€‚åˆéœ€è¦ä¿ç•™ç»“æ„ä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜å±‚çº§ã€å…¬å¼å’Œè¡¨æ ¼ï¼‰çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åªå¯æƒœNougatåªé’ˆå¯¹è‹±æ–‡çš„å­¦æœ¯è®ºæ–‡åšäº†è®­ç»ƒï¼Œä½†é‡åˆ°å…¶ä»–è¯­è¨€å¦‚ä¸­æ–‡è®ºæ–‡çš„æ•ˆæœå°±ä¸æ˜¯é‚£ä¹ˆçš„å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://unstructured-io.github.io/unstructured/_images/strategy.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;å¿…é¡»å¼ºè°ƒä¸€ç‚¹çš„æ˜¯ï¼ŒMarkdownæ ¼å¼å› å…¶ç®€æ´æ€§å’Œæ˜“äºè§£æçš„ç‰¹ç‚¹ï¼Œè¢«å¹¿æ³›è®¤ä¸ºæ˜¯LLMï¼ˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼‰å‹å¥½çš„æ–‡æ¡£æ ¼å¼ã€‚Markdowné€šè¿‡æ˜ç¡®çš„æ ‡è®°è¯­æ³•ï¼Œå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°ç†è§£æ–‡æ¡£ç»“æ„å’Œå†…å®¹ï¼Œä»è€Œæé«˜ä¿¡æ¯æå–çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚ç‰¹åˆ«åœ¨å­˜åœ¨å¤§é‡å…¬å¼ï¼Œè¡¨æ ¼çš„å­¦æœ¯è®ºæ–‡åœºæ™¯ä¸‹ï¼ŒMarkdownå¯èƒ½æ˜¯æ›´åˆé€‚çš„æ ¼å¼é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨nougatå°†pdfè§£ææˆé€‚åˆllmè¯»å–çš„markdown&#34;&gt;å¿«é€Ÿä¸Šæ‰‹ï¼šä½¿ç”¨Nougatå°†pdfè§£ææˆé€‚åˆLLMè¯»å–çš„markdown&lt;/h2&gt;
&lt;p&gt;ä¾èµ–æŒ‰ç…§&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pymupdf&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Levenshtein&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nltk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;huggingface&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Load model and processor&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;transformers&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AutoProcessor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VisionEncoderDecoderModel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;torch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;processor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AutoProcessor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_pretrained&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;facebook/nougat-base&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VisionEncoderDecoderModel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_pretrained&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;facebook/nougat-base&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cuda&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cuda&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;is_available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†pdfè½¬æˆå›¾åƒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;typing&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;fitz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rasterize_paper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;96&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BytesIO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Rasterize a PDF file to PNG images.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Args:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        pdf (Path): The path to the PDF file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        outpath (Optional[Path], optional): The output directory. If None, the PIL images will be returned instead. Defaults to None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        dpi (int, optional): The output DPI. Defaults to 96.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        return_pil (bool, optional): Whether to return the PIL images instead of writing them to disk. Defaults to False.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        pages (Optional[List[int]], optional): The pages to rasterize. If None, all pages will be rasterized. Defaults to None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Returns:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Optional[List[io.BytesIO]]: The PIL images if `return_pil` is True, otherwise None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;isinstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fitz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;bytes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_pixmap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pil_tobytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;PNG&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BytesIO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%02d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.png&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;wb&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;Exception&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;transformers&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StoppingCriteria&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StoppingCriteriaList&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;collections&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Tensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;StoppingCriteriaScores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StoppingCriteria&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.015&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@torch.no_grad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__call__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;input_ids&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LongTensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FloatTensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;varvar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;varvar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;nb&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.15&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;150&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4095&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†pdfè½¬æˆmarkdown&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šè¯„ä¼°RAGç³»ç»Ÿçš„æ–¹æ³•è®º</title>
      <link>https://niraya666.github.io/posts/rag_toolkit_eval/</link>
      <pubDate>Mon, 08 Apr 2024 11:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag_toolkit_eval/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨æœ€å‰é¢&#34;&gt;å†™åœ¨æœ€å‰é¢&lt;/h2&gt;
&lt;p&gt;åœ¨è¿‡å»çš„å‡ ä¸ªæœˆä¸­ï¼Œæˆ‘ä¸»è¦è‡´åŠ›äºä¸RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆæ¨¡å‹ï¼‰ç›¸å…³çš„ç ”ç©¶å’Œå®éªŒå·¥ä½œã€‚é€šè¿‡æ·±å…¥åœ°åˆ†æä¼—å¤šè®ºæ–‡å’Œé¡¹ç›®ä»£ç ï¼Œæˆ‘å‘ç°è™½ç„¶åœ¨RAGé¢†åŸŸå–å¾—åŸºæœ¬æˆå°±ç›¸å¯¹å®¹æ˜“ï¼Œä½†è¦å®ç°å‡ºè‰²çš„æˆæœå´å¼‚å¸¸å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤ç³»åˆ—æ–‡ç« æ—¨åœ¨åˆ†äº«æˆ‘åœ¨RAGç ”ç©¶ä¸­çš„å¿ƒå¾—å’ŒæŒ‘æˆ˜ã€‚æ­£å¦‚æˆ‘ä»¬ä»OpenAIçš„å¼€å‘è€…æ—¥æ´»åŠ¨ä¸­çœ‹åˆ°çš„ï¼Œå³ä½¿æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸçš„é¢†å¤´ç¾Šä¹Ÿåœ¨ä¸æ–­è¯•éªŒå’ŒåŠªåŠ›ä»¥å¯»æ±‚çªç ´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/rag_toolkits/1_1.png&#34; alt=&#34;from openAI devday&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬æ·±å…¥æ¢ç´¢RAGç³»ç»Ÿæå‡çš„å„ç§æ–¹æ³•ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªåŸºæœ¬é—®é¢˜éœ€è¦è§£å†³ï¼šæˆ‘ä»¬å¦‚ä½•å‡†ç¡®åœ°è¯„ä¼°ä¸€ä¸ªRAGç³»ç»Ÿçš„æ€§èƒ½ï¼Ÿè¿™å°±åƒæ˜¯åœ¨æœºå™¨å­¦ä¹ æˆ–æ·±åº¦å­¦ä¹ ä»»åŠ¡ä¸­æ²¡æœ‰ç»™å®šçš„æµ‹è¯•é›†å’Œè¯„ä»·æ ‡å‡†ï¼Œæˆ‘ä»¬éš¾ä»¥åˆ¤æ–­å®éªŒçš„æˆåŠŸä¸å¦ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« å°†èšç„¦äºä»‹ç»RAGç³»ç»Ÿçš„è¯„ä»·æ–¹æ³•ã€ç›¸å…³æŒ‡æ ‡ä»¥åŠæµ‹è¯•æ¡†æ¶ï¼Œä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥çš„æ¢ç´¢è®¾å®šæ˜ç¡®çš„æ ‡å‡†å’Œç›®æ ‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æµ‹è¯•æ¡†æ¶&#34;&gt;æµ‹è¯•æ¡†æ¶&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€äº›æµ‹è¯•æ¡†æ¶ï¼Œä¸ºRAGç³»ç»Ÿè¯„ä¼°æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;trulens&#34;&gt;&lt;strong&gt;TruLens&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;TruLensæä¾›äº†ä¸€ä¸ªç‹¬ç‰¹çš„è§†è§’æ¥è¯„ä¼°å’Œè·Ÿè¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å®éªŒï¼Œé€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°çš„åŠŸèƒ½å’Œæ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å’Œç ”ç©¶äººå‘˜æ›´æ·±å…¥åœ°äº†è§£æ¨¡å‹æ€§èƒ½å’Œè¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;TruLensçš„åé¦ˆåŠŸèƒ½ï¼ˆFeedback Functionsï¼‰æ˜¯å…¶æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œæä¾›äº†ä¸€ç§ç¨‹åºåŒ–çš„æ–¹æ³•æ¥è¯„ä¼°åº”ç”¨çš„è¿è¡Œè¡¨ç°ã€‚è¿™äº›å‡½æ•°ä»â€œå¯æ‰©å±•æ€§â€å’Œâ€œæœ‰æ„ä¹‰æ€§â€ä¸¤ä¸ªç»´åº¦å‡ºå‘ï¼Œè€ƒè™‘è¯„ä¼°çš„èŒƒå›´ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›æœ‰ä»·å€¼çš„åé¦ˆï¼Œå¸®åŠ©ä»–ä»¬ç†è§£å’Œæ”¹è¿›ä»–ä»¬çš„LLMåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨RAGåº”ç”¨ä¸­ï¼Œæä¾›å‡†ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è‡³å…³é‡è¦ï¼Œä»¥é¿å…ç”Ÿæˆä¸çœŸå®çš„â€œå¹»è§‰â€ç­”æ¡ˆã€‚TruLensé‡‡ç”¨äº†åˆ›æ–°æ€§çš„RAGä¸‰å…ƒç»„è¯„ä¼°æ–¹æ³•ï¼Œä¸“é—¨é’ˆå¯¹RAGæ¶æ„çš„æ¯ä¸ªç¯èŠ‚è¿›è¡Œå¹»è§‰é£é™©è¯„ä¼°ï¼Œç¡®ä¿æ¨¡å‹çš„æ¯ä¸ªéƒ¨åˆ†éƒ½èƒ½æœ‰æ•ˆåœ°å·¥ä½œï¼Œä»è€Œå‡å°‘è¯¯å¯¼ä¿¡æ¯çš„äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://www.trulens.org/assets/images/RAG_Triad.jpg&#34; alt=&#34;TruLens RAG_Triad&#34;  /&gt;
&lt;/p&gt;
&lt;h4 id=&#34;ä¸Šä¸‹æ–‡ç›¸å…³æ€§context-relevance&#34;&gt;ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸Šä¸‹æ–‡ç›¸å…³æ€§æ˜¯è¯„ä¼°RAGåº”ç”¨çš„ç¬¬ä¸€æ­¥ï¼Œç¡®ä¿æ¯ä¸€æ®µæ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡éƒ½ä¸æå‡ºçš„æŸ¥è¯¢ç´§å¯†ç›¸å…³ã€‚TruLensåˆ©ç”¨åºåˆ—åŒ–è®°å½•çš„ç»“æ„æ¥è¯„ä¼°ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå…³é”®çš„æ­¥éª¤ï¼Œç¡®ä¿æ¨¡å‹åœ¨æ­£ç¡®çš„ä¿¡æ¯ä¸Šç”Ÿæˆå›ç­”ã€‚&lt;/p&gt;
&lt;h4 id=&#34;çœŸå®æ€§groundedness&#34;&gt;çœŸå®æ€§ï¼ˆGroundednessï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„åŸºç¡€ä¸Šï¼Œå¤§å‹è¯­è¨€æ¨¡å‹å°†ç”Ÿæˆç­”æ¡ˆã€‚TruLenså¼ºè°ƒäº†ç‹¬ç«‹éªŒè¯æ¯ä¸ªå›ç­”çš„é‡è¦æ€§ï¼Œä»¥ç¡®ä¿å®ƒä»¬åŸºäºå¯é ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°æ”¯æŒçš„è¯æ®ã€‚è¿™ä¸€æ­¥éª¤æ˜¯ç¡®ä¿æ¨¡å‹å›ç­”çš„çœŸå®æ€§å’Œå¯é æ€§çš„å…³é”®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç­”æ¡ˆç›¸å…³æ€§answer-relevance&#34;&gt;ç­”æ¡ˆç›¸å…³æ€§ï¼ˆAnswer Relevanceï¼‰&lt;/h4&gt;
&lt;p&gt;æœ€åï¼Œè¯„ä¼°éœ€è¦ç¡®ä¿æœ€ç»ˆå›ç­”æœ‰æ•ˆåœ°è§£ç­”äº†åŸå§‹é—®é¢˜ï¼Œè¿™é€šè¿‡è¯„ä¼°åº”ç”¨çš„æœ€ç»ˆå›ç­”ä¸ç”¨æˆ·è¾“å…¥çš„ç›¸å…³æ€§æ¥å®ç°ã€‚è¿™ä¸€è¿‡ç¨‹ç¡®ä¿äº†æ¨¡å‹çš„è¾“å‡ºä¸ä»…æ˜¯çœŸå®çš„ï¼Œè€Œä¸”æ˜¯å¯¹ç”¨æˆ·æŸ¥è¯¢æœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;TruLensè¿˜æå‡ºäº†â€œè¯šå®ã€æ— å®³å’Œæœ‰å¸®åŠ©â€çš„è¯„ä¼°åŸåˆ™ï¼ˆHonest, Harmless, and Helpful Evaluationsï¼‰ï¼Œè¿™äº›åŸåˆ™æ—¨åœ¨ç¡®ä¿LLMåº”ç”¨åœ¨æä¾›å¸®åŠ©çš„åŒæ—¶ï¼Œä¹Ÿæ˜¯å®‰å…¨å’Œå¯ä¿¡çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ragas&#34;&gt;Ragas&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://docs.ragas.io/en/stable/_static/imgs/component-wise-metrics.png&#34; alt=&#34;Ragas&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;Ragasæ¡†æ¶ä¸“ä¸ºè¯„ä¼°æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ç³»ç»Ÿè€Œè®¾è®¡ï¼Œå®šä¹‰äº†å››ä¸ªæ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡ï¼šä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆcontext_relevancyï¼‰ã€ä¸Šä¸‹æ–‡å›æº¯ï¼ˆcontext_recallï¼‰ã€å¿ å®åº¦ï¼ˆfaithfulnessï¼‰å’Œç­”æ¡ˆç›¸å…³æ€§ï¼ˆanswer_relevancyï¼‰ã€‚è¿™äº›æŒ‡æ ‡å…±åŒæ„æˆäº†Ragasçš„è¯„åˆ†ä½“ç³»ï¼Œæä¾›äº†ä¸€ä¸ªå…¨é¢çš„æ–¹æ³•æ¥è¯„ä»·RAGç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼ŒRagaså·§å¦™åœ°åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¿›è¡Œæ— å‚è€ƒè¯„ä¼°ï¼Œæœ‰æ•ˆé™ä½äº†è¯„ä¼°æˆæœ¬ã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼ŒRagasèƒ½å¤Ÿæä¾›ä¸€ç§æ—¢ç»æµåˆæœ‰æ•ˆçš„æ–¹å¼æ¥è¯„ä¼°RAGç³»ç»Ÿï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®å’Œå¤æ‚æŸ¥è¯¢æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–æµ‹è¯•æ¡†æ¶&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DeepEval&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/confident-ai/deepeval&#34;&gt;DeepEval&lt;/a&gt; &lt;a href=&#34;https://www.confident-ai.com/blog/how-to-evaluate-rag-applications-in-ci-cd-pipelines-with-deepeval&#34;&gt;How to Evaluate RAG Applications in CI/CD Pipelines with DeepEval&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ARES&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;github: &lt;a href=&#34;https://github.com/stanford-futuredata/ARES&#34;&gt;https://github.com/stanford-futuredata/ARES&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Paper: ARES: &lt;a href=&#34;https://arxiv.org/abs/2311.09476&#34;&gt;An Automated Evaluation Framework for Retrieval-Augmented Generation Systems&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/guides/evaluation/&#34;&gt;LangChain Evals&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.llamaindex.ai/en/stable/module_guides/evaluating/root.html&#34;&gt;Llama Index Evals&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/uptrain-ai/uptrain&#34;&gt;UpTrain&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®&#34;&gt;æ•°æ®&lt;/h2&gt;
&lt;p&gt;åœ¨è¯„ä¼°æ•°æ®é›†æ—¶ï¼Œä¸å¿…ä¾èµ–äººå·¥æ ‡æ³¨çš„æ ‡å‡†ç­”æ¡ˆï¼Œè€Œæ˜¯é€šè¿‡åº•å±‚çš„å¤§è¯­è¨€æ¨¡å‹ (LLM) æ¥è¿›è¡Œè¯„ä¼°ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
