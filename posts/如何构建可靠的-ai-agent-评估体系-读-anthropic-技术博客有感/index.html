<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 | LZY Blog</title>
<meta name="keywords" content="Eval, Agent">
<meta name="description" content="读完 Anthropic 的一篇博客 Demystifying evals for AI agents，深有感触。
结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。
为什么需要 Evals？
Evals 的本质不是为了打分，而是为了让开发可量化。
在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。
在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。
此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。


目前的评估方式，依旧还是三大件：


人工评估：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。


代码基准 (Code-based)：适用于有明确唯一答案的场景（如数学计算、代码运行）。


LLM-as-a-judge：目前的主流。用更强的模型去评估其他模型的输出。关键点：需要经过人类专家的校准。


（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face  的 The LLM Evaluation Guidebook ）
Agent Eval 和LLM Eval 的不同
相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。

从“测模型”到“测系统”

正如Why benchmarking is hard，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，
我们测试的永远不是“裸模型”，而是 “模型 &#43; Harness” 这个整体。
这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）&#43; Agent Harness (Scaffold)。">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://niraya666.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://niraya666.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://niraya666.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://niraya666.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://niraya666.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感" />
<meta property="og:description" content="读完 Anthropic 的一篇博客 Demystifying evals for AI agents，深有感触。
结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。
为什么需要 Evals？
Evals 的本质不是为了打分，而是为了让开发可量化。
在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。
在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。
此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。


目前的评估方式，依旧还是三大件：


人工评估：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。


代码基准 (Code-based)：适用于有明确唯一答案的场景（如数学计算、代码运行）。


LLM-as-a-judge：目前的主流。用更强的模型去评估其他模型的输出。关键点：需要经过人类专家的校准。


（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face  的 The LLM Evaluation Guidebook ）
Agent Eval 和LLM Eval 的不同
相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。

从“测模型”到“测系统”

正如Why benchmarking is hard，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，
我们测试的永远不是“裸模型”，而是 “模型 &#43; Harness” 这个整体。
这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）&#43; Agent Harness (Scaffold)。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/" />
<meta property="og:image" content="https://niraya666.github.io/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2026-01-19T21:08:00+08:00" />
<meta property="article:modified_time" content="2026-01-19T21:08:00+08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://niraya666.github.io/images/papermod-cover.png" />
<meta name="twitter:title" content="如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感"/>
<meta name="twitter:description" content="读完 Anthropic 的一篇博客 Demystifying evals for AI agents，深有感触。
结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。
为什么需要 Evals？
Evals 的本质不是为了打分，而是为了让开发可量化。
在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。
在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。
此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。


目前的评估方式，依旧还是三大件：


人工评估：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。


代码基准 (Code-based)：适用于有明确唯一答案的场景（如数学计算、代码运行）。


LLM-as-a-judge：目前的主流。用更强的模型去评估其他模型的输出。关键点：需要经过人类专家的校准。


（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face  的 The LLM Evaluation Guidebook ）
Agent Eval 和LLM Eval 的不同
相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。

从“测模型”到“测系统”

正如Why benchmarking is hard，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，
我们测试的永远不是“裸模型”，而是 “模型 &#43; Harness” 这个整体。
这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）&#43; Agent Harness (Scaffold)。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://niraya666.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感",
      "item": "https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感",
  "name": "如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感",
  "description": "读完 Anthropic 的一篇博客 Demystifying evals for AI agents，深有感触。\n结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。\n为什么需要 Evals？ Evals 的本质不是为了打分，而是为了让开发可量化。\n在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。\n在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。\n此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。\n目前的评估方式，依旧还是三大件：\n人工评估：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。\n代码基准 (Code-based)：适用于有明确唯一答案的场景（如数学计算、代码运行）。\nLLM-as-a-judge：目前的主流。用更强的模型去评估其他模型的输出。关键点：需要经过人类专家的校准。\n（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face 的 The LLM Evaluation Guidebook ）\nAgent Eval 和LLM Eval 的不同 相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。\n从“测模型”到“测系统” 正如Why benchmarking is hard，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，\n我们测试的永远不是“裸模型”，而是 “模型 + Harness” 这个整体。\n这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）+ Agent Harness (Scaffold)。\n",
  "keywords": [
    "Eval", "Agent"
  ],
  "articleBody": "读完 Anthropic 的一篇博客 Demystifying evals for AI agents，深有感触。\n结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。\n为什么需要 Evals？ Evals 的本质不是为了打分，而是为了让开发可量化。\n在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。\n在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。\n此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。\n目前的评估方式，依旧还是三大件：\n人工评估：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。\n代码基准 (Code-based)：适用于有明确唯一答案的场景（如数学计算、代码运行）。\nLLM-as-a-judge：目前的主流。用更强的模型去评估其他模型的输出。关键点：需要经过人类专家的校准。\n（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face 的 The LLM Evaluation Guidebook ）\nAgent Eval 和LLM Eval 的不同 相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。\n从“测模型”到“测系统” 正如Why benchmarking is hard，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，\n我们测试的永远不是“裸模型”，而是 “模型 + Harness” 这个整体。\n这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）+ Agent Harness (Scaffold)。\n这些“脚手架”中的每一个变量，都会直接影响最终的评估结果。\n因此，Agent Eval 实际上是对整个工程系统的综合验收，比较两个 Agent 的分数时，必须考虑到系统架构带来的差异。\nOutcome（执行结果）vs. Output（文本输出） Agent 的核心在于“行动”。评估的核心不再是它“说了什么”，而是它“做了什么”。\nOutput (文本)：Agent 回复用户的文本内容。\nOutcome (结果)：Agent 对环境造成的实际改变\n当 Agent 回复“票已订好”时，这仅仅是 Output；而数据库中是否真的生成了订单，才是 Outcome。\n因此，Agent 评估必须基于 环境状态（Environment State），而不仅是文本生成。\nTrace 传统的 LLM 评估往往将模型视为黑盒，仅关注输入与输出的对应关系。而在 Agent 评估中，Trace (执行轨迹) 包含了极高价值的信息。\nTrace 记录了 Agent 的工具调用参数以及对错误的反思过程。相比于 LLM Evals，Agent Evals 不应忽略这些中间过程。\nCapability 与 Regression 建议将评估体系拆分为两类，分别对应 Agent 生命周期的不同阶段：\nCapability Evals (能力评估) 目标：验证能力边界（测上限）。 探索 Agent 在特定任务上到底能达到怎样的高度。\n场景：技术选型、架构调整、引入新工具时\n指标：这里的通过率（Pass Rate）通常不高，目的是指引优化的方向\nRegression Evals (回归评估) 目标：保障系统稳定性（测下限）。 核心目的是防止能力退化，确保 Agent “没有变笨”，且已有的功能未被破坏。\n场景：CI/CD 流程、发版前的自动化测试\n指标：要求极高的通过率，作为上线门槛\n指标的选择\n不同的业务形态决定了对“成功”的定义不同，从而影响指标的选择：\nPass@k (尝试 k 次，至少成功 1 次) （辅助类工具，关注的是最佳表现）\nPass^k (尝试 k 次，必须连续成功 k 次) （全自动 Agent， 关注的是系统可靠性）\n如何落地 如何着手构建这套体系？核心原则是：以终为始，小步快跑。\n1. 冷启动策略：20-50 个 Case 足矣\n在初期阶段，不必追求构建海量的测试集。只需要收集 20 到 50 个具有代表性的真实案例。\n它的作用是让你快速跑通评估流程，并在后续的开发中通过不断的 Case 积累进行迭代，而不是在一开始就陷入数据清洗的泥潭。\n环境隔离 Agent 的运行往往是非确定性的，且依赖环境。为了保证测试结果可复现，必须进行环境隔离。\n如果多个测试共享同一个数据库或文件系统，状态的残留会导致测试结果不可信。\n正如在评估 Data Agent 时遇到的典型问题：测试集中包含类似“查询昨日销售额”的时间相关 Query。\n如果在周一运行，它是对的；但在周二运行，数据就变了。解决方案，是引入类似自动化沙盒或数据库快照机制，甚至需要对系统时间进行 Mock，确保无论何时运行测试，Agent 面对的都是一个“时间静止”的确定性世界。\nEval-Driven Development 借鉴 TDD（测试驱动开发）的理念，在编写 Agent 的 Prompt 或工具代码之前，先定义好测试用例（Task）和成功标准（Success Criteria）。\nSwiss Cheese Model 必须承认，没有任何一种单一的评估手段是完美的。自动化 Evals 只是防线的一层。一个健康的 AI 系统质量保障体系，应该遵循“瑞士奶酪模型”，即多层防御：\n第一道防线：自动化 Evals 日常开发中的单元测试与回归测试，用于快速发现明显的逻辑错误和能力退化。\n第二道防线：系统化人工评估 由专家对自动化评分的结果进行抽检和校准，确保机器裁判的标准没有跑偏。\n第三道防线：A/B 测试 在真实流量中灰度发布，对比新旧版本的实际业务表现。\n第四道防线：生产环境监控 设置兜底逻辑和实时告警，防止 Agent 在极端情况下产生失控行为。\n第五道防线：用户反馈与 Trace 审计 利用用户的 Complaint 和对线上日志的深挖，发现那些测试集未覆盖到的长尾问题。\n结语 LangChain 不久前曾提出过 Agent Engineering 的概念，认为这是一门融合了产品洞察、工程架构与数据科学的新兴学科。\n面对 Agent 这样一个高度非确定性的复杂系统，传统的线性工程思维往往难以奏效。我们需要引入科学实验的思维模式： 核心在于建立一套严谨的评测体系，将庞大的黑盒拆解为一个个独立的子系统。通过屏蔽干扰、锁定环境，去单独量化每一个模块的变化对整体的影响。\n只有通过这种严格的控制变量法，一步步摸索边界，才能真正驾驭 Agent 的复杂性。\n简而言之：控制变量，大胆假设，小心求证\n这也是过去物理人的经历所教会我的。\nAgent Engineering: A New Discipline\nThe LLM Evaluation Guidebook\nEvals are a team sport: How we built Loop\nlangsmith: Evaluation concepts\nLangfuse: Core Concepts\ndeepeval: AI Agent Evaluation Quickstart\nAI Safety vs AI Security in LLM Applications: What Teams Must Know\nMastering Agents: Evaluating AI Agents\nLLM Evaluation 101: Best Practices, Challenges \u0026 Proven Techniques\nLLM Agent Evaluation: Assessing Tool Use, Task Completion, Agentic Reasoning, and More\n",
  "wordCount" : "299",
  "inLanguage": "en",
  "image": "https://niraya666.github.io/images/papermod-cover.png","datePublished": "2026-01-19T21:08:00+08:00",
  "dateModified": "2026-01-19T21:08:00+08:00",
  "author":{
    "@type": "Person",
    "name": "Theme PaperMod"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "LZY Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://niraya666.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://niraya666.github.io/" accesskey="h" title="LZY Blog (Alt + H)">LZY Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://niraya666.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/posts/" title="AI">
                    <span>AI</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/musik/" title="Musik!">
                    <span>Musik!</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/monthly/" title="月刊">
                    <span>月刊</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/essay/" title="杂文">
                    <span>杂文</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/travel/" title="游记">
                    <span>游记</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/travel-map/" title="足迹">
                    <span>足迹</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://niraya666.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://niraya666.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h1>
    <div class="post-meta"><span title='2026-01-19 21:08:00 +0800 CST'>January 19, 2026</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Theme PaperMod

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81-evals" aria-label="为什么需要 Evals？">为什么需要 Evals？</a></li>
                <li>
                    <a href="#agent-eval-%e5%92%8cllm-eval-%e7%9a%84%e4%b8%8d%e5%90%8c" aria-label="Agent Eval 和LLM Eval 的不同">Agent Eval 和LLM Eval 的不同</a></li>
                <li>
                    <a href="#capability-%e4%b8%8e-regression" aria-label="Capability 与 Regression">Capability 与 Regression</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e8%90%bd%e5%9c%b0" aria-label="如何落地">如何落地</a></li>
                <li>
                    <a href="#%e7%bb%93%e8%af%ad" aria-label="结语">结语</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>读完 Anthropic 的一篇博客<a href="https://www.anthropic.com/engineering/demystifying-evals-for-ai-agents"> <em>Demystifying evals for AI agents</em></a>，深有感触。</p>
<p>结合文章内容和最近的工程实践，整理了一些关于构建 Agent 评估体系的笔记，和一些思考。</p>
<h2 id="为什么需要-evals">为什么需要 Evals？<a hidden class="anchor" aria-hidden="true" href="#为什么需要-evals">#</a></h2>
<p>Evals 的本质不是为了打分，而是为了让开发可量化。</p>
<p>在缺乏评估体系时，开发团队往往面临着极大的不确定性：无论是优化 Prompt 还是更换基座模型，都难以判断这些变更是真正解决了问题，还是在引入新问题的同时破坏了原有的能力。</p>
<p>在早期的 Demo 阶段，依赖人工测试或许能快速验证想法。然而，Agent 系统不同于单次交互的对话模型，它包含多步骤推理和动态工具调用。随着系统复杂度的增加，手动测试的覆盖率和回归效率将难以为继，团队很容易陷入“由于缺乏前置检测，只能依赖线上反馈被动修复 Bug”的恶性循环。</p>
<p>此外，Evals 也是产品与研发之间的通用语言。将模糊的主观感受，转化为准确率、响应延迟和 Token 成本等可度量的工程指标。</p>
<p><img loading="lazy" src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fbd42e7b2f3e9bb5218142796d3ede4816588dec0-4584x2834.png&amp;w=3840&amp;q=75" alt=""  />
</p>
<p>目前的评估方式，依旧还是三大件：</p>
<ol>
<li>
<p><strong>人工评估</strong>：最准确但最贵。通常用来作为Golden，用于校准自动评估的准确性。</p>
</li>
<li>
<p><strong>代码基准 (Code-based)</strong>：适用于有明确唯一答案的场景（如数学计算、代码运行）。</p>
</li>
<li>
<p><strong>LLM-as-a-judge</strong>：目前的主流。用更强的模型去评估其他模型的输出。<strong>关键点</strong>：需要经过人类专家的校准。</p>
</li>
</ol>
<p>（注：关于评估的具体细节与最佳实践，推荐参考 Hugging Face  的 <strong><a href="https://huggingface.co/spaces/OpenEvals/evaluation-guidebook#the-model-builder-perspective-am-i-building-a-strong-model">The LLM Evaluation Guidebook</a></strong> ）</p>
<h2 id="agent-eval-和llm-eval-的不同">Agent Eval 和LLM Eval 的不同<a hidden class="anchor" aria-hidden="true" href="#agent-eval-和llm-eval-的不同">#</a></h2>
<p>相比于单纯的 RAG 或 LLM 评估，Agent 的评估复杂度要高得多。</p>
<ol>
<li>从“测模型”到“测系统”</li>
</ol>
<p>正如<a href="https://epoch.ai/gradient-updates/why-benchmarking-is-hard">Why benchmarking is hard</a>，中提到的“许多变动的部件和自由度都会影响最终结果”。在 Agent 开发中，</p>
<p>我们测试的永远不是“裸模型”，而是 <strong>“模型 + Harness”</strong> 这个整体。</p>
<p>这里的Harness 分成两大部分：Eval Harness（我们的评估系统本身）+ Agent Harness (Scaffold)。</p>
<p>这些“脚手架”中的每一个变量，都会直接影响最终的评估结果。</p>
<p>因此，Agent Eval 实际上是对整个工程系统的综合验收，比较两个 Agent 的分数时，必须考虑到系统架构带来的差异。</p>
<p><img loading="lazy" src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F0205b36f9639fc27f2f6566f73cb56b06f59d555-4584x2580.png&amp;w=3840&amp;q=75" alt=""  />
</p>
<ol start="2">
<li>Outcome（执行结果）vs. Output（文本输出）</li>
</ol>
<p>Agent 的核心在于“行动”。评估的核心不再是它“说了什么”，而是它“做了什么”。</p>
<p><strong>Output (文本)</strong>：Agent 回复用户的文本内容。</p>
<p><strong>Outcome (结果)</strong>：Agent 对环境造成的实际改变</p>
<p>当 Agent 回复“票已订好”时，这仅仅是 <strong>Output</strong>；而数据库中是否真的生成了订单，才是 <strong>Outcome</strong>。</p>
<p>因此，Agent 评估必须基于 <strong>环境状态（Environment State）</strong>，而不仅是文本生成。</p>
<ol start="3">
<li>Trace</li>
</ol>
<p>传统的 LLM 评估往往将模型视为黑盒，仅关注输入与输出的对应关系。而在 Agent 评估中，<strong>Trace (执行轨迹)</strong> 包含了极高价值的信息。</p>
<p>Trace 记录了 Agent 的工具调用参数以及对错误的反思过程。相比于 LLM Evals，Agent Evals 不应忽略这些中间过程。</p>
<h2 id="capability-与-regression">Capability 与 Regression<a hidden class="anchor" aria-hidden="true" href="#capability-与-regression">#</a></h2>
<p>建议将评估体系拆分为两类，分别对应 Agent 生命周期的不同阶段：</p>
<ol>
<li>Capability Evals (能力评估)</li>
</ol>
<p><strong>目标：验证能力边界（测上限）。</strong> 探索 Agent 在特定任务上到底能达到怎样的高度。</p>
<p><strong>场景</strong>：技术选型、架构调整、引入新工具时</p>
<p><strong>指标</strong>：这里的通过率（Pass Rate）通常不高，目的是指引优化的方向</p>
<ol start="2">
<li>Regression Evals (回归评估)</li>
</ol>
<p><strong>目标：保障系统稳定性（测下限）。</strong> 核心目的是防止能力退化，确保 Agent “没有变笨”，且已有的功能未被破坏。</p>
<p><strong>场景</strong>：CI/CD 流程、发版前的自动化测试</p>
<p><strong>指标</strong>：要求极高的通过率，作为上线门槛</p>
<p><img loading="lazy" src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F3ddac5be07a0773922ec9df06afec55922f8194a-4584x2580.png&amp;w=3840&amp;q=75" alt=""  />
</p>
<p>指标的选择</p>
<p>不同的业务形态决定了对“成功”的定义不同，从而影响指标的选择：</p>
<ul>
<li>
<p>Pass@k (尝试 k 次，至少成功 1 次) （辅助类工具，关注的是<strong>最佳表现</strong>）</p>
</li>
<li>
<p>Pass^k (尝试 k 次，必须连续成功 k 次)  （全自动 Agent， 关注的是<strong>系统可靠性</strong>）</p>
</li>
</ul>
<h2 id="如何落地">如何落地<a hidden class="anchor" aria-hidden="true" href="#如何落地">#</a></h2>
<p>如何着手构建这套体系？核心原则是：<strong>以终为始，小步快跑</strong>。</p>
<p><strong>1. 冷启动策略</strong>：20-50 个 Case 足矣</p>
<p>在初期阶段，不必追求构建海量的测试集。只需要收集 <strong>20 到 50 个</strong>具有代表性的真实案例。</p>
<p>它的作用是让你快速跑通评估流程，并在后续的开发中通过不断的 Case 积累进行迭代，而不是在一开始就陷入数据清洗的泥潭。</p>
<ol start="2">
<li><strong>环境隔离</strong></li>
</ol>
<p>Agent 的运行往往是非确定性的，且依赖环境。为了保证测试结果可复现，必须进行环境隔离。</p>
<p>如果多个测试共享同一个数据库或文件系统，状态的残留会导致测试结果不可信。</p>
<p>正如在评估 Data Agent 时遇到的典型问题：测试集中包含类似“查询昨日销售额”的时间相关 Query。</p>
<p>如果在周一运行，它是对的；但在周二运行，数据就变了。解决方案，是引入类似自动化沙盒或数据库快照机制，甚至需要对系统时间进行 Mock，确保无论何时运行测试，Agent 面对的都是一个“时间静止”的确定性世界。</p>
<ol start="3">
<li><strong>Eval-Driven Development</strong></li>
</ol>
<p>借鉴 TDD（测试驱动开发）的理念，在编写 Agent 的 Prompt 或工具代码之前，先定义好测试用例（Task）和成功标准（Success Criteria）。</p>
<ol start="4">
<li><strong>Swiss Cheese Model</strong></li>
</ol>
<p>必须承认，没有任何一种单一的评估手段是完美的。自动化 Evals 只是防线的一层。一个健康的 AI 系统质量保障体系，应该遵循“瑞士奶酪模型”，即多层防御：</p>
<p><strong>第一道防线：自动化 Evals</strong> 日常开发中的单元测试与回归测试，用于快速发现明显的逻辑错误和能力退化。</p>
<p><strong>第二道防线：系统化人工评估</strong> 由专家对自动化评分的结果进行抽检和校准，确保机器裁判的标准没有跑偏。</p>
<p><strong>第三道防线：A/B 测试</strong> 在真实流量中灰度发布，对比新旧版本的实际业务表现。</p>
<p><strong>第四道防线：生产环境监控</strong> 设置兜底逻辑和实时告警，防止 Agent 在极端情况下产生失控行为。</p>
<p><strong>第五道防线：用户反馈与 Trace 审计</strong> 利用用户的 Complaint 和对线上日志的深挖，发现那些测试集未覆盖到的长尾问题。</p>
<h2 id="结语">结语<a hidden class="anchor" aria-hidden="true" href="#结语">#</a></h2>
<p>LangChain 不久前曾提出过 <strong><a href="https://www.blog.langchain.com/agent-engineering-a-new-discipline/">Agent Engineering</a></strong> 的概念，认为这是一门融合了产品洞察、工程架构与数据科学的新兴学科。</p>
<p><img loading="lazy" src="https://www.blog.langchain.com/content/images/size/w1000/2025/12/Frame-1--2--1.png" alt=""  />
</p>
<p>面对 Agent 这样一个高度非确定性的复杂系统，传统的线性工程思维往往难以奏效。我们需要引入<strong>科学实验</strong>的思维模式： 核心在于建立一套严谨的评测体系，将庞大的黑盒拆解为一个个独立的子系统。通过屏蔽干扰、锁定环境，去单独量化每一个模块的变化对整体的影响。</p>
<p>只有通过这种严格的<strong>控制变量法</strong>，一步步摸索边界，才能真正驾驭 Agent 的复杂性。</p>
<p>简而言之：<strong>控制变量，大胆假设，小心求证</strong></p>
<p>这也是过去物理人的经历所教会我的。</p>
<p><a href="https://www.blog.langchain.com/agent-engineering-a-new-discipline/">Agent Engineering: A New Discipline</a></p>
<p><a href="https://huggingface.co/spaces/OpenEvals/evaluation-guidebook#the-model-builder-perspective-am-i-building-a-strong-model">The LLM Evaluation Guidebook</a></p>
<p><a href="https://www.braintrust.dev/blog/collaborative-evals-loop">Evals are a team sport: How we built Loop</a></p>
<p><a href="https://docs.langchain.com/langsmith/evaluation-concepts">langsmith: Evaluation concepts</a></p>
<p><a href="https://langfuse.com/docs/evaluation/core-concepts">Langfuse: Core Concepts</a></p>
<p><a href="https://deepeval.com/docs/getting-started-agents">deepeval: AI Agent Evaluation Quickstart</a></p>
<p><a href="https://www.promptfoo.dev/blog/ai-safety-vs-security/">AI Safety vs AI Security in LLM Applications: What Teams Must Know</a></p>
<p><a href="https://galileo.ai/blog/mastering-agents-evaluating-ai-agents">Mastering Agents: Evaluating AI Agents</a></p>
<p><a href="https://langfuse.com/blog/2025-03-04-llm-evaluation-101-best-practices-and-challenges">LLM Evaluation 101: Best Practices, Challenges &amp; Proven Techniques</a></p>
<p><a href="https://www.confident-ai.com/blog/llm-agent-evaluation-complete-guide">LLM Agent Evaluation: Assessing Tool Use, Task Completion, Agentic Reasoning, and More</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://niraya666.github.io/tags/eval/">Eval</a></li>
      <li><a href="https://niraya666.github.io/tags/agent/">Agent</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://niraya666.github.io/posts/tongyi-deep-research-%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">
    <span class="title">Next »</span>
    <br>
    <span>Tongyi Deep Research 论文笔记</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on x"
            href="https://x.com/intent/tweet/?text=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f&amp;url=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f&amp;hashtags=Eval%2cAgent">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f&amp;title=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f&amp;summary=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f&amp;source=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f&title=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f%20-%20https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on telegram"
            href="https://telegram.me/share/url?text=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f&amp;url=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 如何构建可靠的 Agent 评估体系：读 Anthropic 技术博客有感 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%8f%af%e9%9d%a0%e7%9a%84%20Agent%20%e8%af%84%e4%bc%b0%e4%bd%93%e7%b3%bb%ef%bc%9a%e8%af%bb%20Anthropic%20%e6%8a%80%e6%9c%af%e5%8d%9a%e5%ae%a2%e6%9c%89%e6%84%9f&u=https%3a%2f%2fniraya666.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E6%259E%2584%25E5%25BB%25BA%25E5%258F%25AF%25E9%259D%25A0%25E7%259A%2584-ai-agent-%25E8%25AF%2584%25E4%25BC%25B0%25E4%25BD%2593%25E7%25B3%25BB-%25E8%25AF%25BB-anthropic-%25E6%258A%2580%25E6%259C%25AF%25E5%258D%259A%25E5%25AE%25A2%25E6%259C%2589%25E6%2584%259F%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
<div id="utterances">
  <script src="https://utteranc.es/client.js"
        repo="Niraya666/niraya666.github.io"
        issue-term="pathname"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
  </script>
</div>


<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      packages: {'[+]': ['ams']}
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2026 <a href="https://niraya666.github.io/">LZY Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
