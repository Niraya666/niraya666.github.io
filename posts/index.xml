<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on LZY Blog</title>
    <link>https://niraya666.github.io/posts/</link>
    <description>Recent content in Posts on LZY Blog</description>
    <image>
      <title>LZY Blog</title>
      <url>https://niraya666.github.io/images/papermod-cover.png</url>
      <link>https://niraya666.github.io/images/papermod-cover.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 19 Jan 2026 21:08:00 +0800</lastBuildDate>
    <atom:link href="https://niraya666.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å¦‚ä½•æ„å»ºå¯é çš„ Agent è¯„ä¼°ä½“ç³»ï¼šè¯» Anthropic æŠ€æœ¯åšå®¢æœ‰æ„Ÿ</title>
      <link>https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/</link>
      <pubDate>Mon, 19 Jan 2026 21:08:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E9%9D%A0%E7%9A%84-ai-agent-%E8%AF%84%E4%BC%B0%E4%BD%93%E7%B3%BB-%E8%AF%BB-anthropic-%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%9C%89%E6%84%9F/</guid>
      <description>&lt;p&gt;è¯»å®Œ Anthropic çš„ä¸€ç¯‡åšå®¢&lt;a href=&#34;https://www.anthropic.com/engineering/demystifying-evals-for-ai-agents&#34;&gt; &lt;em&gt;Demystifying evals for AI agents&lt;/em&gt;&lt;/a&gt;ï¼Œæ·±æœ‰æ„Ÿè§¦ã€‚&lt;/p&gt;
&lt;p&gt;ç»“åˆæ–‡ç« å†…å®¹å’Œæœ€è¿‘çš„å·¥ç¨‹å®è·µï¼Œæ•´ç†äº†ä¸€äº›å…³äºæ„å»º Agent è¯„ä¼°ä½“ç³»çš„ç¬”è®°ï¼Œå’Œä¸€äº›æ€è€ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦-evals&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ Evalsï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Evals çš„æœ¬è´¨ä¸æ˜¯ä¸ºäº†æ‰“åˆ†ï¼Œè€Œæ˜¯ä¸ºäº†è®©å¼€å‘å¯é‡åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¼ºä¹è¯„ä¼°ä½“ç³»æ—¶ï¼Œå¼€å‘å›¢é˜Ÿå¾€å¾€é¢ä¸´ç€æå¤§çš„ä¸ç¡®å®šæ€§ï¼šæ— è®ºæ˜¯ä¼˜åŒ– Prompt è¿˜æ˜¯æ›´æ¢åŸºåº§æ¨¡å‹ï¼Œéƒ½éš¾ä»¥åˆ¤æ–­è¿™äº›å˜æ›´æ˜¯çœŸæ­£è§£å†³äº†é—®é¢˜ï¼Œè¿˜æ˜¯åœ¨å¼•å…¥æ–°é—®é¢˜çš„åŒæ—¶ç ´åäº†åŸæœ‰çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ—©æœŸçš„ Demo é˜¶æ®µï¼Œä¾èµ–äººå·¥æµ‹è¯•æˆ–è®¸èƒ½å¿«é€ŸéªŒè¯æƒ³æ³•ã€‚ç„¶è€Œï¼ŒAgent ç³»ç»Ÿä¸åŒäºå•æ¬¡äº¤äº’çš„å¯¹è¯æ¨¡å‹ï¼Œå®ƒåŒ…å«å¤šæ­¥éª¤æ¨ç†å’ŒåŠ¨æ€å·¥å…·è°ƒç”¨ã€‚éšç€ç³»ç»Ÿå¤æ‚åº¦çš„å¢åŠ ï¼Œæ‰‹åŠ¨æµ‹è¯•çš„è¦†ç›–ç‡å’Œå›å½’æ•ˆç‡å°†éš¾ä»¥ä¸ºç»§ï¼Œå›¢é˜Ÿå¾ˆå®¹æ˜“é™·å…¥â€œç”±äºç¼ºä¹å‰ç½®æ£€æµ‹ï¼Œåªèƒ½ä¾èµ–çº¿ä¸Šåé¦ˆè¢«åŠ¨ä¿®å¤ Bugâ€çš„æ¶æ€§å¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼ŒEvals ä¹Ÿæ˜¯äº§å“ä¸ç ”å‘ä¹‹é—´çš„é€šç”¨è¯­è¨€ã€‚å°†æ¨¡ç³Šçš„ä¸»è§‚æ„Ÿå—ï¼Œè½¬åŒ–ä¸ºå‡†ç¡®ç‡ã€å“åº”å»¶è¿Ÿå’Œ Token æˆæœ¬ç­‰å¯åº¦é‡çš„å·¥ç¨‹æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fbd42e7b2f3e9bb5218142796d3ede4816588dec0-4584x2834.png&amp;amp;w=3840&amp;amp;q=75&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;ç›®å‰çš„è¯„ä¼°æ–¹å¼ï¼Œä¾æ—§è¿˜æ˜¯ä¸‰å¤§ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;äººå·¥è¯„ä¼°&lt;/strong&gt;ï¼šæœ€å‡†ç¡®ä½†æœ€è´µã€‚é€šå¸¸ç”¨æ¥ä½œä¸ºGoldenï¼Œç”¨äºæ ¡å‡†è‡ªåŠ¨è¯„ä¼°çš„å‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç åŸºå‡† (Code-based)&lt;/strong&gt;ï¼šé€‚ç”¨äºæœ‰æ˜ç¡®å”¯ä¸€ç­”æ¡ˆçš„åœºæ™¯ï¼ˆå¦‚æ•°å­¦è®¡ç®—ã€ä»£ç è¿è¡Œï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LLM-as-a-judge&lt;/strong&gt;ï¼šç›®å‰çš„ä¸»æµã€‚ç”¨æ›´å¼ºçš„æ¨¡å‹å»è¯„ä¼°å…¶ä»–æ¨¡å‹çš„è¾“å‡ºã€‚&lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šéœ€è¦ç»è¿‡äººç±»ä¸“å®¶çš„æ ¡å‡†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ï¼ˆæ³¨ï¼šå…³äºè¯„ä¼°çš„å…·ä½“ç»†èŠ‚ä¸æœ€ä½³å®è·µï¼Œæ¨èå‚è€ƒ Hugging Face  çš„ &lt;strong&gt;&lt;a href=&#34;https://huggingface.co/spaces/OpenEvals/evaluation-guidebook#the-model-builder-perspective-am-i-building-a-strong-model&#34;&gt;The LLM Evaluation Guidebook&lt;/a&gt;&lt;/strong&gt; ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;agent-eval-å’Œllm-eval-çš„ä¸åŒ&#34;&gt;Agent Eval å’ŒLLM Eval çš„ä¸åŒ&lt;/h2&gt;
&lt;p&gt;ç›¸æ¯”äºå•çº¯çš„ RAG æˆ– LLM è¯„ä¼°ï¼ŒAgent çš„è¯„ä¼°å¤æ‚åº¦è¦é«˜å¾—å¤šã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»â€œæµ‹æ¨¡å‹â€åˆ°â€œæµ‹ç³»ç»Ÿâ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ­£å¦‚&lt;a href=&#34;https://epoch.ai/gradient-updates/why-benchmarking-is-hard&#34;&gt;Why benchmarking is hard&lt;/a&gt;ï¼Œä¸­æåˆ°çš„â€œè®¸å¤šå˜åŠ¨çš„éƒ¨ä»¶å’Œè‡ªç”±åº¦éƒ½ä¼šå½±å“æœ€ç»ˆç»“æœâ€ã€‚åœ¨ Agent å¼€å‘ä¸­ï¼Œ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æµ‹è¯•çš„æ°¸è¿œä¸æ˜¯â€œè£¸æ¨¡å‹â€ï¼Œè€Œæ˜¯ &lt;strong&gt;â€œæ¨¡å‹ + Harnessâ€&lt;/strong&gt; è¿™ä¸ªæ•´ä½“ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„Harness åˆ†æˆä¸¤å¤§éƒ¨åˆ†ï¼šEval Harnessï¼ˆæˆ‘ä»¬çš„è¯„ä¼°ç³»ç»Ÿæœ¬èº«ï¼‰+ Agent Harness (Scaffold)ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tongyi Deep Research è®ºæ–‡ç¬”è®°</title>
      <link>https://niraya666.github.io/posts/tongyi-deep-research-%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Mon, 24 Nov 2025 20:08:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/tongyi-deep-research-%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;p&gt;çœ‹ç€&lt;a href=&#34;https://www.modelscope.cn/studios/jialongwu/Tongyi-DeepResearch&#34;&gt;Tongyi Deep Research&lt;/a&gt; ï¼ˆTDRï¼‰ç”¨ç€30Bçš„å‚æ•°é‡èƒ½å¤Ÿè·‘å‡ºåª²ç¾é—­æºæ¨¡å‹çš„æ•ˆæœï¼Œæ€»æ˜¯å¥½å¥‡ç©¶ç«Ÿæ€ä¹ˆåšåˆ°çš„?&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ä¸€ä¸ªå¤šæœˆæ–­æ–­ç»­ç»­ï¼Œæ€»ç®—è¯»å®Œäº†äº†Tongyi Deep Research çš„ä¸€ç³»åˆ—è®ºæ–‡ï¼Œè™½è¯´è¶Šå¾€åï¼Œå®˜æ–¹é€éœ²çš„æŠ€æœ¯ç»†èŠ‚è¶Šå°‘ï¼Œä½†ç»†è¯»ä¸‹æ¥ï¼Œä¾ç„¶èƒ½ä¸€çª¥å…¶èƒŒåçš„â€œé—¨é“â€ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼ŒTDRåœ¨è®­ç»ƒç®—æ³•ä¸Šå¹¶æ²¡æœ‰å¤ªå¤šé»‘ç§‘æŠ€ï¼Œåå€’æ˜¯&lt;strong&gt;æ•°æ®çš„åˆæˆã€è®­ç»ƒç¯å¢ƒçš„è®¾è®¡å’Œå¤§é‡çš„å·¥ç¨‹åŒ–è®¾è®¡&lt;/strong&gt;ï¼Œæˆ–è®¸æ‰æ˜¯å…¶æˆåŠŸçš„å…³é”®ï¼Œä»¥åŠé‡ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚ä»ä»¥ä¸‹3ä¸ªè§’åº¦å‡ºå‘ï¼Œæ•´ç†äº†ä¸‹TDRç³»åˆ—è®ºæ–‡ä¸­çš„æœ€ä½³å®è·µå’Œåˆ›æ–°ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Agentçš„è®­ç»ƒæ–¹å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®­ç»ƒæ‰€ä½¿ç”¨çš„æ•°æ®åˆæˆç®¡é“å’Œæ–¹æ³•è®º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å·¥ç¨‹åŒ–ä¼˜åŒ–å’Œè®¾è®¡&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®­ç»ƒæ–¹å¼&#34;&gt;è®­ç»ƒæ–¹å¼&lt;/h2&gt;
&lt;p&gt;é€šè¿‡LLM+å·¥ç¨‹åŒ–å®ç°agentï¼Œè¿˜æ˜¯ç›´æ¥å°†agentèƒ½åŠ›å†…åŒ–è‡³LLMä¸­ï¼ŸTDLé€‰æ‹©äº†åè€…ï¼Œå¹¶æä¾›äº†æ›´å®Œæ•´çš„è®­ç»ƒé“¾è·¯ï¼šAgentic Mid-training + Agentic post-trainingã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Agentic Mid-training&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ¦‚å¿µä¸»è¦æºäº&lt;a href=&#34;https://arxiv.org/abs/2509.13310&#34;&gt;AgentFounder&lt;/a&gt;è®ºæ–‡ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨ä¼ ç»Ÿçš„åè®­ç»ƒï¼ˆPost-trainingï¼‰ä¹‹å‰ï¼Œå¢åŠ ä¸€ä¸ª&lt;strong&gt;Agentic Continual Pre-training (CPT)&lt;/strong&gt;Â é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Tongyi%20Deep%20Research%20%e8%ae%ba%e6%96%87%e7%ac%94%e8%ae%b0-assets/%e6%88%aa%e5%b1%8f2025-10-24%20%e4%b8%8b%e5%8d%881.32.19.png&#34; alt=&#34;æˆªå±2025-10-24 ä¸‹åˆ1.32.19.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆéœ€è¦CPTï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åè®­ç»ƒæµç¨‹é¢ä¸´ä¸€ä¸ªæ ¸å¿ƒå›°å¢ƒï¼šè¦æ±‚ä¸€ä¸ªç”¨æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªtokençš„LLMï¼Œåœ¨åè®­ç»ƒé˜¶æ®µåŒæ—¶å­¦ä¹ ä¸¤ä»¶æˆªç„¶ä¸åŒçš„äº‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•ç†è§£å’Œè°ƒç”¨å·¥å…·ã€å¦‚ä½•è¿›è¡Œå¤šæ­¥è§„åˆ’ ï¼ˆåŸºç¡€çš„agentèƒ½åŠ›ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•åœ¨ç‰¹å®šå¤æ‚ä»»åŠ¡ä¸Šåšå‡ºæœ€ä¼˜å†³ç­– ï¼ˆä¸“å®¶èƒ½åŠ›ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Agentic CPTçš„ç›®æ ‡å°±æ˜¯è§£å†³è¿™ä¸€çŸ›ç›¾ï¼Œå…ˆå°†ä¸€ä¸ªé€šç”¨çš„LLMè½¬å˜ä¸ºAgentic Foundation Modelï¼Œå°†æ›´å¼ºçš„å·¥å…·è°ƒç”¨å’Œæ¨ç†èƒ½åŠ›å†…åŒ–å…¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ï¼Œåä¸€ä¸ªé˜¶æ®µï¼ˆagentic post-trainingï¼‰æ–¹æ³•åŸºæœ¬ä¸Šæˆä¸ºå…±è¯†ï¼š SFT+RLï¼Œå¹¶æ²¡æœ‰å¤ªå¤šæ–°çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨RLçš„ç¯å¢ƒæ„å»ºï¼Œé‡‡ç”¨äº†åŒç¯å¢ƒçš„è®¾è®¡ï¼Œ é’ˆå¯¹web-agentåœºæ™¯ï¼Œ ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒç¡®å®å¯ä»¥èŠ‚çº¦å¤§é‡çš„æ—¶é—´å’Œæˆæœ¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡æ‹Ÿç¯å¢ƒï¼š&lt;/strong&gt; æ„å»ºä¸€ä¸ªç¦»çº¿çš„æœç´¢å’ŒæŸ¥è¯¢ç¯å¢ƒï¼Œç”¨äºå¿«é€ŸéªŒè¯ç®—æ³•å’Œç­–ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;çœŸå®ä¸–ç•Œç¯å¢ƒï¼š&lt;/strong&gt; çœŸå®çš„å¤–éƒ¨APIï¼Œç”¨äºè®­ç»ƒå’Œè¯„ä¼°ï¼›é‡‡ç”¨5ç§å·¥å…·ï¼ˆSearch, Visit, Python Interpreter, Google Scholar, and File Parserï¼‰ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ•°æ®åˆæˆ&#34;&gt;æ•°æ®åˆæˆ&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•è·å¾—&lt;strong&gt;å¤§é‡é«˜è´¨é‡çš„åˆæˆæ•°æ®&lt;/strong&gt;æ¥æ”¯æ’‘CPTã€SFTå’ŒRLï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Tongyi%20Deep%20Research%20%e8%ae%ba%e6%96%87%e7%ac%94%e8%ae%b0-assets/image.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;h3 id=&#34;webwalker--webdancer&#34;&gt;WebWalker &amp;amp; WebDancer&lt;/h3&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå·¥ä½œä¸­å¯¹åº”ç€å‡ ä¸ªbenchmarkå’Œæ•°æ®é›†çš„æ„å»ºï¼š&lt;strong&gt;WebWalkerQA å’Œ CRAWL QA&lt;/strong&gt;Â (æ¨¡æ‹Ÿæµè§ˆ) &amp;amp;Â &lt;strong&gt;E2HQA&lt;/strong&gt;(ç”±æ˜“åˆ°éš¾)&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæœ‰äº†Copaliç³»åˆ—æ¨¡å‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦OCRå—ï¼Ÿ</title>
      <link>https://niraya666.github.io/posts/rag-toolkits-copali/</link>
      <pubDate>Mon, 22 Sep 2025 18:56:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag-toolkits-copali/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ç°é˜¶æ®µçš„RAGæ˜¯ä¸ªç¼åˆæ€ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å†™åœ¨å¼€å¤´&#34;&gt;å†™åœ¨å¼€å¤´&lt;/h2&gt;
&lt;p&gt;å¦‚æœå›é¡¾RAGé‚£çŸ­æš‚çš„å†å²ï¼Œå…¶æœ€åˆä¸»è¦æ˜¯ä¸ºäº†è§£å†³æ¨¡å‹çŸ¥è¯†çš„åŠ¨æ€æ›´æ–°å’Œé™ä½æ¨¡å‹å¹»è§‰è€Œè®¾è®¡çš„ï¼Œæ ¸å¿ƒå‡è®¾æ˜¯çŸ¥è¯†å­˜åœ¨äºç¦»æ•£çš„ã€çº¯æ–‡æœ¬çš„æ®µè½ä¸­ã€‚ç„¶è€Œï¼Œéšç€å¤šæ¨¡æ€å¤§æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œä¾ç„¶æ²¿ç”¨ç€è¿™ç§â€œå…ˆè§£æã€å†åˆ†å—ã€ååµŒå…¥â€çš„æ—§æ€æƒ³æ¥å¤„ç†è•´å«ä¸°å¯Œè§†è§‰ä¿¡æ¯çš„æ–‡æ¡£ï¼Œè¿™å¥—å½“åˆçš„è®¾è®¡æ”¾åœ¨ç°åœ¨å°±æ˜¾å¾—æœ‰äº›â€œåˆ»èˆŸæ±‚å‰‘â€ï¼Œç”šè‡³æˆäº†ä¸€ç§å†å²åŒ…è¢±ã€‚è¿™ä¾¿å¼•å‡ºäº†æˆ‘ä»¬ä»Šå¤©è¦æ¢è®¨çš„æ ¸å¿ƒé—®é¢˜ï¼šä¸ºäº†è®©æ¨¡å‹â€œè¯»æ‡‚â€å›¾æ–‡å¹¶èŒ‚çš„å¤æ‚æ–‡æ¡£ï¼Œæˆ‘ä»¬çœŸçš„éœ€è¦å¦‚æ­¤ç¹ççš„é¢„å¤„ç†å—ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;ç°é˜¶æ®µragä¸­å­˜åœ¨çš„é—®é¢˜&#34;&gt;ç°é˜¶æ®µRAGä¸­å­˜åœ¨çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;å…ˆç»†æ•°ä¸€ä¸‹å½“å‰ä¸»æµRAGæ¶æ„ä¸­ï¼Œæ‰€å­˜åœ¨çš„æ™®éé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¾èµ–ä¸“é—¨çš„OCRæ¨¡å‹ï¼Œlayoutåˆ†ææ¨¡å‹å¯¹æ–‡æ¡£è¿›è¡Œä¿¡æ¯æå–ï¼šä¸€ä¸ªå…¸å‹çš„PDFæ–‡æ¡£å¤„ç†æµç¨‹å¯èƒ½éœ€è¦ layoutåˆ†ææ¨¡å‹ï¼ŒOCRæ¨¡å‹ï¼Œè¡¨æ ¼è¯†åˆ«æ¨¡å‹ç­‰ã€‚å¤šæ¨¡å‹åˆ™å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦å’Œå»¶è¿Ÿï¼Œè€Œä¸”æ¯ä¸€æ­¥éƒ½å­˜åœ¨ä¸€å®šçš„ä¿¡æ¯æŸå¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸åŒæ–‡ä»¶æ ¼å¼éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼ï¼šPDFã€Wordã€Markdownã€PPTX&amp;hellip; æ¯ä¸€ç§æ–‡ä»¶ç±»å‹éƒ½éœ€è¦ä¸€å¥—ä¸åŒçš„è§£æç­–ç•¥ã€‚è¿™å¯¼è‡´è§£æç³»ç»Ÿå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œç»´æŠ¤æˆæœ¬ä¸Šå‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾åƒä¿¡æ¯çš„ä¸¢å¤±ï¼šä¼ ç»Ÿçš„RAGå‡ ä¹æ˜¯çº¯æ–‡æœ¬çš„ã€‚å½“é‡åˆ°å›¾åƒã€å¤æ‚è¡¨æ ¼ã€æµç¨‹å›¾æ—¶ï¼Œä¿¡æ¯ä¸¢å¤±æ˜¯å¿…ç„¶çš„ã€‚å³ä¾¿å¼•å…¥å¤šæ¨¡æ€æ¨¡å‹åšImage-Captioningï¼Œå°†å›¾åƒè½¬è¯‘æˆä¸€æ®µæè¿°æ€§æ–‡å­—ï¼Œå…¶ä¿¡æ¯çš„ç²¾ç¡®åº¦å’Œå®Œæ•´åº¦ä¹Ÿè¿œè¿œæ— æ³•ä¸åŸå§‹å›¾åƒç›¸æ¯”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éœ€è¦é’ˆå¯¹æ€§è°ƒæ•´åˆ†å—ç­–ç•¥å’Œç´¢å¼•è®¾è®¡ï¼šå¾€å¾€éœ€è¦ä¸ºä¸åŒç±»å‹çš„æ–‡æ¡£ã€ä¸åŒç±»å‹çš„åœºæ™¯ï¼Œè®¾è®¡åˆ†å—ç­–ç•¥å’Œç´¢å¼•ç»“æ„ã€‚æ˜¯æŒ‰å›ºå®šå¤§å°åˆ†å—ï¼Œè¿˜æ˜¯æŒ‰ç« èŠ‚åˆ†å—ï¼Ÿå¯¹äºä¸€ç¯‡è®ºæ–‡å’Œä¸€ä»½äº§å“æ‰‹å†Œï¼Œæœ€ä½³ç­–ç•¥æ˜¾ç„¶ä¸åŒã€‚è¿™ç§é«˜åº¦å®šåˆ¶åŒ–çš„è®¾è®¡ï¼Œä½¿å¾—RAGç³»ç»Ÿéš¾ä»¥æ‰©å±•å’Œè¿ç§»ï¼Œæ¶æ„è¿‡äºå¤æ‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å‰ä½œä¸­ï¼Œæ›¾å±•æœ›è¿‡VLMåœ¨RAGé¢†åŸŸçš„å·¨å¤§æ½œåŠ›ï¼Œç‰¹åˆ«æ˜¯æ„å»ºä¸€ä¸ªEnd-to-Endçš„RAGç³»ç»Ÿã€‚è¿™ä¸ªè®¾æƒ³çš„ç›®æ ‡ï¼Œæ­£æ˜¯ä¸ºäº†å½»åº•æ¨ç¿»ä¸Šè¿°å¤æ‚çš„â€œé¢„å¤„ç†â€ï¼Œè®©ä¿¡æ¯å¤„ç†å›å½’ç®€æ´å’Œé«˜æ•ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆç°é˜¶æ®µend-to-endçš„ragæ˜¯å¯è¡Œçš„&#34;&gt;ä¸ºä»€ä¹ˆç°é˜¶æ®µEnd-to-Endçš„RAGæ˜¯å¯è¡Œçš„ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç«¯åˆ°ç«¯çš„RAGï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œæ‰€è§å³æ‰€å¾—â€ã€‚ä¸å†è´¹åŠ›åœ°å°†æ–‡æ¡£â€œç¿»è¯‘â€æˆæ¨¡å‹èƒ½ç†è§£çš„çº¯æ–‡æœ¬æ ¼å¼ï¼Œè€Œæ˜¯ç›´æ¥å°†æ–‡æ¡£çš„â€œè§†è§‰å½¢æ€â€â€”â€”å³æ–‡æ¡£é¡µé¢å›¾åƒï¼Œç›´æ¥è¾“å…¥ç»™VLMã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;VLMçš„VQAèƒ½åŠ›å¼ºäºOCR&lt;/strong&gt;ï¼šå¿…é¡»æ‰¿è®¤ï¼Œåœ¨å¤æ‚æ–‡æ¡£çš„ç†è§£ä¸Šï¼ŒVLMçš„èƒ½åŠ›å¼ºäºå…¶OCRèƒ½åŠ›çš„ã€‚ä¸å…¶åœ¨OCRè¿™æ¡è·¯ä¸Šâ€œè±¡ç‰™é‡Œé›•èŠ±â€ï¼Œå°†å¤æ‚æ–‡æ¡£è½¬æ¢æˆçº¯æ–‡æœ¬å½¢å¼ï¼Œ ä¸å¦‚ç›´æ¥å°†æ–‡æ¡£é¡µé¢è§†ä¸ºä¸€å¼ å›¾ç‰‡ï¼Œåˆ©ç”¨VLMçš„VQAèƒ½åŠ›ç›´æ¥åœ¨å›¾åƒä¸Šè¿›è¡Œä¿¡æ¯å®šä½å’Œå›ç­”ï¼Œè¿™ä¸ä»…è·³è¿‡äº†ä¸­é—´ç¹ççš„æ­¥éª¤ï¼Œæ›´ä»æ ¹æœ¬ä¸Šé¿å…äº†ä¿¡æ¯åœ¨å¤šæ¬¡è½¬æ¢ä¸­çš„æŸå¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Late Interactionæ¨¡å‹çš„å‡ºç°&lt;/strong&gt;ï¼šä»¥&lt;code&gt;ColBERT&lt;/code&gt;ä¸ºä»£è¡¨çš„Late Interactionæ¨¡å‹ï¼Œæä¾›å…¨æ–°çš„æ€è·¯ã€‚ä¼ ç»Ÿçš„å‘é‡æ£€ç´¢æ˜¯å°†æ•´ä¸ªæ–‡æœ¬å—å‹ç¼©æˆä¸€ä¸ªå•ä¸€çš„å‘é‡ï¼Œè¿™æ— ç–‘ä¼šä¸¢å¤±å¤§é‡ç»†èŠ‚ã€‚è€Œ&lt;code&gt;ColBERT&lt;/code&gt;åˆ™æ˜¯ä¸ºæ–‡æœ¬å—ä¸­çš„æ¯ä¸ªTokenéƒ½ç”Ÿæˆä¸€ä¸ªå‘é‡ã€‚æ£€ç´¢æ—¶ï¼Œåˆ™é€šè¿‡MaxSimæ“ä½œè®¡ç®—ç›¸å…³æ€§åˆ†æ•°ã€‚ è€Œè¿™ä¸ªæ€æƒ³å¯ä»¥è¿ç§»åˆ°è§†è§‰é¢†åŸŸï¼šå°†å›¾åƒä¸­çš„æ¯ä¸ªPatchä½œä¸ºå‘é‡åŒ–çš„åŸºæœ¬å•ä½ï¼Œè€Œä¸æ˜¯å¯¹æ•´å¼ å›¾ç‰‡æ„å»ºç´¢å¼•ï¼ˆCLIPï¼‰ã€‚ åŒæ—¶æ–‡æ¡£çš„æ¯ä¸€é¡µå¤©ç„¶å°±æ˜¯ä¸€ä¸ªåˆ†å—åVLMçš„è¾“å…¥å•å…ƒï¼Œçœå»äº†è®¾è®¡Chunkingç­–ç•¥çš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å‹èƒ½åŠ›å’ŒåŸºç¡€è®¾æ–½çš„æˆç†Ÿ&lt;/strong&gt;ï¼šä¸»æµçš„VLMå·²ç»æ”¯æŒå¤šå¼ é«˜åˆ†è¾¨ç‡å›¾ç‰‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¸”æ‹¥æœ‰è¶³å¤Ÿé•¿çš„ä¸Šä¸‹æ–‡çª—å£æ¥å¤„ç†æ•´ä¸ªæ–‡æ¡£ã€‚ä¸»æµçš„LLMæ¨ç†æ¡†æ¶ä¹Ÿæ”¯æŒäº†å¤šå›¾åƒè¾“å…¥ï¼Œè¿™ä¹Ÿä¸ºç«¯åˆ°ç«¯çš„æ–‡æ¡£çº§ç†è§£æä¾›äº†åŸºç¡€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;copaliç³»åˆ—æ¨¡å‹&#34;&gt;Copaliç³»åˆ—æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Co&lt;/strong&gt;ntextualized &lt;strong&gt;L&lt;/strong&gt;ate &lt;strong&gt;I&lt;/strong&gt;nteraction &lt;strong&gt;O&lt;/strong&gt;ver &lt;strong&gt;Pali&lt;/strong&gt;Gemma ï¼ˆCopaliï¼‰ä¾¿æ˜¯è¯¥ç³»åˆ—çš„å¼€å±±ä¹‹ä½œã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ColBERTåœ¨å›¾åƒæ•°æ®ä¸Šçš„æ‰©å±•ã€‚ï¼ˆColBERTç›¸å…³å†…å®¹å¯å‚è€ƒ&lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/&#34;&gt;å‰ä½œ&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://arxiv.org/html/2407.01449v6/extracted/6240861/images/final_architecture.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;é€‰ç”¨Â &lt;a href=&#34;https://huggingface.co/blog/zh/paligemma&#34;&gt;PaliGemma-3B&lt;/a&gt;Â ä½œä¸ºåŸºç¡€æ¨¡å‹ï¼ˆä»¥&lt;a href=&#34;https://huggingface.co/docs/transformers/model_doc/siglip&#34;&gt;SigLIP&lt;/a&gt;ä½œä¸ºvision-encoderï¼Œé€šè¿‡ä¸€ä¸ªçº¿æ€§å±‚å°†å›¾åƒpatchæ˜ å°„è‡³LLMï¼Œå³Gemma-2Bçš„åµŒå…¥ç©ºé—´ï¼‰ï¼Œç±»ä¼¼ColBERTï¼Œåœ¨LLMçš„è¾“å‡ºåå†å¢åŠ ä¸€ä¸ªæŠ•å½±å±‚ï¼Œä»è€Œå®ç°å¤šå‘é‡è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/paligemma/paligemma_arch.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡æ¡£ä¾§ï¼ˆæ„å»ºç´¢å¼•æ—¶ï¼‰&lt;/strong&gt;ï¼šå°†ä¸€å¼ æ–‡æ¡£é¡µé¢å›¾åƒè¾“å…¥åˆ°ColPaliä¸­ã€‚ç›´æ¥é€šè¿‡è§†è§‰ç¼–ç å™¨å°†å…¶è½¬æ¢ä¸ºä¸€ç³»åˆ—å›¾åƒpatchï¼ˆ1024ï¼‰ï¼Œè¿™äº›åµŒå…¥éšåè¢«é€å…¥LLMï¼Œæœ€ç»ˆé€šè¿‡ä¸€ä¸ªæŠ•å½±å±‚ï¼Œä¸º&lt;strong&gt;æ¯ä¸ªå›¾åƒå—&lt;/strong&gt;ç”Ÿæˆä¸€ä¸ª128ç»´å‘é‡ã€‚è¿™æ ·ï¼Œä¸€é¡µæ–‡æ¡£å°±è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªbag-of-embeddingsã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥è¯¢ä¾§ï¼ˆæ£€ç´¢ï¼‰&lt;/strong&gt;ï¼šç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æŸ¥è¯¢ï¼ˆqueryï¼‰è¢«é€å…¥æ¨¡å‹çš„è¯­è¨€æ¨¡å‹éƒ¨åˆ†ï¼ŒåŒæ ·ä¸ºæŸ¥è¯¢ä¸­çš„&lt;strong&gt;æ¯ä¸ªtoken&lt;/strong&gt;ç”Ÿæˆä¸€ä¸ªå‘é‡&lt;/p&gt;
&lt;p&gt;åœ¨æ£€ç´¢æ—¶ï¼Œä½¿ç”¨ç±»ä¼¼ColBERTçš„&lt;strong&gt;MaxSim&lt;/strong&gt;æ“ä½œæ¥è®¡ç®—æŸ¥è¯¢ä¸æ–‡æ¡£é¡µé¢çš„ç›¸å…³æ€§åˆ†æ•°&lt;/p&gt;
&lt;p&gt;è®­ç»ƒé˜¶æ®µï¼Œåœ¨&lt;a href=&#34;https://huggingface.co/datasets/vidore/colpali_train_set&#34;&gt;vidore/colpali_train_set&lt;/a&gt; 118Kä¸ªquery-é¡µé¢å¯¹ä¸Šåšå¯¹æ¯”å­¦ä¹ è·å¾—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Copali-assets/image.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä¸ºäº†ç³»ç»Ÿæ€§åœ°è¯„ä¼°å¯Œè§†è§‰æ–‡æ¡£çš„æ£€ç´¢èƒ½åŠ›ï¼Œä½œè€…åˆ›å»ºäº†ä¸€ä¸ªåä¸º&lt;a href=&#34;https://huggingface.co/collections/vidore/vidore-benchmark-667173f98e70a1c0fa4db00d&#34;&gt;ViDoRe&lt;/a&gt; (Visual Document Retrieval Benchmark)Â çš„ç»¼åˆæ€§è¯„æµ‹åŸºå‡†ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä»¥PaliGemma ä¸ºbased çš„æ¨¡å‹å¤–ï¼Œè¿˜æœ‰å°†åŸºç¡€æ¨¡å‹æ¢æˆQwen2-VL å’ŒQwen2.5-VL çš„&lt;a href=&#34;https://huggingface.co/docs/transformers/model_doc/colqwen2&#34;&gt;ColQwen2&lt;/a&gt;æ¨¡å‹&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Model&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Score on &lt;a href=&#34;https://huggingface.co/spaces/vidore/vidore-leaderboard&#34;&gt;ViDoRe&lt;/a&gt; ğŸ†&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;License&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Comments&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali&#34;&gt;vidore/colpali&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;81.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;google/paligemma-3b-mix-448&lt;/code&gt;.&lt;br /&gt;â€¢ Checkpoint used in the ColPali paper.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.1&#34;&gt;vidore/colpali-v1.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;81.5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;google/paligemma-3b-mix-448&lt;/code&gt;.&lt;br /&gt;â€¢ Fix right padding for queries.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.2&#34;&gt;vidore/colpali-v1.2&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;83.9&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colpali-v1.1&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colpali-v1.3&#34;&gt;vidore/colpali-v1.3&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;84.8&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gemma&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colpali-v1.2&lt;/code&gt;.&lt;br /&gt;â€¢ Trained with a larger effective batch size of 256 batch size for 3 epochs.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2-v0.1&#34;&gt;vidore/colqwen2-v0.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;87.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;Qwen/Qwen2-VL-2B-Instruct&lt;/code&gt;.&lt;br /&gt;â€¢ Supports dynamic resolution.&lt;br /&gt;â€¢ Trained using 768 image patches per page and an effective batch size of 32.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2-v1.0&#34;&gt;vidore/colqwen2-v1.0&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;89.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colqwen2-v0.1&lt;/code&gt;, but trained with more powerful GPUs and with a larger effective batch size (256).&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2.5-v0.1&#34;&gt;vidore/colqwen2.5-v0.1&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;88.8&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;Qwen/Qwen2 5-VL-3B-Instruct&lt;/code&gt;&lt;br /&gt;â€¢ Supports dynamic resolution.&lt;br /&gt;â€¢ Trained using 768 image patches per page and an effective batch size of 32.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colqwen2.5-v0.2&#34;&gt;vidore/colqwen2.5-v0.2&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;89.4&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Similar to &lt;code&gt;vidore/colqwen2.5-v0.1&lt;/code&gt;, but trained with slightly different hyper parameters&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colSmol-256M&#34;&gt;vidore/colSmol-256M&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;80.1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;HuggingFaceTB/SmolVLM-256M-Instruct&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://huggingface.co/vidore/colSmol-500M&#34;&gt;vidore/colSmol-500M&lt;/a&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;82.3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Apache 2.0&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;â€¢ Based on &lt;code&gt;HuggingFaceTB/SmolVLM-500M-Instruct&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ï¼ˆFrom &lt;strong&gt;&lt;a href=&#34;https://github.com/illuin-tech/colpali&#34;&gt;colpali&lt;/a&gt;&lt;/strong&gt;ï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šColBERT</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/</link>
      <pubDate>Tue, 12 Aug 2025 20:56:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1colbert/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;å‰ä¸€æ®µæ—¶é—´è·‘æ¯”èµ›æ—¶ï¼Œè‹¦äºä¸Šåˆ†é™·å…¥ç“¶é¢ˆï¼Œäºæ˜¯ä¾¿ç¥­å‡ºäº†MLç»å…¸ensembleå¤§æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªåˆ†æ”¯ä¾¿æ˜¯é€‰æ‹©çš„ColBERTï¼Œæ²¡æƒ³åˆ°ï¼Œç«Ÿæˆäº†ç ´å±€çš„å…³é”®ï¼›ä¹Ÿç”±æ­¤è¡¥é½äº†æˆ‘å¯¹â€œè¿Ÿäº¤äº’â€ç±»æ¨¡å‹çš„è®¤çŸ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨å…¸å‹çš„æ£€ç´¢ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ¶æ„æ˜¯ &lt;strong&gt;Retrieval + Reranking&lt;/strong&gt;ä¸¤é˜¶æ®µ:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ£€ç´¢é˜¶æ®µ&lt;/strong&gt;ä½¿ç”¨è½»é‡çº§çš„æ–¹æ³•ï¼ˆå¦‚BM25æˆ–dense vector retrieverï¼‰ä»æµ·é‡è¯­æ–™ä¸­å¿«é€Ÿç­›é€‰å‡ºå‡ ç™¾ä¸ªå€™é€‰æ–‡æ¡£ï¼Œä¼˜å…ˆè€ƒè™‘é€Ÿåº¦å’Œå¬å›ç‡ï¼›&lt;strong&gt;æ’åºé˜¶æ®µ&lt;/strong&gt;åˆ™ä½¿ç”¨cross-encoderåŸºäº query-document å…¨é‡äº¤äº’ï¼Œé‡æ–°ç»™å€™é€‰é›†æ‰“åˆ†ï¼Œå¾—åˆ°ç²¾å‡†çš„æœ€ç»ˆæ’åºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆåšè™½è¿è¡Œè‰¯å¥½ï¼Œä½†å­˜åœ¨ç“¶é¢ˆï¼šç¬¬ä¸€é˜¶æ®µæ£€ç´¢è´¨é‡çš„é™åˆ¶æ„å‘³ç€å¤§é‡ä½è´¨é‡å€™é€‰è¢«é€å…¥æ˜‚è´µçš„ç¬¬äºŒé˜¶æ®µï¼Œè€Œcross-encoderåœ¨å¤§è§„æ¨¡å€™é€‰é›†ä¸Šçš„è®¡ç®—æˆæœ¬å¥‡é«˜ï¼Œ é«˜ç›¸å…³çš„æ–‡æ¡£å¦‚æœæ²¡èƒ½è¢«ç¬¬ä¸€é˜¶æ®µå¬å›ï¼Œå°±æ— æ³•è¢« reranker â€œæå›æ¥â€ã€‚&lt;/p&gt;
&lt;p&gt;è€Œmulti-vectoræ¨¡å‹æ­£å¥½å¡«è¡¥äº†è¿™ä¸ªæ£€ç´¢æµæ°´çº¿ä¸­çš„â€œç©ºç™½ä¸­é—´å±‚â€â€”â€”æ¯” embedding æ›´ç²¾å‡†ï¼Œæ¯” cross-encoder æ›´é«˜æ•ˆã€‚ç›¸æ¯”å•å‘é‡ embedding æ¨¡å‹å°†æ•´ä¸ªchunkå‹ç¼©ä¸ºä¸€ä¸ªå‘é‡ï¼Œmulti-vectoræ¨¡å‹ä¿ç•™äº†Â **token çº§åˆ«çš„è¡¨ç¤ºï¼Œ**å¯ä»¥æ•æ‰åˆ°å±€éƒ¨ä¸ query é«˜åº¦åŒ¹é…çš„ç‰‡æ®µï¼Œä¹Ÿæ˜¯èƒ½ç¼“è§£â€œè¯­ä¹‰é¸¿æ²Ÿâ€çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒColBERT ä¾¿æ˜¯ç»å…¸çš„å¤šå‘é‡æ¨¡å‹/late-interactionä»£è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆå¯èƒ½åœ¨æœ¬æ–‡ä¸­ä¼šå°†ColBERT/late-interaction/multi-vector-model æ··ä¸ºä¸€è°ˆï¼Œæ¯•ç«Ÿåªæ˜¯å®ä¾‹-æœºåˆ¶-ç±»åˆ« çš„å…³ç³» ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;ä¸åŒçš„äº¤äº’å±‚çº§&#34;&gt;ä¸åŒçš„â€œäº¤äº’â€å±‚çº§&lt;/h2&gt;
&lt;p&gt;ï¼ˆå€Ÿç”¨ColBERTè®ºæ–‡ä¸­çš„æ’å›¾ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/rag_toolkits/rag_retrieval_colbert.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;æƒ³è¦ç†è§£late-interactionï¼Œéœ€è¦å…ˆç†è§£è¿‡å»çš„ä¸åŒâ€œäº¤äº’â€å½¢å¼ï¼›&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Representation-based Similarity ï¼ˆno-interactionï¼Œembeddingï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯åŒå¡”ï¼Œ queryå’Œdocumentç‹¬ç«‹è®¡ç®—å‡ºä¸€ä¸ªå‘é‡ï¼Œæ¯”è¾ƒä¸¤ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦è·å¾—åˆ†æ•°Sï¼›åœ¨ç”Ÿæˆå„è‡ªçš„å‘é‡å‰ï¼Œ Query å’Œ Document ä¹‹é—´æ²¡æœ‰ä»»ä½•ä¿¡æ¯äº¤äº’ï¼Œæ‰€æœ‰å¤æ‚çš„è¯­ä¹‰éƒ½è¢«å‹ç¼©è¿›äº†ä¸€ä¸ªå•ä¸€çš„å‘é‡ä¸­ï¼ˆä¹Ÿå°±å­˜åœ¨ä¿¡æ¯å‹ç¼©çš„æŸå¤±å’Œç“¶é¢ˆï¼‰&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹é€Ÿåº¦æå¿«ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œç²¾åº¦æœ‰é™ï¼Œæ‰€æœ‰ä¿¡æ¯è¢«å‹ç¼©åˆ°ä¸€ä¸ªå‘é‡ä¸­ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;All-to-all Interaction ï¼ˆcross-encoderï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›®å‰ä¸»æµåŸºäºBERT å®ç°çš„Reranker / Cross-Encoder&lt;/p&gt;
&lt;p&gt;å°†æŸ¥è¯¢å’Œæ–‡æ¡£æ‹¼æ¥æˆÂ &lt;code&gt;[CLS] query_tokens [SEP] document_tokens [SEP]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥åˆ° BERT æ¨¡å‹ä¸­ï¼Œ&lt;code&gt;[CLS]&lt;/code&gt;Â ç‰¹æ®Šæ ‡è®°æœ€ç»ˆè¾“å‡ºå‘é‡ï¼Œå°†å‘é‡è¾“å…¥ä¸€ä¸ªlinear layerä¸­ï¼Œ ä»è€Œè·å¾—è·å¾—ä¸€ä¸ª0ï½1é—´çš„æ ‡é‡å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ˜¯åœ¨å…¥å£å¤„åšçš„äº¤äº’ï¼Œäºæ˜¯ä¹Ÿè¢«ç§°ä¸ºâ€œEarly, Deep, All-to-all Interactionâ€&lt;/p&gt;
&lt;p&gt;ç›®å‰è€Œè¨€æ•ˆæœæ¯”è¾ƒå¥½çš„æ’åºæ–¹æ¡ˆï¼Œä»£ä»·æ˜¯è®¡ç®—é€Ÿåº¦æ…¢&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;Late Interaction ï¼ˆ&lt;strong&gt;ColBERT&lt;/strong&gt;ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æŸ¥è¯¢å’Œæ–‡æ¡£æ˜¯&lt;strong&gt;ç‹¬ç«‹ã€å¹¶è¡Œ&lt;/strong&gt;åœ°é€šè¿‡ BERT ç¼–ç å™¨è¿›è¡Œç¼–ç ï¼Œç”Ÿæˆå„è‡ªçš„tokençº§åˆ«å‘é‡è¡¨ç¤º&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ‹’ç»â€œæƒ³å¤ªå¤šâ€ï¼šå¤§æ¨¡å‹Thinking Budgetæ§åˆ¶æ–¹æ¡ˆè§£æ</title>
      <link>https://niraya666.github.io/posts/thinking-budget-0805/</link>
      <pubDate>Tue, 05 Aug 2025 20:12:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/thinking-budget-0805/</guid>
      <description>&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦thinking-budget&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦thinking-budget&lt;/h2&gt;
&lt;p&gt;ä½ æ˜¯å¦ä¹Ÿæ›¾è§è¿‡ä¸€ä¸ªLLMåœ¨æ·±åº¦æ€è€ƒä¸­é€æ¸é™·å…¥äº†è‡ªæˆ‘æ€€ç–‘çš„æ— é™å¾ªç¯ä¸­å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è™½ç„¶CoTä¸€å®šç¨‹åº¦ä¸Šæå‡æ¨¡å‹å›ç­”çš„å‡†ç¡®ç‡ï¼Œreasoning-modeä¹Ÿé€æ¸æˆä¸ºå„å¤§å¼€æºæ¨¡å‹ä¸­çš„å¿…éœ€å“ã€‚ä½†æ–°çš„é—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥ï¼šå¤±æ§çš„æ€è€ƒã€‚LLMå¸¸å¸¸ä¼šè¡¨ç°å‡ºoverthinkingçš„é—®é¢˜ï¼Œå¤§é‡å†—ä½™çŒœæµ‹ï¼Œå’Œè‡ªæˆ‘å¦å®šï¼Œæ— ä¸€ä¸å¢åŠ tokené¢„ç®—ï¼Œè¿™äº›é—®é¢˜åœ¨å°å‚æ•°é‡çš„ã€é‡‡ç”¨è’¸é¦è·å¾—çš„reasoningæ¨¡å‹ä¸­å°¤ä¸ºå¸¸è§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•ï¼šä¸ºæ¨¡å‹çš„æ€è€ƒè®¾å®šä¸€ä¸ªé¢„ç®—ï¼Œå¯¹äºç®€å•é—®é¢˜å¯ä»¥é€‰æ‹©æ¯”è¾ƒå°‘çš„é¢„ç®—ï¼Œè€Œéš¾é¢˜å¯ä»¥ä½¿ç”¨è¾ƒå¤§çš„é¢„ç®—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸»æµæ¨¡å‹å‚å•†æ‰€æä¾›çš„æ¨ç†æ§åˆ¶&#34;&gt;ä¸»æµæ¨¡å‹å‚å•†æ‰€æä¾›çš„æ¨ç†æ§åˆ¶&lt;/h2&gt;
&lt;p&gt;ä¼šå‘ç°ï¼Œåœ¨ä¸»æµçš„æ¨¡å‹æä¾›å•†çš„APIä¸­å’Œåº”ç”¨æœåŠ¡ä¸­ï¼Œæ™®éæœ‰å¯¹äºæ¨ç†é•¿åº¦çš„æ§åˆ¶æ‰‹æ®µ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;OpenAI&lt;/strong&gt;: æä¾›äº†&lt;code&gt;reasoning.effort&lt;/code&gt;ç­‰å‚æ•°æ¥æš—ç¤ºæ¨¡å‹çš„æ€è€ƒæ·±åº¦ï¼ˆé’ˆå¯¹o1ï¼Œo3ç³»åˆ—æ¨¡å‹ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://docs.anthropic.com/en/docs/build-with-claude/extended-thinking&#34;&gt;Anthropic&lt;/a&gt;&lt;/strong&gt;: å…è®¸é€šè¿‡&lt;code&gt;budget_tokens&lt;/code&gt;æˆ–&lt;a href=&#34;https://www.anthropic.com/engineering/claude-code-best-practices&#34;&gt;ç‰¹å®šæç¤ºè¯&lt;/a&gt;ï¼ˆå¦‚ &amp;ldquo;think&amp;rdquo; &amp;lt; &amp;ldquo;think hard&amp;rdquo; &amp;lt; &amp;ldquo;think harder&amp;rdquo; &amp;lt; &amp;ldquo;ultrathink.&amp;quot;ï¼‰æ¥è§¦å‘ä¸åŒçº§åˆ«çš„æ€è€ƒ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://ai.google.dev/gemini-api/docs/thinking?hl=zh-cn#set-budget&#34;&gt;Gemini&lt;/a&gt; &amp;amp; &lt;a href=&#34;https://www.alibabacloud.com/help/en/model-studio/deep-thinking#6f0633b9cdts1&#34;&gt;Qwen&lt;/a&gt;&lt;/strong&gt;: ç›´æ¥åœ¨APIä¸­æä¾›äº†æ˜ç¡®çš„&lt;code&gt;thinking_budget&lt;/code&gt;å‚æ•°è®¾ç½®&lt;/p&gt;
&lt;h2 id=&#34;å¼€æºå®ç°budget-forcing&#34;&gt;å¼€æºå®ç°ï¼šBudget Forcing&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆå¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç‰¹åˆ«æ˜¯æœ¬åœ°åŒ–éƒ¨ç½²çš„LLMè¦å¦‚ä½•å®ç°thinking-budgetï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ€ç›´è§‚çš„æ–¹æ³•ä¾¿æ˜¯ä½¿ç”¨promptï¼Œä½†æ•ˆæœå¹¶ä¸å¥½ï¼Œç‰¹åˆ«å½“æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ²¡æœ‰ç‰¹åˆ«é’ˆå¯¹æ€§è®­ç»ƒï¼Œæ˜æ–‡åŒ–è¦æ±‚æ¨¡å‹â€œç”¨æ›´å°‘çš„tokenè¿›è¡Œæ€è€ƒâ€ ä¸€èˆ¬å¹¶ä¸èµ·ä»€ä¹ˆä½œç”¨ã€‚ç›¸æ¯”ä¹‹ä¸‹Qwen3ç³»åˆ—çš„æ··åˆthinkingæ¨¡å‹ä¸­ï¼Œåœ¨è®­ç»ƒé˜¶æ®µåŠ å…¥äº†&lt;code&gt;/think&lt;/code&gt;Â andÂ &lt;code&gt;/no_think&lt;/code&gt;çš„æ ‡è®°ï¼Œäºæ˜¯åœ¨æ¨ç†è¿‡ç¨‹ä¸­åœ¨system-promptæˆ–è€…user-promptä¸­åŠ å…¥&lt;code&gt;/no_think&lt;/code&gt;èƒ½å¤Ÿä»thinkæ¨¡å¼åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Â &lt;strong&gt;(Section 4.3)&lt;/strong&gt;&amp;ldquo;To better integrate the two modes and enable users to dynamically switch the modelâ€™s thinking process, we design chat templates for Qwen3, as shown in Table 9. Specifically, for samples in thinking mode and non-thinking mode, we introduceÂ &lt;code&gt;/think&lt;/code&gt;Â andÂ &lt;code&gt;/no think&lt;/code&gt;Â flags in the user query or system message, respectively. This allows the model to follow the userâ€™s input and select the appropriate thinking mode accordingly.&amp;rdquo;&lt;br&gt;
â€¦&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä»ä¸‹åŠåœºå¼€å§‹ï¼Œå¯¹äºè¯„ä¼°çš„é‡æ–°æ€è€ƒ: ä¸€äº›æ¦‚å¿µ</title>
      <link>https://niraya666.github.io/posts/eval_1/</link>
      <pubDate>Wed, 11 Jun 2025 15:04:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/eval_1/</guid>
      <description>&lt;h2 id=&#34;å¼•å­&#34;&gt;å¼•å­&lt;/h2&gt;
&lt;p&gt;å‰ä¸€æ®µæ—¶é—´ï¼ŒOpenAI ç ”ç©¶å‘˜å§šé¡ºé›¨åœ¨ä¸€ç¯‡å¹¿å—å…³æ³¨çš„æ–‡ç« ã€Š&lt;a href=&#34;https://ysymyth.github.io/The-Second-Half/&#34;&gt;The Second Half&lt;/a&gt;ã€‹ä¸­æå‡ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œI think we should fundamentally re-think evaluation. It means not just to create new and harder benchmarks, but to fundamentally question existing evaluation setups and create new ones, so that we are forced to invent new methods beyond the working recipe.â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŒ‡å‡ºï¼ŒAI å‘å±•çš„â€œä¸‹åŠåœºâ€å·²ç»åˆ°æ¥ï¼Œè€Œå…¶ä¸­ä¸€ä¸ªæ ¸å¿ƒè®®é¢˜ï¼Œå°±æ˜¯å¯¹ evaluationçš„é‡æ–°æ€è€ƒã€‚æˆ‘ä»¬éœ€è¦çš„ä¸å†æ˜¯å•çº¯åœ°åˆ›é€ æ›´éš¾çš„ benchmarkï¼Œç„¶ååœ¨è¿™äº› benchmark ä¸Šâ€œåˆ·åˆ†â€ï¼Œè€Œæ˜¯è¦æ›´åŠ å…³æ³¨è¯„æµ‹çš„å®ç”¨æ€§ã€åˆ›æ–°æ€§ï¼Œä»¥åŠå…¶ä¸çœŸå®ä¸–ç•Œçš„å¥‘åˆåº¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿‡å»ï¼Œæˆ‘ä»¬å¾€å¾€è¿‡äºå…³æ³¨æ¨¡å‹æœ¬èº«ã€è®­ç»ƒæ–¹æ³•ä»¥åŠå„ç§fancyçš„æŠ€æœ¯æ‰‹æ®µï¼Œå´å¿½ç•¥äº†æ¨¡å‹ä¸çœŸå®ä¸–ç•Œçš„äº¤äº’å’Œè½åœ°åº”ç”¨ã€‚è€Œ evaluationï¼Œæ­£æ˜¯è¿æ¥æ¨¡å‹èƒ½åŠ›ä¸å®é™…éœ€æ±‚çš„å…³é”®ç¯èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æœ€åˆçš„å‡ºå‘ç‚¹ï¼Œæ˜¯æ¢³ç† &lt;a href=&#34;https://github.com/huggingface/evaluation-guidebook/tree/main&#34;&gt;Hugging Face Evaluation &lt;/a&gt;ç³»åˆ—æ–‡ç« ä¸­çš„ä¸€äº›è¦ç‚¹ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒHF çš„æ–‡ç« ä¸»è¦èšç„¦äºå¦‚ä½•è¯„æµ‹LLMçš„èƒ½åŠ›ï¼Œè€ƒè™‘åˆ°å…¶æˆæ–‡çš„æ—¶é—´ï¼Œå…¶ä¸­éƒ¨åˆ†å†…å®¹åœ¨å½“å‰ LLM èƒ½åŠ›é£é€Ÿæå‡çš„èƒŒæ™¯ä¸‹ï¼Œæ˜¾å¾—æœ‰äº›æ»åã€‚ä½†è¿™ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¥‘æœºï¼Œä»åæ¥è€…çš„è§†è§’é‡æ–°æ€è€ƒ evaluation çš„æ„ä¹‰ï¼Œå¹¶å°è¯•å°†è¿™äº›ç†å¿µåº”ç”¨åˆ°æ›´åŠ å¤æ‚å’Œå¤šæ ·åŒ–çš„ AI ç³»ç»Ÿä¸­ï¼Œå¦‚RAGå’ŒAI-agentã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ çš„æµç¨‹ä¸­ï¼ŒEvaluationæ˜¯è¡¡é‡æ¨¡å‹æ€§èƒ½çš„æ ¸å¿ƒç¯èŠ‚ã€‚å®ƒè´¯ç©¿äºæ¨¡å‹å¼€å‘çš„å§‹ç»ˆï¼šä»è®­ç»ƒé˜¶æ®µçš„å®æ—¶ç›‘æ§ï¼Œåˆ°ä¸Šçº¿å‰çš„æœ€ç»ˆéªŒè¯ï¼Œå†åˆ°éƒ¨ç½²åçš„æŒç»­è¿½è¸ªã€‚&lt;br&gt;
&lt;br&gt;
ç®€å•æ¥è¯´ï¼Œè¯„ä¼°çš„ç›®æ ‡æ˜¯å›ç­”ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å‹æ˜¯å¦æœ‰æ•ˆï¼Ÿ&lt;/strong&gt;ï¼ˆæ€§èƒ½æŒ‡æ ‡ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å‹æ˜¯å¦å¯é ï¼Ÿ&lt;/strong&gt;ï¼ˆé²æ£’æ€§ã€æ³›åŒ–èƒ½åŠ›ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ç»å…¸çš„çŒ«ç‹—åˆ†ç±»ä»»åŠ¡ä¸ºä¾‹ï¼Œåœ¨è®­ç»ƒå‰ï¼Œæˆ‘ä»¬å¯èƒ½å°†æ•°æ®é›†åˆ’åˆ†ä¸ºtrainingsetï¼Œevalsetï¼Œå’Œtestset ï¼ˆç»å…¸çš„7:2:1ï¼‰ä¿è¯è®­ç»ƒæ•°æ®ä¸æµ‹è¯•æ•°æ®æ— é‡å ï¼›å¯¹äºåˆ†ç±»é—®é¢˜ï¼Œå¯èƒ½é€‰æ‹©Accuracyã€Precisionå’ŒRecall ä½œä¸ºmetricsï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç›‘æ§æ¨¡å‹åœ¨evalsetä¸Šçš„æƒ…å†µï¼ˆæ˜¯å¦å­˜åœ¨overfittingä¹‹ç±»çš„é—®é¢˜ï¼‰ï¼›è®­ç»ƒç»“æŸåï¼Œåœ¨testsetä¸ŠéªŒè¯æ¨¡å‹çš„æœ€ç»ˆæ€§èƒ½ï¼Œåˆ¤æ–­æ˜¯å¦è¾¾åˆ°é¢„æœŸç›®æ ‡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>åˆæ¢ Mem0</title>
      <link>https://niraya666.github.io/posts/%E5%88%9D%E6%8E%A2mem0/</link>
      <pubDate>Tue, 20 May 2025 18:44:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/%E5%88%9D%E6%8E%A2mem0/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨å¼€å¤´&#34;&gt;å†™åœ¨å¼€å¤´&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯å¯¹äº&lt;a href=&#34;https://github.com/mem0ai/mem0&#34;&gt;Mem0&lt;/a&gt;çš„è®ºæ–‡è§£è¯»å’Œä½¿ç”¨è®°å½•ï¼›&lt;/p&gt;
&lt;p&gt;Mem0 æ˜¯ä¸€æ¬¾é¢å‘LLMåº”ç”¨çš„memory layeræ¡†æ¶ï¼ŒåŒæ—¶æ˜¯å¼€æºçš„ã€‚è™½ç„¶å®ƒæœ€æ—©åœ¨ 2024 å¹´ä¸­æ—¬äº®ç›¸ï¼Œèµ·åˆçš„æ¡†æ¶è®¾è®¡å¹¶æ²¡æœ‰å¤ªå¤šäº®çœ¼ä¹‹å¤„ï¼Œä¸è¿‡åœ¨æœ€è¿‘ï¼Œå‘å¸ƒäº†ä¸€æ¬¡æ¯”è¾ƒé‡å¤§çš„æ›´æ–°ï¼ˆåŸºæœ¬ä¸Šæ˜¯é‡æ„äº†ï¼‰é‡‡ç”¨äº†åŸºäº AI-agent çš„å¯¹è¯è®°å¿†æå–ã€æ›´æ–°å’ŒæŸ¥è¯¢ç­‰æœºåˆ¶ï¼Œå®é™…ä½“éªŒä¸‹æ¥ï¼Œç®—æ˜¯ç›®å‰ä¸ºæ­¢æ¯”è¾ƒå¥½ç”¨çš„äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;paperç¬”è®°&#34;&gt;Paperç¬”è®°&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://arxiv.org/abs/2504.19413&#34;&gt;Paper&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;åˆ›æ–°ç‚¹&#34;&gt;&lt;strong&gt;åˆ›æ–°ç‚¹&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Mem0æ¶æ„&lt;/strong&gt;ï¼šæå‡ºäº†ä¸€ç§å¯æ‰©å±•çš„ã€ä»¥è®°å¿†ä¸ºä¸­å¿ƒçš„AIä»£ç†æ¶æ„ï¼Œèƒ½å¤ŸåŠ¨æ€åœ°ä»å¯¹è¯ä¸­æŠ½å–ã€æ•´åˆå’Œæ£€ç´¢å…³é”®ä¿¡æ¯ï¼Œå®ç°é•¿æœŸã€è·¨ä¼šè¯çš„è®°å¿†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Mem0gï¼ˆå›¾è®°å¿†æ‰©å±•ï¼‰&lt;/strong&gt;ï¼šåœ¨åŸºç¡€æ¶æ„ä¸Šè¿›ä¸€æ­¥å¼•å…¥â€œå›¾ç»“æ„è®°å¿†â€ï¼Œç”¨æœ‰å‘æ ‡æ³¨å›¾ï¼ˆèŠ‚ç‚¹ä¸ºå®ä½“ï¼Œè¾¹ä¸ºå…³ç³»ï¼‰æ¥æ•æ‰å¯¹è¯ä¸­å¤æ‚çš„å®ä½“å…³ç³»å’Œäº‹ä»¶é¡ºåºï¼Œæå‡å¤šè·³æ¨ç†å’Œæ—¶åºæ¨ç†èƒ½åŠ›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mem0å®ç°&#34;&gt;&lt;strong&gt;Mem0å®ç°&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%88%9d%e6%8e%a2Mem0-assets/Pasted%202025-05-20-16-29-02.png&#34; alt=&#34;Pasted 2025-05-20-16-29-02.png&#34;  /&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;extraction phase:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯å½“æœ‰ä¸€å¯¹æ–°çš„æ¶ˆæ¯$(m_{t},m_{tâˆ’1})$è¿›å…¥ç³»ç»Ÿæ—¶ï¼Œç³»ç»Ÿä¼šå¯åŠ¨è®°å¿†æŠ½å–æµç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç³»ç»Ÿä¼šåŒæ—¶å‚è€ƒä¸¤ç±»ä¸Šä¸‹æ–‡ä¿¡æ¯: &lt;strong&gt;å…¨å±€å¯¹è¯æ‘˜è¦ï¼ˆSï¼‰å’Œ æœ€è¿‘çš„æ¶ˆæ¯åºåˆ—&lt;/strong&gt;${m_{tâˆ’m}, &amp;hellip;, m_{tâˆ’2}}$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„æç¤ºï¼ˆpromptï¼‰&lt;strong&gt;P&lt;/strong&gt;ï¼Œè¾“å…¥ç»™LLMå®ç°çš„æŠ½å–å‡½æ•°&lt;strong&gt;Ï•&lt;/strong&gt;ã€‚LLMä¼šåŸºäºè¿™äº›ä¿¡æ¯ï¼ŒæŠ½å–å‡ºæœ¬è½®å¯¹è¯ä¸­å€¼å¾—è®°å¿†çš„å…³é”®ä¿¡æ¯ï¼ˆ$Î© = (Ï‰_1,&amp;hellip;,Ï‰_n )$ï¼‰ï¼Œä½œä¸ºå€™é€‰äº‹å®ï¼Œå‡†å¤‡åŠ å…¥çŸ¥è¯†åº“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä¿éšœSå§‹ç»ˆæ˜¯æœ€æ–°çš„ï¼Œä½¿ç”¨å¼‚æ­¥æ‘˜è¦ç”Ÿæˆæ¨¡å—ï¼Œå®šæœŸåˆ·æ–°æ‘˜è¦å†…å®¹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;update phaseï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ ¸å¿ƒä»»åŠ¡ï¼šæ£€æŸ¥è¿™äº›æ–°äº‹å®å’Œå·²æœ‰è®°å¿†ä¹‹é—´çš„å…³ç³»å’Œè¯çŸ¥è¯†åº“çš„å†…å®¹æ—¢ä¸é‡å¤ï¼Œä¹Ÿä¸çŸ›ç›¾ï¼Œå§‹ç»ˆä¿æŒä¸€è‡´å’Œç²¾ç®€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹æ¯ä¸€ä¸ªæ–°æŠ½å–çš„äº‹å®ï¼ˆ$Ï‰_i$ï¼‰ï¼Œç³»ç»Ÿä¼š&lt;strong&gt;æ£€ç´¢æ•°æ®åº“ä¸­ä¸ä¹‹æœ€ç›¸ä¼¼çš„sæ¡å·²æœ‰è®°å¿†&lt;/strong&gt;ï¼ˆç”¨å‘é‡åµŒå…¥åšè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢ï¼‰, å°†$Ï‰_i$ å’Œç›¸ä¼¼è®°å¿†ä¸€èµ·äº¤ç»™LLMï¼Œç”±LLMä»ä»¥ä¸‹4ç§å·¥å…·é€‰æ‹©å¹¶æ‰§è¡Œï¼ˆtool-usingï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ADD&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;DELETE&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NOOP&lt;/strong&gt; ï¼ˆä»€ä¹ˆä¹Ÿä¸åšï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“ç®—æ³•&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%88%9d%e6%8e%a2Mem0-assets/%e6%88%aa%e5%b1%8f2025-05-10%20%e4%b8%8b%e5%8d%883.13.17.png&#34; alt=&#34;æˆªå±2025-05-10 ä¸‹åˆ3.13.17.png&#34;  /&gt;
&lt;/p&gt;
&lt;h3 id=&#34;mem0gå®ç°&#34;&gt;&lt;strong&gt;Mem0gå®ç°&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%88%9d%e6%8e%a2Mem0-assets/Pasted%202025-05-20-16-31-40.png&#34; alt=&#34;Pasted 2025-05-20-16-31-40.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;ä»¥å›¾$G = ( V , E , L )$ å»ºæ¨¡è®°å¿†ï¼Œ(å®ä½“ã€å…³ç³»ã€å’Œè¯­ä¹‰label)&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªentityï¼ˆnodeï¼‰åŒ…å«ä¸‰éƒ¨åˆ†ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;entity type classificationï¼šç”¨äºæ ‡è®°è¿™ä¸ªå®ä½“å±äºå“ªä¸€ç±»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;embedding vectorï¼šå®ä½“è¯­ä¹‰å«ä¹‰çš„å‘é‡è¡¨ç¤ºï¼Œä¾¿äºåç»­åšè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢å’Œæ¨ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;metadataï¼š ä¸»è¦åŒ…æ‹¬åˆ›å»ºæ—¶é—´æˆ³ï¼ˆcreation timestampï¼‰ï¼Œç”¨äºè®°å½•è¿™ä¸ªå®ä½“è¢«åŠ å…¥çŸ¥è¯†å›¾è°±çš„æ—¶é—´ï¼Œæœ‰åŠ©äºæ—¶åºæ¨ç†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;relationships ç”¨tripletçš„è¡¨ç¤ºï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>LangMem: ä¸€äº›å­¦ä¹ ç¬”è®°</title>
      <link>https://niraya666.github.io/posts/langmem-%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 10 Apr 2025 10:44:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/langmem-%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;p&gt;æœ¬æ–‡æ˜¯æˆ‘åœ¨é˜…è¯» LangMem çš„æºç ä¸ç›¸å…³æ–‡æ¡£è¿‡ç¨‹ä¸­æ•´ç†çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘å¯¹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰çš„è®°å¿†æœºåˆ¶å……æ»¡å¥½å¥‡ï¼šç†æƒ³çš„ memory åº”è¯¥å…·å¤‡æ€æ ·çš„ç»“æ„ï¼Ÿåˆè¯¥å¦‚ä½•è®¾è®¡ï¼Ÿç›®å‰å¸‚é¢ä¸Šå…³äº memory çš„å®ç°å¤§å¤šä¸­è§„ä¸­çŸ©ï¼Œå°šæœªçœ‹åˆ°ä»¤äººçœ¼å‰ä¸€äº®çš„æ–¹æ¡ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘å†³å®šå¤šå‚è€ƒä¸€äº›å¼€æºé¡¹ç›®ï¼Œä»¥æœŸè·å¾—æ–°çš„çµæ„Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ€»ä½“æ¥çœ‹ï¼ŒLangMem ä½œä¸º LangChain æ¨å‡ºçš„ä¸€æ¬¾ memory æ¡†æ¶ï¼Œè®¾è®¡ä¸Šè¾ƒä¸ºå¸¸è§„ï¼Œè™½æœ‰éƒ¨åˆ†å€¼å¾—å€Ÿé‰´ä¹‹å¤„ï¼Œä½†äº®ç‚¹ä¸å¤šï¼Œä¸å»ºè®®æŠ•å…¥è¿‡å¤šæ—¶é—´æ·±å…¥ç ”ç©¶ã€‚åŒæ—¶ï¼Œä¸ LangChain çš„å…¶ä»–é¡¹ç›®ç±»ä¼¼ï¼Œå…¶ä»£ç ç»“æ„å’Œæ–‡æ¡£ç¼–å†™è¾ƒä¸ºæ··ä¹±ï¼Œé˜…è¯»ä½“éªŒä¸ä½³ã€‚&lt;/p&gt;
&lt;h2 id=&#34;core-concepts&#34;&gt;Core-Concepts&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://langchain-ai.github.io/langmem/concepts/conceptual_guide/&#34;&gt;core-concepts &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨LangMemæ‰€è®¾è®¡çš„memoryä½“ç³»ä¸­ï¼Œ å®šä¹‰äº†å‡ ç§ä¸åŒçš„&lt;strong&gt;Typical Storage Pattern&lt;/strong&gt;ï¼š&lt;strong&gt;Collection ã€ Profileså’ŒProcedural&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;collection&#34;&gt;Collection&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Collection&lt;/strong&gt;Â ä¸»è¦ç”¨äºå­˜å‚¨&lt;strong&gt;ä¸å—é™åˆ¶çš„çŸ¥è¯†&lt;/strong&gt;ï¼Œé€‚ç”¨äºéœ€è¦é•¿æœŸç§¯ç´¯å’Œæ£€ç´¢çš„ä¿¡æ¯ã€‚æ¯æ¡è®°å¿†è¢«å­˜å‚¨ä¸º&lt;strong&gt;ç‹¬ç«‹çš„æ–‡æ¡£æˆ–è®°å½•&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶è¿›è¡Œæœç´¢å’Œå›å¿†ï¼›&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/LangMem!%20%e4%b8%80%e4%ba%9b%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0-assets/Pasted%202025-03-25-14-52-31.png&#34; alt=&#34;Pasted 2025-03-25-14-52-31.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šè®°å½•ç”¨æˆ·çš„é•¿æœŸçŸ¥è¯†ï¼Œä¾‹å¦‚ç”¨æˆ·çš„å…´è¶£ã€èŒä¸šèƒŒæ™¯ã€æŠ€èƒ½ç­‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´æ–°æ–¹å¼&lt;/strong&gt;ï¼šéœ€è¦&lt;strong&gt;åˆå¹¶æ–°ä¿¡æ¯&lt;/strong&gt;ï¼Œé¿å…é‡å¤æˆ–å†²çª&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ£€ç´¢æ–¹å¼&lt;/strong&gt;ï¼šé€šè¿‡&lt;strong&gt;è¯­ä¹‰æœç´¢&lt;/strong&gt;æˆ–&lt;strong&gt;å…³é”®è¯åŒ¹é…&lt;/strong&gt;æ¥æŸ¥æ‰¾ï¼Œç»“åˆ&lt;strong&gt;è®°å¿†çš„é‡è¦æ€§&lt;/strong&gt;å’Œ&lt;strong&gt;ä½¿ç”¨é¢‘ç‡&lt;/strong&gt;æ¥ä¼˜åŒ–æ£€ç´¢ç»“æœ&lt;/p&gt;
&lt;h3 id=&#34;profiles&#34;&gt;&lt;strong&gt;Profiles&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å­˜å‚¨&lt;strong&gt;ç»“æ„åŒ–çš„ç”¨æˆ·ä¿¡æ¯&lt;/strong&gt;ï¼Œä¾‹å¦‚ç”¨æˆ·çš„å§“åã€è¯­è¨€åå¥½ã€æ²Ÿé€šé£æ ¼ç­‰ã€‚ä¸ Collection ä¸åŒï¼ŒProfile åªå­˜å‚¨&lt;strong&gt;æœ€æ–°çš„çŠ¶æ€&lt;/strong&gt;ï¼Œè€Œä¸æ˜¯ç´¯ç§¯æ‰€æœ‰å†å²ä¿¡æ¯ã€‚Profile ä½œä¸º&lt;strong&gt;å•ä¸€æ–‡æ¡£&lt;/strong&gt;å­˜å‚¨ï¼Œæ¯æ¬¡æ›´æ–°æ—¶éƒ½ä¼š&lt;strong&gt;è¦†ç›–æ—§æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/LangMem!%20%e4%b8%80%e4%ba%9b%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0-assets/Pasted%202025-03-25-14-52-31%201.png&#34; alt=&#34;Pasted 2025-03-25-14-52-31 1.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šé€‚ç”¨äºéœ€è¦&lt;strong&gt;å¿«é€Ÿè®¿é—®å½“å‰çŠ¶æ€&lt;/strong&gt;çš„åº”ç”¨ï¼Œä¾‹å¦‚ä¸ªæ€§åŒ–æ¨èã€ç”¨æˆ·è®¾ç½®ï¼›é€‚ç”¨äº&lt;strong&gt;éœ€è¦ä¸¥æ ¼å®šä¹‰æ•°æ®ç»“æ„&lt;/strong&gt;çš„åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·æ¡£æ¡ˆã€ç³»ç»Ÿé…ç½®ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´æ–°æ–¹å¼ï¼šä¸ä¼šåˆ›å»ºæ–°è®°å½•&lt;/strong&gt;ï¼Œè€Œæ˜¯ç›´æ¥&lt;strong&gt;æ›´æ–°ç°æœ‰çš„ Profileï¼›&lt;strong&gt;é€‚ç”¨äº&lt;/strong&gt;åªå…³å¿ƒæœ€æ–°çŠ¶æ€&lt;/strong&gt;çš„åº”ç”¨ï¼Œè€Œä¸æ˜¯å†å²ï¼›&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ£€ç´¢æ–¹å¼&lt;/strong&gt;ï¼šç›´æ¥æŸ¥æ‰¾ç”¨æˆ·çš„ Profile&lt;/p&gt;
&lt;h3 id=&#34;procedural-memory&#34;&gt;&lt;strong&gt;Procedural Memory&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ç±»ä¼¼äºäººç±»çš„å·¥ä½œè®°å¿†ï¼Œç”¨äºå­˜å‚¨å¦‚ä½•æ‰§è¡Œä»»åŠ¡çš„çŸ¥è¯†ï¼Œä¸»è¦ä½“ç°åœ¨&lt;strong&gt;system prompts å’Œè¡Œä¸ºä¼˜åŒ–&lt;/strong&gt;ä¸Š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/LangMem!%20%e4%b8%80%e4%ba%9b%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0-assets/Pasted%202025-03-25-14-52-31%202.png&#34; alt=&#34;Pasted 2025-03-25-14-52-31 2.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šéœ€è¦é•¿æœŸä¼˜åŒ– Agentè¡Œä¸ºå’Œäº¤äº’æ–¹å¼ï¼Œå°‘èµ°å¼¯è·¯&lt;/p&gt;
&lt;p&gt;æ€»ç»“&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Memory Type&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;ç”¨é€”&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;æ™ºèƒ½ä½“ç¤ºä¾‹&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;å…¸å‹å­˜å‚¨æ¨¡å¼&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Semantic&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Facts &amp;amp; Knowledge&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;User preferences; knowledge triplets&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Profileæˆ–Collection&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Episodic&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Past Experiences&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Few-shot examples; è¿‡å¾€å¯¹è¯æ‘˜è¦&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Collection&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Procedural&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;System Behavior&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Core personality and response patterns&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Prompt rulesæˆ–Collection&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;writing-memories&#34;&gt;Writing memories&lt;/h2&gt;
&lt;p&gt;æä¾›äº†ä¸¤ç§å†™å…¥memoryçš„æ–¹æ³•ï¼š&lt;strong&gt;åŠæ—¶å†™å…¥&lt;/strong&gt;ï¼ˆé€‚ç”¨äºè¦æ±‚å³æ—¶è®°å¿†åæ˜ çš„åœºæ™¯ï¼‰å’Œä¸€æ®µæ—¶é—´åçš„&lt;strong&gt;å¼‚æ­¥å†™å…¥&lt;/strong&gt;ï¼ˆé€‚ç”¨äºé«˜æ•ˆå¤„ç†å’Œå­˜å‚¨å¤§é‡ä¿¡æ¯çš„åœºæ™¯ï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„æ–‡æ¡£è§£ææ–¹æ¡ˆï¼ˆ2025ç‰ˆï¼‰</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/</link>
      <pubDate>Wed, 12 Mar 2025 16:44:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/#smoldocling&#34;&gt;Updated on 2025-03-29: Add SmolDocling &amp;amp; VLM Summary&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æŠ€æœ¯è¿­ä»£é€Ÿåº¦ä¹‹å¿«ä»¤äººæƒŠå¹ï¼Œå‰ä½œ &lt;a href=&#34;https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/&#34;&gt;RAGå·¥å…·ç®±ï¼šæ–‡æ¡£è§£æä¸è¡¨æ ¼å¤„ç†&lt;/a&gt; åœ¨çŸ­çŸ­æ•°æœˆå†…å·²æ˜¾ç°å‡ºä»£é™…å·®è·ï¼Œå°½ç®¡å‰ä½œä¹Ÿä»…ä»…åªæ˜¯æŠ›ç –å¼•ç‰å¼åœ°è®¨è®ºäº†pdfçš„è§£ææ–¹æ¡ˆï¼Œä¸è¿‡åœ¨æ–°æŠ€æœ¯çš„é¢å‰ï¼Œæ—¢æœ‰çš„å¤æ‚è§£ææ¶æ„é€æ¸å¤±å»å­˜åœ¨ä»·å€¼ï¼Œä¹Ÿè¢«ç«¯åˆ°ç«¯èŒƒå¼æ‰€å–ä»£ã€‚åœ¨ç¬”è€…çœ‹æ¥ï¼ŒåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„ç«¯åˆ°ç«¯æ–‡æ¡£è§£ææ–¹æ¡ˆï¼Œå°†æˆä¸ºæœ€ä¼˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ¢è®¨æ–‡æ¡£è§£æçš„ç»ˆæå½¢æ€â€”â€”åŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆVLMï¼‰çš„è§£ææŠ€æœ¯ï¼ŒåŒ…æ‹¬Mistral-OCRã€OlmOCRç­‰å‰æ²¿å·¥å…·çš„å®ç°ä¸å®è·µï¼Œå¹¶å±•æœ›è¯¥é¢†åŸŸçš„æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼Œå’Œå¯¹äºRAGçš„å½±å“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿‡å»çš„æŠ€æœ¯æ ˆæ€»ç»“&#34;&gt;è¿‡å»çš„æŠ€æœ¯æ ˆæ€»ç»“&lt;/h2&gt;
&lt;p&gt;åœ¨RAGç³»ç»Ÿä¸­ï¼Œæ–‡æ¡£è§£æè´¨é‡ç›´æ¥å†³å®šç³»ç»Ÿä¸Šé™ã€‚ä¸åŒåœºæ™¯ä¸‹çš„æ–‡æ¡£å½¢æ€å·®å¼‚æ˜¾è‘—ï¼Œè‹¥ä¸èƒ½æœ‰æ•ˆè§£å†³&amp;quot;garbage in, garbage out&amp;quot;çš„è¾“å…¥è´¨é‡é—®é¢˜ï¼Œåç»­å¤„ç†ç¯èŠ‚å°†éš¾ä»¥å‘æŒ¥åº”æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿæ–‡æ¡£è§£ææŠ€æœ¯é•¿æœŸå—é™äºä»¥ä¸‹æ ¸å¿ƒç—›ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç»“æ„åŒ–ä¿¡æ¯ç¼ºå¤±ï¼šæ— æ³•å‡†ç¡®è¯†åˆ«æ–‡æ¡£æ ‡é¢˜ã€å‰¯æ ‡é¢˜ç­‰å±‚çº§ç»“æ„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹æ®Šå†…å®¹å¤„ç†è–„å¼±ï¼šæ•°å­¦å…¬å¼ã€ä¸“ä¸šç¬¦å·è§£æå‡†ç¡®ç‡ä½ä¸‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤æ‚è¡¨æ ¼è§£æå›°å¢ƒï¼šè·¨é¡µè¡¨æ ¼ã€åˆå¹¶å•å…ƒæ ¼ç­‰åœºæ™¯æ”¯æŒä¸è¶³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾åƒä¿¡æ¯æå–ç“¶é¢ˆï¼šæ‰«ææ–‡æ¡£ã€æ‰‹å†™ä½“è¯†åˆ«æ•ˆæœæ¬ ä½³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰ˆå¼é€‚åº”æ€§é—®é¢˜ï¼šå¤šæ å¸ƒå±€ã€å½±å°ç‰ˆæœ¬ç­‰æ–‡æ¡£æ ¼å¼å…¼å®¹æ€§å·®&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»æŠ€æœ¯è§’åº¦ï¼Œè¿‡å»æ–‡æ¡£è§£æçš„åº•å±‚é€»è¾‘å’Œæ¡†æ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;çº¯æ–‡æœ¬è§£æ: &lt;code&gt;PyPDF&lt;/code&gt;, &lt;code&gt;PyMuPDF&lt;/code&gt;åªèƒ½è§£æpdfä¸­çš„æ–‡å­—,å¯¹äºå…¬å¼è¡¨æ ¼å’Œå¤æ‚æ’ç‰ˆè§£ææ— èƒ½,å¯¹äºæ‰«æç‰ˆä½è´¨é‡çš„pdfæ— èƒ½ä¸ºåŠ›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OCRæ–¹æ¡ˆï¼ˆPaddleOCRç­‰ï¼‰: é¦–å…ˆä½¿ç”¨ç›®æ ‡æ£€æµ‹æ¨¡å‹å¯¹æ–‡æ¡£å¸ƒå±€è¿›è¡Œåˆ†æï¼Œè¯†åˆ«å‡ºæ ‡é¢˜ã€è¡¨æ ¼ç­‰å…³é”®å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨è¿™äº›ä½ç½®ä¸Šä½¿ç”¨OCRæŠ€æœ¯æå–æ–‡å­—ï¼›ç”±äºéœ€è¦è°ƒç”¨å¤šä¸ªæ¨¡å‹ï¼Œæ•´å¥—ç³»ç»Ÿéå¸¸å¤æ‚ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºäºtransformer çš„è§£ææ–¹æ¡ˆï¼ˆä»£è¡¨: Dount, Nougatï¼‰ï¼šä¸“é—¨é’ˆå¯¹è‹±æ–‡çš„å­¦æœ¯æ–‡ç« åšçš„è®­ç»ƒ, èƒ½å¤Ÿå°†pdfæ–‡ç« æ•´ç†æˆMarkdownæˆ–Latexæ ¼å¼ï¼›ä½†å¯¹äºå…¶ä»–è¯­è¨€å’Œå…¶ä»–ç±»å‹çš„æ–‡æ¡£æ³›åŒ–æ•ˆæœå¾ˆå·®ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éšç€æ¨¡å‹èƒ½åŠ›æå‡ï¼Œé‡‡ç”¨VLMåšè§£ææ˜¯éå¸¸è‡ªç„¶çš„æƒ³æ³•ï¼Œå°½ç®¡GPT-4oçš„å‘å¸ƒä½¿è¯¥æŠ€æœ¯è·å¾—å¹¿æ³›å…³æ³¨ï¼Œä½†å…¶é«˜æ˜‚çš„APIæˆæœ¬åˆ¶çº¦äº†å®é™…åº”ç”¨ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå¼€æºç¤¾åŒºçš„æŠ€æœ¯çªç ´æ­£åœ¨æ”¹å˜è¿™ä¸€å±€é¢ï¼šä¸è®ºæ˜¯LLMåŸºåº§æ¨¡å‹å¤šæ¨¡æ€ç†è§£èƒ½åŠ›çš„å¢å¼ºï¼Œè¿˜æ˜¯è§†è§‰ç¼–ç å™¨çš„æå‡ï¼Œè‡³å°‘åœ¨å½“ä¸‹ï¼Œå¼€æºVLMå·²å…·å¤‡å®ç”¨çº§æ–‡æ¡£è§£æèƒ½åŠ›ï¼Œè€Œæ— éœ€é’ˆå¯¹ä¸‹æ¸¸ä»»åŠ¡çš„å¾®è°ƒï¼ŒåŒæ—¶æˆæœ¬ä¸Šå·²ç»åœ¨å¯æ¥å—èŒƒå›´äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;benchmark&#34;&gt;Benchmark&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ¨¡å‹æ˜¯å¦é€‚åˆDocument Parsingï¼Œéœ€è¦benchmarkæµ‹è¯•åˆ†æ•°ï¼Œä½œä¸ºæ¨¡å‹æŒ‘é€‰çš„æ ‡å‡†ã€‚&lt;/p&gt;
&lt;p&gt;ç°é˜¶æ®µï¼Œé’ˆå¯¹LLMsåœ¨OCRã€æ–‡æ¡£ä¿¡æ¯æå–åœºæ™¯ä¸‹ä¸»è¦é‡‡ç”¨ä»¥ä¸‹å‡ ä¸ªå¸¸è§çš„bench&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/spaces/echo840/ocrbench-leaderboard&#34;&gt;OCRBench&lt;/a&gt;ã€&lt;a href=&#34;https://huggingface.co/spaces/ling99/OCRBench-v2-leaderboard&#34;&gt;OCRBench-V2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/opendatalab/OmniDocBench&#34;&gt;OmniDocBench&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://arxiv.org/abs/2412.02210&#34;&gt;CC-OCR&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;â€¦and more&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆå…³äºbenchmarkçš„å…·ä½“å†…å®¹è§é™„å½•ï¼‰&lt;/p&gt;
&lt;p&gt;è¿™äº›benchéƒ½åŸºæœ¬ä¸ŠåŒ…å«äº†é€šç”¨åœºæ™¯ä¸‹çš„OCRèƒ½åŠ›ï¼Œ å¤šè¯­è¨€çš„æ–‡æ¡£è§£æèƒ½åŠ›çš„æµ‹è¯•ï¼Œèƒ½å¤Ÿä¸€å®šç¨‹åº¦ä¸Šä½œä¸ºæ¨¡å‹ç­›é€‰çš„å…³æ³¨é¦–é€‰&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†æ¨¡å‹èƒ½åŠ›ä»¥å¤–ï¼Œè¿˜éœ€è¦å…³æ³¨æ¨¡å‹çš„å‚æ•°é‡ï¼Œå› ä¸ºä¸å…¶æˆæœ¬å’Œlatencyæ¯æ¯ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…·ä½“åœºæ™¯ï¼Œè¿˜æ˜¯éœ€è¦æ„å»ºè‡ªå·±çš„æµ‹è¯•é›†ç”¨äºåˆ¤æ–­æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿèƒœä»»ä»»åŠ¡ï¼Œ å› ä¸ºbenchmarkæ‰€åŒ…å«çš„æµ‹è¯•åœºæ™¯æ•°æ®ï¼Œåˆ†å¸ƒè¯­è¨€ç­‰ç­‰å’Œå…·ä½“çš„åœºæ™¯ä¸è§å¾—å®Œå…¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®benchmarkå’Œå®é™…æµ‹è¯•ç»“æœï¼Œç›®å‰å‡ ä¸ªå€¼å¾—å…³æ³¨çš„å¼€æºVLMï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://huggingface.co/collections/Qwen/qwen25-vl-6795ffac22b334a837c0f9a5&#34;&gt;Qwen2.5-VL&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/microsoft/Phi-4-multimodal-instruct&#34;&gt;Phi-4-multimodal&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/meta-llama/Llama-3.2-90B-Vision-Instruct&#34;&gt;Llama 3.2 Vision&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://huggingface.co/allenai/olmOCR-7B-0225-preview&#34;&gt;olmocr&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;and more â€¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;qwen25-vlç³»åˆ—æ¨¡å‹&#34;&gt;Qwen2.5-VLç³»åˆ—æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/QwenLM/Qwen2.5-VL/tree/main/cookbooks&#34;&gt;cookbook&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://qwenlm.github.io/zh/blog/qwen2.5-vl/&#34;&gt;Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://arxiv.org/abs/2502.13923&#34;&gt;Technical Report&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯å¼€æºçš„æ¨¡å‹ä¸­ï¼Œæ•ˆæœæ’å‰åˆ—çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆæˆªæ­¢è‡³ä»Šï¼‰ï¼ŒåŒæ—¶è¿˜å…·å¤‡äº†å¤šç§å‚æ•°é‡ï¼ˆ3Bï¼Œ7Bï¼Œ72Bï¼‰å¯é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Technical Report ä¸­ä¸€äº›å’Œdocument-parseæœ‰å…³çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€é˜¶æ®µè§†è§‰é¢„è®­ç»ƒä¸­ï¼ˆä»…è®­ç»ƒViTï¼‰ï¼Œé’ˆå¯¹&lt;strong&gt;Document Parsing&lt;/strong&gt;ï¼Œè®¾è®¡äº†&lt;strong&gt;ä¸€å¥—æ ‡å‡†åŒ–çš„HTMLæ ‡ç­¾ä½“ç³»&lt;/strong&gt;ï¼ŒåŒ…å«ï¼šæ®µè½ï¼ˆ&lt;code&gt;p&amp;gt;&lt;/code&gt;ï¼‰ã€è¡¨æ ¼ï¼ˆ&lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt;ï¼‰ã€å›¾è¡¨ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;chart&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€å…¬å¼ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;formula&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€å›¾åƒæ ‡æ³¨ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;image caption&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€OCRæ–‡æœ¬ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;image ocr&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€ä¹è°±ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;music sheet&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ã€åŒ–å­¦å¼ï¼ˆ&lt;code&gt;&amp;lt;div class=&amp;quot;chemical formula&amp;quot;&amp;gt;&lt;/code&gt;ï¼‰ç­‰æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—å‡é€šè¿‡Â &lt;code&gt;data-bbox&lt;/code&gt;Â å±æ€§æ ‡æ³¨å…¶åŸå§‹åæ ‡ä½ç½®ï¼Œä¿ç•™ç©ºé—´å¸ƒå±€ä¿¡æ¯; åŒæ—¶æ‰€æœ‰æ–‡æ¡£å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ï¼ˆå¦‚ä½ç½®ã€å°ºå¯¸ï¼‰é€šè¿‡åŸç”Ÿåˆ†è¾¨ç‡ä¸‹çš„ç»å¯¹åæ ‡ç›´æ¥ç¼–ç åˆ°HTMLæ ‡ç­¾ä¸­ï¼Œä½¿æ¨¡å‹èƒ½åŒæ—¶å­¦ä¹ å†…å®¹è¯­ä¹‰å’Œç©ºé—´å…³ç³»&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šRAG Tutorial for Beginner</title>
      <link>https://niraya666.github.io/posts/rag-tutorial-for-beginner/</link>
      <pubDate>Tue, 11 Mar 2025 19:24:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag-tutorial-for-beginner/</guid>
      <description>&lt;p&gt;ä¸€äº›é€‚åˆå…¥é—¨çš„RAGææ–™&lt;/p&gt;
&lt;h2 id=&#34;åŸç†ç§‘æ™®&#34;&gt;åŸç†ã€ç§‘æ™®&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.promptingguide.ai/research/rag&#34;&gt;Retrieval Augmented Generation (RAG) for LLMs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/concepts/rag/&#34;&gt;Langchain|Retrieval augmented generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://cameronrwolfe.substack.com/p/a-practitioners-guide-to-retrieval&#34;&gt;A Practitioners Guide to Retrieval Augmented Generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.typingmind.com/rag-for-beginners/&#34;&gt;RAG for Beginners: The Complete Guide to Retrieval Augmented Generation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.datacamp.com/blog/what-is-retrieval-augmented-generation-rag&#34;&gt;What is Retrieval Augmented Generation (RAG)?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/concepts/rag/&#34;&gt;Retrieval augmented generation (RAG)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ€è€ƒé¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Why RAGï¼Ÿ RAGè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼ŸRAGå’ŒSFTå¦‚ä½•é€‰æ‹©ï¼ŸRAGçš„ä¼˜åŠ¿ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»€ä¹ˆæ ·çš„é—®é¢˜æ˜¯RAGæ— æ³•è§£å†³çš„ï¼Ÿä»€ä¹ˆæ ·çš„æ•°æ®é€‚åˆä½¿ç”¨RAG&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦åšchunkingï¼Ÿchunk-sizeå—é‚£äº›å› ç´ åˆ¶çº¦ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯embeddingï¼Ÿå‘é‡åº“åœ¨åšä»€ä¹ˆï¼Ÿä¸€å®šè¦åšè¯­ä¹‰åŒ¹é…å—ï¼Ÿä»€ä¹ˆæ˜¯rerankingï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•evaluate æ£€ç´¢æ•ˆæœçš„å¥½å ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RAGä¸­ï¼ŒLLMsèµ·åˆ°çš„ä½œç”¨ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hands-on&#34;&gt;Hands-On&lt;/h2&gt;
&lt;h3 id=&#34;å‰ç½®ä»»åŠ¡&#34;&gt;å‰ç½®ä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;è·å–æ¨¡å‹æœåŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·å¾—LLMsä¾›åº”å•†APIï¼š æ¨è OpenRouterï¼ˆä»…LLMsï¼Œéœ€è¦æ¢¯å­ï¼Œå¢ƒå¤–ä¿¡ç”¨å¡æˆ–Cryptoï¼‰ï¼ŒSilconFlowï¼ˆLLMs+embedding,æ— éœ€æ¢¯å­,æœ‰é€tokenï¼‰ï¼ŒGroqï¼ˆä»…LLMs, éœ€æ¢¯å­ï¼Œé€Ÿåº¦å¿«ï¼Œå…è´¹ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ–é‡‡ç”¨æœ¬åœ°éƒ¨ç½²ï¼š æ¨è&lt;a href=&#34;https://ollama.com/&#34;&gt;Ollama&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­,é‡‡ç”¨openRouter APIå®ç°LLMå¯¹è¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;openai&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenAI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenAI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;base_url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;api_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;OPENROUTER_API_KEY&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;completions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;openai/gpt-4o&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;What is the meaning of life?&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;completion&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¾‹å­ï¼šåŸºäºæœ¬åœ°ollamaå¯åŠ¨çš„deepseek R1ï¼ˆè’¸é¦ç‰ˆæœ¬ï¼‰å¯¹è¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>å½“AIå¼€å§‹å±•ç°&#34;é¡¿æ‚Ÿæ—¶åˆ»&#34;æ„å‘³ç€ä»€ä¹ˆ</title>
      <link>https://niraya666.github.io/posts/%E5%BD%93ai%E5%BC%80%E5%A7%8B%E5%B1%95%E7%8E%B0%E9%A1%BF%E6%82%9F%E6%97%B6%E5%88%BB%E6%84%8F%E5%91%B3%E7%9D%80%E4%BB%80%E4%B9%88/</link>
      <pubDate>Sun, 23 Feb 2025 23:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/%E5%BD%93ai%E5%BC%80%E5%A7%8B%E5%B1%95%E7%8E%B0%E9%A1%BF%E6%82%9F%E6%97%B6%E5%88%BB%E6%84%8F%E5%91%B3%E7%9D%80%E4%BB%80%E4%B9%88/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨å‰é¢&#34;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯å‰æ®µæ—¶é—´éƒ¨é—¨å†…æŠ€æœ¯åˆ†äº«çš„æ–‡å­—ç¨¿æ•´ç†ï¼›&lt;/p&gt;
&lt;p&gt;ä¸»è¦åŒ…å«2ä¸ªæ–¹é¢ï¼šå¯¹äºR1æ¨¡å‹çš„ç®€å•ç§‘æ™®ï¼Œå’Œå¼€å‘å›¢é˜Ÿçš„gen-AIä½¿ç”¨æŒ‡å—ï¼›&lt;/p&gt;
&lt;p&gt;åŸä»¥ä¸ºæ˜¥èŠ‚å‡æœŸèƒ½ç¨ä½œä¼‘æ•´ï¼Œæœªæ›¾æ–™æƒ³deepSeek-R1åœ¨æ˜¥èŠ‚æœŸé—´å¼•å‘è¡Œä¸šå…³æ³¨ã€‚èŠ‚åå¤å·¥ï¼Œå„å±‚çº§é¢†å¯¼ä¾¿å¯†é›†å±•å¼€AIæŠ€æœ¯è¿›å±•é—®è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;åŸè®¡åˆ’çš„&amp;quot;äºŒæœˆæ‘¸é±¼æŒ‡å—&amp;quot;å½»åº•è½ç©ºï¼Œæ—¢è¦å‘ç®¡ç†å±‚ç§‘æ™®å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯åŸç†ï¼Œåˆè¦æŒ‡æ­£é¢†å¯¼ä»¬è¢«å„ç§è¥é”€å·æ´—è„‘æ‰€å½¢æˆçš„é”™è¯¯è®¤çŸ¥ï¼›æ—¢è¦æ¨è¿›éƒ¨é—¨AIåº”ç”¨åŸ¹è®­ï¼Œåˆè¦åŠ é€Ÿç³»ç»Ÿä¸Šçº¿è¿›ç¨‹ï¼›ç®€ç›´äº†ï¼ŒçœŸæ˜¯TMçš„è°¢è°¢ DeppSeekäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;about-ds-r1&#34;&gt;About DS R1&lt;/h2&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯reasoning-model&#34;&gt;ä»€ä¹ˆæ˜¯Reasoning model&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½•ä¸ºæ¨ç†ï¼ˆreasoningï¼‰ï¼šæ˜¯å¯¹ä¿¡æ¯è¿›è¡Œå¤„ç†å’Œæ¨æ–­ï¼Œå½¢æˆåˆ¤æ–­æˆ–ç»“è®ºçš„è¿‡ç¨‹ï¼›&lt;strong&gt;æ¨ç†é€šå¸¸æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªæ¨æ–­æ­¥éª¤çš„è¿‡ç¨‹ã€‚æ¨ç†é€šå¸¸è¢«è®¤ä¸ºéœ€è¦æŠ½è±¡æ€ç»´â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨ç†çš„èƒ½åŠ›ä¸å±€é™äºå…·ä½“çš„ä¾‹å­ï¼Œè€Œæ˜¯æ›´ä¸ºæ™®éçš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;In &lt;em&gt;Thinking, Fast and Slow&lt;/em&gt;, Daniel Kahneman defined System 1 as the automatic, intuitive mode of thinking, and System 2 as the slower, more analytical mode. In the context of autoregressive language models, the usual inference process is akin to System 1 â€” models generate answers directly. Reasoning is System 2 thinking - models or systems takes time to deliberate to solve more complex problems.&lt;/p&gt;</description>
    </item>
    <item>
      <title>RLHF ä¹‹è·¯ï¼šå¼ºåŒ–å­¦ä¹ å¤ä¹ ä¹‹ä¸Šç¯‡</title>
      <link>https://niraya666.github.io/posts/rlhf-%E4%B9%8B%E8%B7%AF%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E4%B9%8B%E4%B8%8A%E7%AF%87/</link>
      <pubDate>Thu, 23 Jan 2025 15:21:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rlhf-%E4%B9%8B%E8%B7%AF%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E4%B9%8B%E4%B8%8A%E7%AF%87/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨å‰é¢&#34;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;å†³å®šå¼€å¯ä¸€ä¸ªæ–°ç³»åˆ—ï¼Œæ˜¯æ—¶å€™ç³»ç»Ÿæ€§åœ°å­¦ä¹ ä¸€ä¸‹ Alignmentã€RLHF ç­‰ç›¸å…³å†…å®¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šåœ¨ä¸€äº›å…¬å¼æ¨å¯¼ä¸Šå¡ä½ï¼Œå¯èƒ½æ˜¯å› ä¸ºä¹‹å‰çš„åŸºç¡€ä¸å¤Ÿæ‰å®ï¼ŒåŠ ä¸Šå­¦è¿‡çš„å†…å®¹é—å¿˜è¾ƒå¤šã€‚
äºæ˜¯ï¼Œå¸Œæœ›é€šè¿‡è¿™ä¸€ç³»åˆ—çš„ç¬”è®°ï¼Œå¸®åŠ©è‡ªå·±ç³»ç»Ÿåœ°å›é¡¾RLã€å’Œå­¦ä¹ RLHFç­‰å†…å®¹ã€‚ï¼ˆé¡ºå¸¦æŠŠä¹‹å‰æ‰‹å†™çš„ç¬”è®°ç”µå­åŒ–ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸»è¦çš„æ•™ææ¥è‡ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;&lt;a href=&#34;http://incompleteideas.net/book/RLbook2020.pdf&#34;&gt;Reinforcement Learning: An Introduction&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Bç«™UPä¸» shuhuai008 çš„ç³»åˆ—æ¨å¯¼è§†é¢‘&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬ç¯‡ç¬”è®°å°†åŒ…å«ä»¥ä¸‹çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MDP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Monte Carlo Methods&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TDæ–¹æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹markov-decision-processmdp&#34;&gt;é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹(Markov Decision Processï¼ŒMDP)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;MDPs are meant to be a straightforward framing of the problem of learning from interaction to achieve a goal.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç›¸å…³æ¦‚å¿µ&#34;&gt;ç›¸å…³æ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;éšæœºå˜é‡ï¼ˆRandom Varianceï¼‰&lt;/strong&gt;ï¼š ( $X, \ y, \ x \perp y$)ï¼Œéšæœºå˜é‡ä¹‹é—´å­˜åœ¨çš„ç‹¬ç«‹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éšæœºè¿‡ç¨‹ï¼ˆStochastic Processï¼‰&lt;/strong&gt;ï¼š ${S_t}_{t=1}^{\infty}$ ä¸€ä¸ªæ—¶é—´åºåˆ—çš„éšæœºå˜é‡é›†åˆï¼Œé€šå¸¸ç”¨æ¥æè¿°éšç€æ—¶é—´å˜åŒ–çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Markové“¾/è¿‡ç¨‹ï¼ˆMarkov Chain/Processï¼‰&lt;/strong&gt;ï¼šå¼ºè°ƒäº†&lt;strong&gt;Markovæ€§è´¨&lt;/strong&gt;ï¼ˆMarkov Propertyï¼‰ï¼Œå³&lt;strong&gt;æœªæ¥çš„çŠ¶æ€ä»…ä¾èµ–äºå½“å‰çŠ¶æ€è€Œä¸è¿‡å»æ— å…³&lt;/strong&gt;ï¼Œå½¢å¼åŒ–åœ°è¡¨ç¤ºä¸ºï¼š&lt;/p&gt;
&lt;p&gt;$$
P(S_{t+1}|S_t, S_{t-1}, &amp;hellip;,S_1) = P(S_{t+1}|S_{t})
$$&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆState Space Modelï¼‰ï¼š&lt;/strong&gt; Markov Chain + Observationï¼› å¦‚ HMMï¼Œ Kalman Filterï¼Œparticle Filterã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Milvus-2.5ç‰ˆæœ¬ï¼šå­¦ä¹ ç¬”è®°å’Œå¤‡å¿˜å½•</title>
      <link>https://niraya666.github.io/posts/milvus-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%92%8C%E5%A4%87%E5%BF%98%E5%BD%95%E4%BB%8E2.0-%E5%88%B02.5%E7%89%88%E6%9C%AC%E7%9A%84%E4%BB%8E%E5%A4%B4%E5%AD%A6%E4%B9%A0/</link>
      <pubDate>Wed, 25 Dec 2024 15:49:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/milvus-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%92%8C%E5%A4%87%E5%BF%98%E5%BD%95%E4%BB%8E2.0-%E5%88%B02.5%E7%89%88%E6%9C%AC%E7%9A%84%E4%BB%8E%E5%A4%B4%E5%AD%A6%E4%B9%A0/</guid>
      <description>&lt;p&gt;å‡ å¹´å‰åˆè¯† Milvus çš„å¥‘æœºï¼Œæ¥æºäºå¼€å‘ä¸€ä¸ªå›¾åƒç›¸ä¼¼æ£€ç´¢çš„åº”ç”¨ï¼Œå½“æ—¶å¸‚é¢ä¸Šå‘é‡åº“çš„å¯é€‰æ‹©é¡¹å¹¶ä¸åƒç°åœ¨è¿™ä¹ˆå¤šï¼Œä¸”åŠŸèƒ½ä¹Ÿä»…é™äºå•çº¯çš„å‘é‡æ£€ç´¢ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äºæœ€è¿‘æœ‰ä¸šåŠ¡æ›´æ–°çš„éœ€è¦ï¼Œå’Œæ‰“ç®—é‡æ„ä¸€ä¸‹ä¹‹å‰åšçš„RAGé¡¹ç›®ï¼Œå†æ¬¡æœ‰æœºä¼šæ·±å…¥å­¦ä¹  Milvusï¼Œæ¢ç´¢å…¶åœ¨æ–°åŠŸèƒ½å’Œå®é™…åº”ç”¨ä¸Šçš„æ›´å¤šå¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡ç¬”è®°ï¼Œä»…ä½œä¸ºå­¦ä¹ ç¬”è®°ï¼Œæ›´å¤šæ˜¯è®°å½•ä¸€äº› Milvusä»2.0 åˆ°2.5 çš„å˜åŒ–ï¼Œ å’Œä¸€äº›åŠ¨æ‰‹å®è·µçš„è®°å½•ï¼Œä¾¿äºä¹‹åçš„æŸ¥é˜…ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€äº›æ¦‚å¿µ&#34;&gt;ä¸€äº›æ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;collections-schema-and-index&#34;&gt;Collections, Schema and index&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Collection&lt;/strong&gt;æ˜¯Milvusä¸­çš„ä¸€ä¸ªäºŒç»´è¡¨æ ¼ï¼Œå…·æœ‰å›ºå®šçš„åˆ—å’Œå¯å˜çš„è¡Œã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªå­—æ®µ(field)ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå®ä½“(entity)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Schemaå’Œå­—æ®µ&lt;/strong&gt;Â Collectionéœ€è¦ä¸€ä¸ªschemaæ¥å®šä¹‰å…¶ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•&lt;/strong&gt;Â åœ¨ç‰¹å®šå­—æ®µä¸Šåˆ›å»ºç´¢å¼•å¯ä»¥æé«˜æœç´¢æ•ˆç‡ã€‚å»ºè®®ä¸ºæœåŠ¡æ‰€ä¾èµ–çš„æ‰€æœ‰å­—æ®µåˆ›å»ºç´¢å¼•ï¼Œå…¶ä¸­å‘é‡å­—æ®µçš„ç´¢å¼•æ˜¯å¿…éœ€çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ†åŒº(Partition)&lt;/strong&gt;Â åˆ†åŒºæ˜¯Collectionçš„å­é›†ï¼Œä¸å…¶çˆ¶Collectionå…±äº«ç›¸åŒçš„å­—æ®µé›†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ†ç‰‡(Shard)&lt;/strong&gt;Â åˆ†ç‰‡æ˜¯Collectionçš„æ°´å¹³åˆ‡ç‰‡ã€‚æ¯ä¸ªåˆ†ç‰‡å¯¹åº”ä¸€ä¸ªæ•°æ®è¾“å…¥é€šé“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Shard vs Partitionçš„åŒºåˆ«&lt;/strong&gt;Â :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ†åŒº(Partition)çš„ä½œç”¨æ˜¯é€šè¿‡æŒ‡å®šåˆ†åŒºåç§°æ¥å‡å°‘è¯»å–è´Ÿè½½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è€Œåˆ†ç‰‡(Shard)çš„ä½œç”¨æ˜¯å°†å†™å…¥è´Ÿè½½åˆ†æ•£åˆ°å¤šä¸ªæœåŠ¡å™¨&lt;strong&gt;åˆ†å¸ƒå¼æ¶æ„ä¸­çš„åº”ç”¨&lt;/strong&gt;Â åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†ç‰‡æ˜¯å®ç°æ°´å¹³æ‰©å±•çš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡å°†æ•°æ®åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨é›†ç¾¤çš„å¹¶è¡Œè®¡ç®—æ½œåŠ›ï¼Œæé«˜ç³»ç»Ÿçš„å†™å…¥æ€§èƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;milvusclient-vs-connection&#34;&gt;&lt;strong&gt;MilvusClient vs Connection&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;MilvusClient&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šæ›´é«˜çº§å°è£…ï¼Œæä¾›ä¸€ä½“åŒ–çš„æ“ä½œæ¥å£ã€‚ç®€åŒ–äº†ä¸ Milvus çš„äº¤äº’æµç¨‹ï¼Œ æä¾›æ›´ç›´è§‚å’Œç»“æ„åŒ–çš„æ“ä½œæ–¹å¼ï¼Œä¾¿äºæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ï¼Œå†…ç½®äº†å¯¹è¿æ¥çš„ç®¡ç†å’Œæ“ä½œï¼Œå‡å°‘æ‰‹åŠ¨å¤„ç†çš„å¤æ‚æ€§ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pymilvus&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MilvusClient&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ›å»ºå®¢æˆ·ç«¯å¹¶è¿æ¥åˆ° Milvus&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MilvusClient&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://localhost:19530&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ›å»ºé›†åˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_collection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example_collection&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;schema&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;fields&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;vector&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;FLOAT_VECTOR&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;params&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dim&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}}]}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ’å…¥æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;insert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example_collection&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;vector&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœç´¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example_collection&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Connection&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šåŸºç¡€è¿æ¥æ“ä½œï¼Œéœ€è¦é€šè¿‡ connect æ–¹æ³•åˆ›å»ºå¹¶ç»´æŠ¤è¿æ¥ã€‚æä¾›æ›´åº•å±‚çš„æ§åˆ¶ï¼Œé€‚åˆçµæ´»ã€è‡ªå®šä¹‰çš„æ“ä½œã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pymilvus&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connections&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FieldSchema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CollectionSchema&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ›å»ºè¿æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;connections&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alias&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;default&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;19530&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ›å»ºé›†åˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;FieldSchema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;vector&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dtype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;FLOAT_VECTOR&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;schema&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CollectionSchema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example collection&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;collection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example_collection&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;schema&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;schema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ’å…¥æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;collection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;insert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœç´¢&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;collection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;collection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;anns_field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;vector&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;limit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;schema&#34;&gt;&lt;strong&gt;Schema&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Schema&lt;/strong&gt; ç”¨äºå®šä¹‰collectionåŠå…¶å­—æ®µçš„å±æ€§&lt;/p&gt;</description>
    </item>
    <item>
      <title>Agent å­¦ä¹ ç¬”è®°ï¼šæ¡†æ¶ ï½œ openAI Swarm</title>
      <link>https://niraya666.github.io/posts/agent-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%A1%86%E6%9E%B6--openai-swarm/</link>
      <pubDate>Mon, 11 Nov 2024 11:10:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/agent-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%A1%86%E6%9E%B6--openai-swarm/</guid>
      <description>&lt;h2 id=&#34;å¼€ç¯‡&#34;&gt;å¼€ç¯‡&lt;/h2&gt;
&lt;p&gt;â€œCloseAIâ€ ç»ˆäºåˆå¼€æºäº†æ–°çš„é¡¹ç›®ï¼Œå¯æƒœOpenAIæ˜ç¡®è¡¨ç¤ºï¼ŒSwarmæ˜¯ä¸€ä¸ªå®éªŒæ€§æ¡†æ¶ï¼Œä¸»è¦ç”¨äºæ•™è‚²ç›®çš„ï¼Œä¸é€‚åˆç”Ÿäº§ç¯å¢ƒï¼Œä¹Ÿæ²¡æœ‰å®˜æ–¹æ”¯æŒã€‚ä¸è¿‡ä»è¿™æ ·ä¸€ä¸ªå®éªŒæ€§çš„æ¡†æ¶ï¼Œè‡³å°‘èƒ½å¤Ÿäº†è§£åˆ°OpenAIå¯¹äºAgentä¸Šçš„ä¸€äº›ç†è§£ï¼Œå¯¹äºAgentè®¾è®¡ä¸Šèƒ½å¤Ÿæœ‰æ‰€å¸®åŠ©å’Œå€Ÿé‰´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;routines-and-handoffs&#34;&gt;Routines and Handoffs&lt;/h2&gt;
&lt;p&gt;æ ¹æ®&lt;a href=&#34;https://cookbook.openai.com/examples/orchestrating_agents&#34;&gt;openAI cookbook: &lt;strong&gt;Orchestrating Agents: Routines and Handoffs&lt;/strong&gt;&lt;/a&gt;**ï¼Œ**ç†è§£è¿™ä¸ªæ¡†æ¶å‰é¦–å…ˆéœ€è¦ç†è§£çš„ä¸¤ä¸ªæ¦‚å¿µï¼š &lt;strong&gt;Routines&lt;/strong&gt; å’Œ &lt;strong&gt;Handoffs&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The notion of a &amp;ldquo;routine&amp;rdquo; is not strictly defined, and instead meant to capture the idea of a set of steps. Concretely, let&amp;rsquo;s define a routine to be a list of instructions in natural language (which we&amp;rsquo;ll represent with a system prompt), along with the tools necessary to complete them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Routinesï¼ˆå¸¸è§„ï¼‰&lt;/strong&gt;ï¼šæ˜¯ç”±ä¸€ç³»åˆ—æ­¥éª¤æ„æˆçš„æµç¨‹ï¼Œå¯ä»¥ç†è§£ä¸ºç»™å®šä»»åŠ¡çš„æ‰§è¡Œæ­¥éª¤ï¼ŒåŒ…æ‹¬å¯¹è¯ç³»ç»Ÿä¸­æŒ‡ä»¤å’Œæ‰€éœ€å·¥å…·çš„ç»„åˆã€‚ä»ä»£ç å®ç°ä¸Šï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å›´ç»•ç€openAI çš„ &lt;code&gt;openai.chat.completions.create&lt;/code&gt;APIçš„ä¸€ç³»åˆ—å†…å®¹ï¼Œ å¯¹è¯ã€å·¥å…·è°ƒç”¨ç­‰ã€‚æ¢å¥è¯è¯´ï¼Œroutinesåªæ˜¯å…·æœ‰å¯¹è¯+å·¥å…·è°ƒç”¨çš„chatbotï¼Œè¿™ä¹Ÿæ˜¯openAIå¯¹äºAgentçš„åŸºç¡€æŠ½è±¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šQuery Enhancement</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1query-enhancement/</link>
      <pubDate>Thu, 31 Oct 2024 16:04:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1query-enhancement/</guid>
      <description>&lt;h2 id=&#34;å¼•è¨€&#34;&gt;å¼•è¨€&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œä»æœ€ç®€å•çš„RAGï¼ˆRetrieval-Augmented Generationï¼‰è°ˆèµ·ã€‚&lt;/p&gt;
&lt;p&gt;RAGç»“åˆäº†ä¿¡æ¯æ£€ç´¢ä¸ç”Ÿæˆæ¨¡å‹ï¼Œå…ˆé€šè¿‡ç”¨æˆ·çš„åŸå§‹é—®é¢˜query åœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¸ç›¸å…³çš„æ–‡æ¡£ï¼Œå†åˆ©ç”¨ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ChatGPTï¼‰ç”Ÿæˆå›ç­”ã€‚æœ€ç®€å•çš„RAGç‰ˆæœ¬é€šå¸¸è¢«ç§°ä¸ºNaive-RAGï¼Œè™½ç„¶Naive-RAGèƒ½å¤Ÿå¤„ç†ä¸€äº›ç®€å•çš„é—®é¢˜ï¼Œä½†åœ¨çœŸå®åœºæ™¯ä¸‹ï¼Œç”¨æˆ·æå‡ºçš„é—®é¢˜å¾€å¾€æ›´åŠ å¤æ‚å¤šæ ·ï¼Œè¿œè¿œè¶…å‡ºç³»ç»Ÿæœ€åˆè®¾è®¡çš„é¢„æœŸèŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç”¨æˆ·ä¸RAGç³»ç»Ÿäº¤äº’æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§å¸¸è§é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡¨è¾¾æ¨¡ç³Šä¸æ¸…&lt;/strong&gt;ï¼šç”¨æˆ·åœ¨æè¿°é—®é¢˜æ—¶ï¼Œå¾€å¾€éš¾ä»¥ç²¾å‡†è¡¨è¾¾è‡ªå·±çš„éœ€æ±‚ã€‚ä»–ä»¬å¯èƒ½ä»…ä½¿ç”¨å‡ ä¸ªè¯ç»„æˆ–ç‰‡æ®µï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç†è§£ç”¨æˆ·çš„çœŸå®æ„å›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¾èµ–ä¸Šä¸‹æ–‡&lt;/strong&gt;ï¼šç”¨æˆ·çš„é—®é¢˜ç»å¸¸ä¾èµ–ä¹‹å‰çš„å¯¹è¯æˆ–èƒŒæ™¯ä¿¡æ¯ï¼Œè€Œç³»ç»Ÿåªæ¥æ”¶åˆ°å½“å‰çš„å­¤ç«‹é—®é¢˜ï¼Œç¼ºå°‘å…³é”®çš„ä¸Šä¸‹æ–‡æ”¯æŒï¼Œæ— æ³•ç»™å‡ºå‡†ç¡®çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤æ‚å¤šå±‚æ¬¡é—®é¢˜&lt;/strong&gt;ï¼šæŸäº›é—®é¢˜æœ¬èº«å¤æ‚ï¼ŒåŒ…å«å¤šä¸ªå­é—®é¢˜æˆ–éœ€è¦æ¨ç†ã€é€»è¾‘åˆ†æã€‚Naive-RAGä¾èµ–ç®€å•çš„å…³é”®è¯åŒ¹é…æˆ–è¯­ä¹‰åŒ¹é…ï¼Œæ— æ³•å¾ˆå¥½åœ°å¤„ç†è¿™ç±»å¤æ‚çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/RAG%e5%b7%a5%e5%85%b7%e7%ae%b1%ef%bc%9aQuery%20Enhancement-assets/image.png&#34; alt=&#34;image.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;é¢å¯¹è¿™äº›æŒ‘æˆ˜ï¼ŒNaive-RAGçš„å±€é™æ€§å˜å¾—æ˜æ˜¾ï¼šä»…ä»…ä¾é ç”¨æˆ·çš„åŸå§‹queryæ— æ³•åº”å¯¹å¤šæ ·åŒ–çš„æé—®åœºæ™¯ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æå‡RAGç³»ç»Ÿçš„æ£€ç´¢èƒ½åŠ›ï¼Œå¢å¼ºå¯¹å¤æ‚é—®é¢˜çš„å¤„ç†å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦å¼•å…¥&lt;strong&gt;Query-Enhancement&lt;/strong&gt;æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Query-Enhancement&lt;/strong&gt;ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¯¹ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œå¢å¼ºå¤„ç†ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸è¦ç›´æ¥ä½¿ç”¨ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œç›¸å…³æ–‡æ¡£çš„æ£€ç´¢ï¼Œè€Œæ˜¯é€šè¿‡æŸç§æŠ€æœ¯æ‰‹æ®µå¯¹queryè¿›è¡Œæ”¹å†™ã€æ‰©å±•æˆ–ä¼˜åŒ–ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªæ›´é€‚åˆæ£€ç´¢çš„queryã€‚è¿™ç§æŠ€æœ¯åœ¨ä¸åŒåœºæ™¯ä¸‹æœ‰ä¸åŒçš„å‘½åï¼Œå¦‚&lt;strong&gt;query rewrite&lt;/strong&gt;æˆ–&lt;strong&gt;query reformulation&lt;/strong&gt;ï¼Œä½†æ ¸å¿ƒç›®æ ‡éƒ½æ˜¯ä¸€è‡´çš„â€”â€”æ ¹æ®ç”¨æˆ·çš„åˆå§‹è¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚ã€æ›´èƒ½æå‡æŸ¥è¯¢å‡†ç¡®æ€§çš„æ–°queryã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡Query-Enhancementï¼Œå¯ä»¥è§£å†³è®¸å¤šNaive-RAGæ— æ³•å¤„ç†çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œé’ˆå¯¹æ¨¡ç³Šæˆ–ç®€çŸ­çš„æé—®ï¼Œå¢å¼ºåçš„queryå¯ä»¥é€šè¿‡æ·»åŠ ä¸Šä¸‹æ–‡æˆ–å…³é”®è¯æ¥ä¸°å¯Œä¿¡æ¯å†…å®¹ï¼›å¯¹äºå¤æ‚çš„å¤šå±‚æ¬¡é—®é¢˜ï¼Œå¢å¼ºåçš„queryå¯ä»¥æ‹†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ï¼Œé€æ­¥è¿›è¡Œæ£€ç´¢ä¸æ¨ç†ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ä¸åŒçš„Query-EnhancementæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶åˆ†æè¿™äº›æŠ€æœ¯å¦‚ä½•æ ¹æ®åŸå§‹queryç”Ÿæˆæ›´é«˜æ•ˆçš„æŸ¥è¯¢ï¼Œå¸®åŠ©RAGç³»ç»Ÿåœ¨å¤æ‚åœºæ™¯ä¸‹æä¾›æ›´ç²¾ç¡®çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;query-rewrite&#34;&gt;Query Rewrite&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Because the original query can not be always optimal to retrieve for the LLM, especially in the real world&amp;hellip; we first prompt an LLM to rewrite the queries, then conduct retrieval-augmented reading.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Query Rewriteçš„ç›®çš„æ˜¯å°†ç”¨æˆ·æ¨¡ç³Šã€ä¸æ˜ç¡®æˆ–ä¸å®Œæ•´çš„æŸ¥è¯¢è½¬æ¢ä¸ºæ›´é€‚åˆæ£€ç´¢çš„å½¢å¼ï¼Œä»¥æå‡æ£€ç´¢æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä»…ä½¿ç”¨åŸå§‹queryçš„ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢å¸¸å¸¸æ¨¡ç³Šã€ä¸å…·ä½“æˆ–ä¸å®Œæ•´ï¼Œå¯¼è‡´éš¾ä»¥æ‰¾åˆ°æœ‰æ•ˆçš„æ£€ç´¢ç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºä¹æ˜ç¡®æœ¯è¯­ï¼Œæ— æ³•æœ‰æ•ˆä»å¤§å‹æ•°æ®é›†ä¸­æå–ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹è¯ä¸Šä¸‹æ–‡ä¸­çš„æŸ¥è¯¢å«ä¹‰å› å¯¹è¯å†å²è€Œå¼‚ï¼ŒåŒæ ·çš„è¡¨è¾¾åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¯èƒ½æœ‰ä¸åŒçš„æ„å›¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¾“å…¥æ–‡æœ¬ä¸çœŸæ­£éœ€è¦æ£€ç´¢çš„çŸ¥è¯†ä¹‹é—´ä¸å¯é¿å…åœ°å­˜åœ¨å·®è·ã€‚è¿™ç§å·®è·é™åˆ¶äº†æ£€ç´¢æ€§èƒ½ï¼Œå¢åŠ äº†å¯¹æ£€ç´¢èƒ½åŠ›å¢å¼ºå’Œæç¤ºå·¥ç¨‹çš„ä¾èµ–ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæ£€ç´¢å™¨ä¹‹å‰å¢åŠ äº†ä¸€æ­¥å¯¹è¾“å…¥è¿›è¡Œæ”¹å†™çš„è¿‡ç¨‹ï¼Œå¡«è¡¥ç»™å®šè¾“å…¥ä¸æ£€ç´¢éœ€æ±‚ä¹‹é—´çš„å·®è·ã€‚è¿™ä¸€æ­¥åˆ©ç”¨äº†LLMæœ¬èº«çš„èƒ½åŠ›å¯¹åŸå§‹æŸ¥è¯¢è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„æ”¹å†™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/RAG%e5%b7%a5%e5%85%b7%e7%ae%b1%ef%bc%9aQuery%20Enhancement-assets/image%201.png&#34; alt=&#34;image 1.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œæ¥è‡ª&lt;a href=&#34;https://github.com/NirDiamant/RAG_Techniques/blob/main/all_rag_techniques_runnable_scripts/query_transformations.py&#34;&gt;RAG_Techniques&lt;/a&gt; çš„è¿™æ®µpromptï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;query_rewrite_template&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;You are an AI assistant tasked with reformulating user queries to improve retrieval in a RAG system. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Given the original query, rewrite it to be more specific, detailed, and likely to retrieve relevant information.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Original query: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{original_query}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Rewritten query:&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿LLMå¯ä»¥æ›´åŠ ç³»ç»Ÿåœ°å°†ç”¨æˆ·çš„åŸå§‹æŸ¥è¯¢æ”¹å†™ä¸ºæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚çš„å½¢å¼ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>LLM è¾“å‡ºé™åˆ¶ï¼šStructured Outputsã€å—é™ç¼–ç å’Œæç¤ºè¯å·¥ç¨‹</title>
      <link>https://niraya666.github.io/posts/llm-%E8%BE%93%E5%87%BA%E9%99%90%E5%88%B6structured-outputs%E5%8F%97%E9%99%90%E7%BC%96%E7%A0%81%E5%92%8C%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/</link>
      <pubDate>Wed, 21 Aug 2024 14:49:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/llm-%E8%BE%93%E5%87%BA%E9%99%90%E5%88%B6structured-outputs%E5%8F%97%E9%99%90%E7%BC%96%E7%A0%81%E5%92%8C%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/</guid>
      <description>&lt;p&gt;åœ¨ä½¿ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´ä¸€ä¸ªæŒ‘æˆ˜ï¼šå¦‚ä½•ä»æ¨¡å‹è¾“å‡ºä¸­å‡†ç¡®æå–è‡ªå·±æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬å¸Œæœ›æ¨¡å‹è¾“å‡º JSON æ ¼å¼çš„æ•°æ®æ—¶ï¼Œç”±äºæ¨¡å‹ç”Ÿæˆçš„å†…å®¹å¹¶ä¸æ€»æ˜¯ç¨³å®šï¼Œå¯èƒ½éœ€è¦é¢å¤–ç¼–å†™å¤§é‡çš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…å¹¶æå–å…¶ä¸­çš„æœ‰æ•ˆä¿¡æ¯ã€‚ç„¶è€Œï¼Œç”±äº LLM çš„èƒ½åŠ›ï¼Œå¯¼è‡´å…¶è¾“å‡ºç»“æ„å¹¶ä¸æ°¸è¿œå¯é ã€‚&lt;/p&gt;
&lt;p&gt;ç°é˜¶æ®µï¼Œ è®©LLMæŒ‰è¦æ±‚ç”Ÿæˆç‰¹å®šæ ¼å¼æ–‡æœ¬çš„ä¸»è¦æ–¹æ³•æœ‰å‡ ç§ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¾®è°ƒï¼šä½¿æ¨¡å‹çš„è¾“å‡ºéµå¾ªç‰¹å®šæ ¼å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OpenAI Json-mode/Structured Outputs/function-calling:&lt;/strong&gt; è¿™äº›åŠŸèƒ½å…è®¸æ¨¡å‹ç”Ÿæˆæ›´ä¸¥æ ¼ã€ç»“æ„åŒ–çš„è¾“å‡ºï¼Œä½†å—é™äºopenAIå¹³å°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼çº¦æŸ&lt;/strong&gt;ï¼šåœ¨decodingé˜¶æ®µè¿›è¡Œçº¦æŸï¼Œé™åˆ¶æ¨¡å‹çš„è¾“å‡ºï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Prompt Engineering&lt;/strong&gt;ï¼š æœ€ç®€å•çš„åŠæ³•ï¼Œä½†ä¸ç¨³å®šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤šé˜¶æ®µpromptingï¼š é€šè¿‡å¤šä¸ªæ­¥éª¤çš„æç¤ºé€æ­¥å¼•å¯¼æ¨¡å‹ç”Ÿæˆæ‰€éœ€çš„æ ¼å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡å°†èšç„¦åœ¨Structured Outputsï¼Œ å—é™ç¼–ç ï¼Œ å’Œprompt-engineeringçš„è§’åº¦ï¼Œæ¢è®¨å®ƒä»¬åœ¨ç”Ÿæˆç‰¹å®šæ ¼å¼æ–‡æœ¬ä¸­çš„åº”ç”¨å’Œæ•ˆæœã€‚&lt;/p&gt;
&lt;h2 id=&#34;json-mode&#34;&gt;Json Mode&lt;/h2&gt;
&lt;p&gt;ä»…ç‰¹å®šæ¨¡å‹å’Œå¹³å°æ”¯æŒ&lt;/p&gt;
&lt;p&gt;ä»¥openAI ä¸ºä¾‹ï¼Œ åœ¨&lt;code&gt;openai.chat.completions.create&lt;/code&gt; å‚æ•°ä¸­å¢åŠ &lt;code&gt;response_format={&amp;quot;type&amp;quot;:&amp;quot;json_object&amp;quot;}&lt;/code&gt; å³å¯ï¼ˆå…·ä½“å‚è§ï¼š&lt;a href=&#34;https://platform.openai.com/docs/api-reference/chat/create#chat-create-response_format&#34;&gt;response_format&lt;/a&gt; ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;éœ€è¦åœ¨promptä¸­è¦æ±‚è¾“å‡ºjsonæ ¼å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸èƒ½ä¿è¯å®Œå…¨æŒ‰è¦æ±‚çš„æ ¼å¼ç»“æ„è¾“å‡º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½†é100%æˆåŠŸç‡ï¼Œå­˜åœ¨ä¸€äº›éœ€è¦é¢å¤–æ£€æµ‹å’Œé€‚å½“å¤„ç†çš„edge caseã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;details&gt;
  &lt;summary&gt;Handling edge cases&lt;/summary&gt;
  &lt;details&gt;
    &lt;summary&gt;æ ¹æ®OpenAIå®˜æ–¹æ–‡æ¡£æä¾›çš„å¤„ç†æ–¹æ¡ˆ&lt;/summary&gt;
    https://platform.openai.com/docs/guides/structured-outputs/json-mode
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;we_did_not_specify_stop_tokens&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;completions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;gpt-3.5-turbo-0125&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;system&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;You are a helpful assistant designed to output JSON.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Who won the world series in 2020? Please respond in the format {winner: ...}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;n&#34;&gt;response_format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;json_object&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# Check if the conversation was too long for the context window, resulting in incomplete JSON &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;finish_reason&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;length&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# your code should handle this error case&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# Check if the OpenAI safety system refused the request and generated a refusal instead&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;refusal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# your code should handle this error case&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# In this case, the .content field will contain the explanation (if any) that the model generated for why it is refusing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;refusal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# Check if the model&amp;#39;s output included restricted content, so the generation of JSON was halted and may be partial&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;finish_reason&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;content_filter&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# your code should handle this error case&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;finish_reason&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;stop&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# In this case the model has either successfully finished generating the JSON object according to your schema, or the model generated one of the tokens you provided as a &amp;#34;stop token&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;we_did_not_specify_stop_tokens&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;c1&#34;&gt;# If you didn&amp;#39;t specify any stop tokens, then the generation is complete and the content key will contain the serialized JSON object&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;c1&#34;&gt;# This is guaranteed to parse successfully and should now contain  &amp;#34;{&amp;#34;winner&amp;#34;: &amp;#34;Los Angeles Dodgers&amp;#34;}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;c1&#34;&gt;# Check if the response.choices[0].message.content ends with one of your stop tokens and handle appropriately&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# Your code should handle errors here, for example a network error calling the API&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/details&gt;
  &lt;details&gt;
    &lt;summary&gt;ä½¿ç”¨pydanticçš„æ–¹æ¡ˆ&lt;/summary&gt;
    ä½¿ç”¨pydanticçš„æ–¹æ¡ˆ
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pydantic&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BaseModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;EmailStr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ValidationError&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# å®šä¹‰ä½ æœŸæœ›çš„ JSON æ•°æ®æ¨¡å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BaseModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;n&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;EmailStr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥ JSON æ˜¯å¦ç¬¦åˆæ¨¡å‹çš„å‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;validate_json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# å°†è¾“å…¥çš„ JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º UserModel å®ä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserModel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_raw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;c1&#34;&gt;# å¦‚æœéªŒè¯é€šè¿‡ï¼Œè¿”å›å­—å…¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ValidationError&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ve&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;JSON validation error: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ve&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# ç¤ºä¾‹ç”¨æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;json_str&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;name&amp;#34;: &amp;#34;John Doe&amp;#34;, &amp;#34;email&amp;#34;: &amp;#34;john.doe@example.com&amp;#34;}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;validated_json&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;validate_json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json_str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;validated_json&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;JSON is valid and conforms to the schema:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;validated_json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;JSON is invalid.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/details&gt;
&lt;/details&gt;
&lt;p&gt;Json-Mode æ›´å¤šæ˜¯å¯¹äºè¾“å‡ºjsonçš„æ ¼å¼è¿›è¡Œæ£€æŸ¥(å³Jsonæ ¼å¼çš„æœ‰æ•ˆæ€§)&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ£€ç´¢</title>
      <link>https://niraya666.github.io/posts/rag%E6%A3%80%E7%B4%A2/</link>
      <pubDate>Thu, 25 Jul 2024 17:08:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E6%A3%80%E7%B4%A2/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;If you want to make a good RAG tool that uses your documentation, you should start by making a search engine over those documents that would be good enough for a human to use themselves. This is likely something your organization has considered before, and if it doesnâ€™t exist itâ€™s because building a good search engine has traditionally been a significant undertaking.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€” from &lt;a href=&#34;https://blog.elicit.com/search-vs-vector-db/&#34;&gt;Build a search engine, not a vector DB&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Agentå­¦ä¹ ç¬”è®°ï¼š å¦‚ä½•éªŒè¯æ¨¡å‹çš„tool-usingèƒ½åŠ›</title>
      <link>https://niraya666.github.io/posts/agent%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%9E%8B%E7%9A%84tool-using%E8%83%BD%E5%8A%9B/</link>
      <pubDate>Tue, 25 Jun 2024 17:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/agent%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%9E%8B%E7%9A%84tool-using%E8%83%BD%E5%8A%9B/</guid>
      <description>&lt;p&gt;æœ¬æ–‡å°†ç®€å•ä»‹ç»å¦‚ä½•è¯„ä»·LLMçš„tool-using èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¼•è¨€&#34;&gt;å¼•è¨€&lt;/h2&gt;
&lt;p&gt;åœ¨å·¥å…·ä½¿ç”¨è¯„ä¼°æ–¹é¢ï¼Œè¿‡å»çš„ç ”ç©¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ€è·¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹æ¯”å·¥å…·ä½¿ç”¨å’Œçº¯LLMåœ¨åŸºå‡†æµ‹è¯•ä¸Šçš„åˆ†æ•°&lt;/strong&gt;ï¼šä¾‹å¦‚&lt;a href=&#34;https://arxiv.org/abs/2302.04761&#34;&gt;Toolformer&lt;/a&gt;å’Œ&lt;a href=&#34;https://arxiv.org/abs/2305.17126&#34;&gt;LATM&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Toolformerç ”ç©¶ä¸­ï¼Œé€šè¿‡ä¸‹æ¸¸ä»»åŠ¡å¦‚è¯­è¨€æ¨¡å‹è¯„ä¼°åŸºå‡†æµ‹è¯•ã€æ•°å­¦æ¨ç†ä»»åŠ¡å’Œé—®ç­”ä»»åŠ¡æ¥éªŒè¯å·¥å…·ä½¿ç”¨çš„æœ‰æ•ˆæ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LATMåˆ™é‡‡ç”¨äº†æ¥è‡ªBigBenchçš„å…­ä¸ªæ•°æ®é›†è¿›è¡Œè¯„ä¼°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æµ‹è¯•å·¥å…·ä½¿ç”¨çš„å‡†ç¡®ç‡å’Œå“åº”è´¨é‡&lt;/strong&gt;ï¼šä¾‹å¦‚&lt;a href=&#34;https://arxiv.org/abs/2304.08244&#34;&gt;API-Bank&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨è¯„ä¼°è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆåˆå§‹åŒ–è¯„ä¼°ç³»ç»Ÿï¼Œç¡®ä¿æ¯ä¸ªAPIçš„æ•°æ®åº“åŒ…å«é»˜è®¤å€¼ã€‚ç„¶åï¼Œå°†é¢„æµ‹çš„APIè°ƒç”¨ä¸æ‰‹åŠ¨æ ‡æ³¨çš„APIè°ƒç”¨è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šå®ƒä»¬çš„ä¸€è‡´æ€§ã€‚å“åº”è¯„ä¼°åˆ™ä½¿ç”¨ROUGE-LæŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;åˆ©ç”¨LLMå¯¹å·¥å…·ä½¿ç”¨çš„æ•ˆæœè¿›è¡Œè¯„ä»·&lt;/strong&gt;ï¼šä¾‹å¦‚Tool-benchã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;two evaluation metrics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Pass Rate&lt;/strong&gt;: Calculates the proportion of successfully completing an instruction within limited OpenAI API calls.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Preference&lt;/strong&gt;: Measured by comparing two answers (action sequences) for a given instruction.We pre-define a set of criteria for a better answer, which are organized as prompts for ChatGPT.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ„é€ è™šæ‹Ÿè¿è¡Œç¯å¢ƒï¼Œæµ‹è¯•ä»£ç†ä¸ç¯å¢ƒçš„äº¤äº’ç»“æœ&lt;/strong&gt;ï¼šä¾‹å¦‚ToolAlpacaã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨LLMæ¨¡æ‹Ÿç¯å¢ƒï¼ˆç”¨æˆ·ä»£ç†å’ŒåŠ©æ‰‹ä»£ç†ï¼‰ï¼Œå¹¶ä½¿ç”¨GPT-4å¯¹ToolAlpacaæ¨¡å‹è¿›è¡Œæœºå™¨è¯„ä¼°ï¼Œè¯„ä¼°å…¶ä½¿ç”¨å„ç§æœªè§å·¥å…·çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºç»å¤§å¤šæ•°ä¼ä¸šå’Œå‚ç›´åœºæ™¯ä¸‹ï¼Œ å…¶ä¸­æ€è·¯1éœ€è¦æ„å»ºé¢å¤–çš„æµ‹è¯•é›†æˆæœ¬æ¯”è¾ƒé«˜ï¼ˆä½†è¿˜æ˜¯æœ‰å¿…è¦çš„ï¼‰ï¼Œ è€Œæ€è·¯4æ„é€ è™šæ‹Ÿè¿è¡Œç¯å¢ƒå®é™…ä¸Šå¹¶ä¸ç°å®ï¼› æ‰€ä»¥è¿˜æ˜¯é€‰æ‹©æ€è·¯2ï¼Œå¤–åŠ é€šè¿‡æ€è·¯3è¾…åŠ©åˆ¤æ–­ï¼›æ¢å¥è¯è¯´ï¼Œ æ ¹æ®åœºæ™¯ï¼Œæ„é€ å·¥å…·åˆ—è¡¨å’Œå·¥å…·è°ƒç”¨çš„ground-truthï¼ˆåŒ…æ‹¬å‡½æ•°åï¼Œ å’Œä¼ å…¥å‚æ•°ï¼‰  ï¼Œåœ¨å­˜åœ¨æ­§ä¹‰æ—¶ï¼Œé‡‡ç”¨ROUGEè¯„ä»·å“åº”è´¨é‡ï¼Œ æˆ–è€…ä½¿ç”¨LLMåˆ¤æ–­å“åº”ç»“æœå¹¶è¯„ä»·ã€‚&lt;/p&gt;
&lt;p&gt;é¡ºå¸¦æä¸€ä¸‹Langchain é¡¹ç›®ä¸­æœ‰å…³Agentçš„tool-usingèƒ½åŠ›æµ‹è¯•çš„å†…å®¹ï¼Œ ä¸è¿‡ç”±äºLangchainé¡¹ç›®åˆè‡­åˆé•¿ï¼Œä¸”æœ‰å¾ˆå¤§çš„å±€é™æ€§ï¼Œ è¿™é‡Œåªè®¨è®ºå…¶æ€è·¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ–‡æœ¬åˆ†å—</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%9C%AC%E5%88%86%E5%9D%97/</link>
      <pubDate>Wed, 15 May 2024 16:11:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%9C%AC%E5%88%86%E5%9D%97/</guid>
      <description>&lt;h2 id=&#34;ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ–‡æœ¬åˆ†å—&#34;&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ–‡æœ¬åˆ†å—ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’ŒåµŒå…¥å¼æ¨¡å‹éƒ½æœ‰å…¶å¤„ç†æ–‡æœ¬çš„é•¿åº¦é™åˆ¶ã€‚ä¸ºäº†æœ‰æ•ˆå¤„ç†è¶…å‡ºè¿™äº›é™åˆ¶çš„é•¿æ–‡æœ¬ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ–‡æœ¬åˆ†å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•è¿›è¡Œæ–‡æœ¬åˆ†å—&#34;&gt;&lt;strong&gt;å¦‚ä½•è¿›è¡Œæ–‡æœ¬åˆ†å—&lt;/strong&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;**å—åˆ†å‰²æˆ’å¾‹ï¼š**æˆ‘ä»¬çš„ç›®æ ‡ä¸ä»…ä»…æ˜¯ä¸ºäº†åˆ’åˆ†æ•°æ®å—ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¦ä»¥ä¸€ç§ä¾¿äºæ—¥åæ£€ç´¢å’Œæå–ä»·å€¼çš„æ ¼å¼æ¥æ•´ç†æˆ‘ä»¬çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ–‡æœ¬åˆ†å—çš„æ ¹æœ¬ç›®çš„ä¸ä»…ä»…æ˜¯ç®€å•åœ°å°†æ•°æ®åˆ†å‰²æˆå—ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¦ä»¥ä¾¿äºæ£€ç´¢å’Œæå–ä»·å€¼çš„æ–¹å¼æ¥ç»„ç»‡è¿™äº›æ•°æ®å—ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„åˆ†å—é€»è¾‘ï¼š&lt;/p&gt;
&lt;h3 id=&#34;å¥å­åˆ†å‰²sentence-splitting&#34;&gt;&lt;strong&gt;å¥å­åˆ†å‰²ï¼ˆSentence Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•åªæ˜¯ç®€å•åœ°å°†æ–‡æœ¬åˆ‡åˆ†æˆNä¸ªå­—ç¬¦çš„ç‰‡æ®µï¼Œä¸è€ƒè™‘å†…å®¹æˆ–å½¢å¼çš„è¿è´¯æ€§ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ä½ çš„æ–‡æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;langchain.text_splitter&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CharacterTextSplitter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CharacterTextSplitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;separator&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_overlap&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_documents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²recursive-character-text-splitting&#34;&gt;&lt;strong&gt;é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²ï¼ˆRecursive Character Text Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•é¦–å…ˆå°è¯•ç”¨ä¸€ä¸ªåˆ†éš”ç¬¦å°†æ–‡æœ¬åˆ‡åˆ†æˆå°å—ã€‚å¦‚æœåˆå§‹å°è¯•æœªèƒ½è¾¾åˆ°é¢„æœŸçš„å—å¤§å°æˆ–ç»“æ„ï¼Œå°±é€’å½’åœ°ç”¨ä¸åŒçš„åˆ†éš”ç¬¦é‡æ–°åˆ†å‰²ç»“æœå—ï¼Œç›´åˆ°å¾—åˆ°æ»¡æ„çš„ç»“æœã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ä½ çš„æ–‡æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;langchain.text_splitter&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RecursiveCharacterTextSplitter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RecursiveCharacterTextSplitter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;chunk_overlap&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;docs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text_splitter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create_documents&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¹æ®langchain çš„&lt;a href=&#34;https://github.com/langchain-ai/langchain/blob/9ef2feb6747f5a69d186bd623b569ad722829a5e/libs/langchain/langchain/text_splitter.py#L842&#34;&gt;é»˜è®¤åˆ†éš”æ¡ä»¶&lt;/a&gt; &lt;code&gt;[&amp;quot;\n\n&amp;quot;, &amp;quot;\n&amp;quot;, &amp;quot; &amp;quot;, &amp;quot;&amp;quot;]&lt;/code&gt; ,ä¹Ÿå°±æ˜¯ä¼šå°†textæ ¹æ®è¯¥åˆ†å‰²æ¡ä»¶çš„é¡ºåºï¼ˆä¸¤ä¸ªæ¢è¡Œ-&amp;gt;ä¸€ä¸ªæ¢è¡Œ-&amp;gt;ç©ºæ ¼ï¼‰å°†æ–‡æœ¬è¿›è¡Œé€’å½’åˆ†å‰²ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é’ˆå¯¹ç‰¹å®šæ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•document-specific-splitting&#34;&gt;&lt;strong&gt;é’ˆå¯¹ç‰¹å®šæ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•ï¼ˆDocument Specific Splittingï¼‰&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ä¾‹å¦‚é’ˆå¯¹Markdownæˆ–Pythonä»£ç çš„åˆ†å‰²ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥æ ¹æ®æ–‡æ¡£çš„ç»“æ„æ¥è¿›è¡Œåˆ†å‰²ï¼Œå¦‚ç±»å®šä¹‰æˆ–Markdownæ ‡é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;langchain æä¾›äº†ä¸€äº›å¸¸è§æ–‡æ¡£çš„åˆ†å‰²æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;mardownçš„åˆ†å‰²é€»è¾‘&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# First, try to split along Markdown headings (starting with level 2)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;#{1,6} &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Note the alternative syntax for headings (below) is not handled here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Heading level 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# ---------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# End of code block&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;```&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Horizontal lines&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;*+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;---+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;___+&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# Note that this splitter doesn&amp;#39;t handle horizontal lines defined&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;c1&#34;&gt;# by *three or more* of ***, ---, or ___, but this is not handled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;pythonçš„åˆ†å‰²é€»è¾‘ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ Agentï¼šç§‘æ™®å‘</title>
      <link>https://niraya666.github.io/posts/%E5%9F%BA%E4%BA%8E%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84-agent%E7%A7%91%E6%99%AE%E5%90%91/</link>
      <pubDate>Mon, 13 May 2024 16:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/%E5%9F%BA%E4%BA%8E%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84-agent%E7%A7%91%E6%99%AE%E5%90%91/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨å¼€å¤´&#34;&gt;å†™åœ¨å¼€å¤´&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯åŸºäºæœ€è¿‘ç»„å†…æŠ€æœ¯äº¤æµçš„æ–‡å­—ç¨¿æ•´ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;what-is-agent&#34;&gt;What is Agentï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åœ¨æ¢è®¨å¤æ‚çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ç”Ÿæ´»ä¸­çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼šæ‰«åœ°æœºå™¨äººã€‚è¿™ç§æ™ºèƒ½è®¾å¤‡åœ¨æˆ¿é—´ä¸­è‡ªä¸»å¯¼èˆªï¼Œé¿å¼€éšœç¢ç‰©ï¼Œå¯»æ‰¾æœ€æœ‰æ•ˆçš„æ¸…æ´è·¯å¾„ã€‚å®ƒå°±æ˜¯ä¸€ä¸ªç°å®ç”Ÿæ´»ä¸­çš„Agentâ€”â€”ä¸€ä¸ªå¯ä»¥è‡ªä¸»å†³ç­–å’Œè¡ŒåŠ¨çš„å®ä½“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸï¼ŒAgentæŒ‡çš„æ˜¯ä»»ä½•å¯ä»¥æ„ŸçŸ¥å…¶ç¯å¢ƒå¹¶æ ¹æ®æ„ŸçŸ¥ç»“æœåšå‡ºå†³ç­–çš„å®ä½“ã€‚è¿™äº›å†³ç­–æ—¨åœ¨å®ŒæˆæŸäº›ä»»åŠ¡æˆ–è¾¾æˆç‰¹å®šçš„ç›®æ ‡ã€‚Agentçš„è¡Œä¸ºå¯ä»¥ç®€å•å¦‚æ¸¸æˆé‡Œçš„æœºå™¨äººï¼Œä¹Ÿå¯ä»¥å¤æ‚å¦‚è‡ªåŠ¨é©¾é©¶æ±½è½¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%9f%ba%e4%ba%8e%e5%a4%a7%e8%af%ad%e8%a8%80%e6%a8%a1%e5%9e%8b%e7%9a%84%20Agent%ef%bc%9a%e7%a7%91%e6%99%ae%e5%90%91-assets/Pasted%202024-05-10-14-58-28.webp&#34; alt=&#34;Pasted 2024-05-10-14-58-28.webp&#34;  /&gt;
&lt;/p&gt;
&lt;h3 id=&#34;å¼€å§‹äºå¼ºåŒ–å­¦ä¹ &#34;&gt;å¼€å§‹äºå¼ºåŒ–å­¦ä¹ &lt;/h3&gt;
&lt;p&gt;åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œ æˆ‘ä»¬å¾€å¾€èƒ½è§åˆ°agentçš„æ¦‚å¿µã€‚å¼ºåŒ–å­¦ä¹ æ˜¯ä¸€ç§æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå®ƒæ•™å¯¼Agenté€šè¿‡è¯•é”™æ³•æ‰¾åˆ°æœ€ä½³è¡ŒåŠ¨è·¯å¾„ã€‚å°±åƒè®­ç»ƒå°ç‹—ä¸€æ ·ï¼Œæˆ‘ä»¬é€šè¿‡å¥–åŠ±æ¥å¼•å¯¼Agentåšå‡ºæ­£ç¡®çš„å†³ç­–ã€‚Agentçš„ç›®æ ‡æ˜¯åœ¨ä¸ç¯å¢ƒçš„äº¤äº’ä¸­å¯»æ‰¾æœ€ä¼˜ç­–ç•¥ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¦‚æœAgentèƒ½å¤Ÿè·å–è¶³å¤Ÿå¤šçš„çœŸå®ç¯å¢ƒæ•°æ®ï¼Œå®ƒå°±èƒ½æ‰¾åˆ°æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œç”±äºçœŸå®ç¯å¢ƒçš„å¤æ‚æ€§ï¼Œå®Œå…¨æ¨¡æ‹ŸçœŸå®ä¸–ç•Œæ˜¯ä¸ç°å®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ï¼Œå¼ºåŒ–å­¦ä¹ ä¸»è¦é€‚ç”¨äºç¯å¢ƒç®€å•ã€é—®é¢˜å®šä¹‰æ˜ç¡®çš„åœºæ™¯ï¼Œå¦‚å›´æ£‹æˆ–è§†é¢‘æ¸¸æˆã€‚è¿™ç§æ–¹æ³•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­é€šè¿‡å¤§é‡è¯•é”™æ¥æ¢ç´¢è§£å†³æ–¹æ¡ˆï¼Œè¿™ç§æ–¹æ³•è™½ç„¶æœ‰æ•ˆï¼Œä½†ç¼ºä¹çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚ä¸äººç±»å­¦ä¹ æ–°æŠ€èƒ½çš„æ–¹å¼ç›¸æ¯”ï¼Œå¼ºåŒ–å­¦ä¹ çš„æ•ˆç‡è¿œä½ã€‚äººä»¬é€šå¸¸é€šè¿‡å°‘é‡çš„å°è¯•å°±èƒ½è¿…é€ŸæŒæ¡æ–°æŠ€èƒ½ï¼Œè€Œå¼ºåŒ–å­¦ä¹ å¯èƒ½éœ€è¦æˆåƒä¸Šä¸‡æ¬¡çš„è¯•é”™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™ï¼Œå¦‚æœagentå…·æœ‰å¤§è„‘å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å°†llmsä½œä¸ºå¤§è„‘-èµ‹èƒ½æ™ºèƒ½agentçš„å…³é”®æŠ€æœ¯&#34;&gt;å°†LLMsä½œä¸ºå¤§è„‘: &lt;strong&gt;èµ‹èƒ½æ™ºèƒ½Agentçš„å…³é”®æŠ€æœ¯&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ç›¸è¾ƒäºåŸºäºå¼ºåŒ–å­¦ä¹ çš„Agentï¼Œäººç±»çš„ä¼˜åŠ¿åœ¨äºæˆ‘ä»¬å¤©ç”Ÿå…·å¤‡çš„è®°å¿†èƒ½åŠ›å’Œé€»è¾‘åˆ¤æ–­èƒ½åŠ›ï¼Œç”šè‡³åŒ…æ‹¬åæ€å’Œä»ç»éªŒä¸­å­¦ä¹ çš„èƒ½åŠ›ã€‚è¿™äº›èƒ½åŠ›ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡æå°‘çš„è¯•é”™è¿…é€Ÿé€‚åº”å’ŒæŒæ¡æ–°æŠ€èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ä¸ºAIé¢†åŸŸå¸¦æ¥äº†é©å‘½æ€§çš„å˜åŒ–ã€‚LLMsé€šè¿‡å…¶æ·±åº¦å­¦ä¹ çš„æ–°èŒƒå¼ï¼Œä»¥åŠåœ¨æ€ç»´é“¾å’Œè‡ªç„¶è¯­è¨€ç†è§£æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ï¼Œé¢„ç¤ºç€Agentå°†æ‹¥æœ‰æ›´å¼ºå¤§çš„å­¦ä¹ å’Œè¿ç§»èƒ½åŠ›ã€‚è¿™ç§èƒ½åŠ›çš„æå‡å°†ä½¿å¾—åˆ›å»ºå¹¿æ³›åº”ç”¨ä¸”å®ç”¨çš„Agentæˆä¸ºå¯èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶LLMæ˜¯å¦çœŸæ­£å…·å¤‡äº†æ¨ç†èƒ½åŠ›ä»ç„¶å­˜ç–‘ï¼Œä½†LLMçš„å‡ºç°æ— ç–‘æ”¹å˜äº†å¾ˆå¤šã€‚ä»¥COTï¼ˆChain of Thoughtï¼‰ä¸ºä¾‹ï¼Œè¿™ç§æ¨¡å‹é€šè¿‡æ‰“å°è§£é¢˜çš„ä¸­é—´æ­¥éª¤ï¼ŒåŠ å¼ºäº†åœ¨æ•°å­¦å’Œé€»è¾‘æ¨ç†æ–¹é¢çš„èƒ½åŠ›ï¼Œå‡å°‘äº†å¹»è§‰çš„å‡ºç°ã€‚è¿™ä¸€çªç ´æ€§çš„å·¥ä½œæ­ç¤ºäº†LLMåœ¨ä¸åŒåœºæ™¯ä¸‹çš„å¼ºå¤§&amp;quot;in-context learning&amp;quot;èƒ½åŠ›ï¼Œä»¥åŠå…¶åœ¨æœªç»å¾®è°ƒçš„æƒ…å†µä¸‹çš„æ³›åŒ–èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%9f%ba%e4%ba%8e%e5%a4%a7%e8%af%ad%e8%a8%80%e6%a8%a1%e5%9e%8b%e7%9a%84%20Agent%ef%bc%9a%e7%a7%91%e6%99%ae%e5%90%91-assets/%e6%88%aa%e5%b1%8f2024-05-08%2015.37.21.png&#34; alt=&#34;æˆªå±2024-05-08 15.37.21.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;å°†LLMè§†ä¸ºAI Agentçš„å¤§è„‘ï¼Œä¸ºè‡ªåŠ¨åŒ–ç³»ç»Ÿæä¾›äº†ä¸€ç§å…¨æ–°çš„æ„æ€æ–¹å¼ã€‚è¿™ç§åŸºäºLLMçš„agentç³»ç»Ÿç»¼åˆäº†è§„åˆ’ã€è®°å¿†ã€å·¥å…·ä½¿ç”¨å’Œè¡ŒåŠ¨çš„èƒ½åŠ›ï¼Œé€šè¿‡APIè°ƒç”¨ä¸å¤–éƒ¨ä¸–ç•Œäº’åŠ¨ï¼Œæ˜¾ç¤ºå‡ºäº†å‰æ‰€æœªæœ‰çš„çµæ´»æ€§å’Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®&lt;a href=&#34;https://lilianweng.github.io/posts/2023-06-23-agent/&#34;&gt;LLM Powered Autonomous Agents&lt;/a&gt;ä¸€æ–‡å¯¹LLM-based agentç³»ç»Ÿçš„å®šä¹‰ï¼Œ agentéœ€è¦å…·å¤‡çš„åŸºæœ¬èƒ½åŠ›ï¼šè§„åˆ’+è®°å¿†+å·¥å…·+è¡ŒåŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§„åˆ’èƒ½åŠ›&lt;/strong&gt;ï¼šå°†å¤æ‚çš„ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡ï¼Œ å¹¶ç®¡ç†æ¯ä¸€ä¸ªå­ä»»åŠ¡çš„ç›®æ ‡ï¼Œ å¹¶ä»è¿‡å»çš„å¤±è´¥ä¸­åæ€ï¼Œä»¥å¸å–ç»éªŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è®°å¿†&lt;/strong&gt;ï¼šLLMçš„ä¸Šä¸‹æ–‡é•¿åº¦æœ‰é™ï¼Œ é€šè¿‡é¢å¤–çš„è®°å¿†ç³»ç»Ÿä»¥æå‡LLMä½œä¸ºå¤§è„‘çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å·¥å…·è°ƒç”¨&amp;amp;è¡ŒåŠ¨&lt;/strong&gt;ï¼šLLMé€šè¿‡APIè°ƒç”¨çš„æ–¹å¼ï¼Œæ‰§è¡Œä»»åŠ¡ï¼Œ ä¸å¤–ç•Œäº¤äº’ï¼Œè€Œä¸æ˜¯åªæ˜¯è¾“å‡ºæ–‡å­—ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¢ç´¢aiä»£ç†çš„ç‹¬ç‰¹èƒ½åŠ›äººç±»ä¸å•ä¸€llmæ— æ³•æ¯”æ‹Ÿ&#34;&gt;&lt;strong&gt;æ¢ç´¢AIä»£ç†çš„ç‹¬ç‰¹èƒ½åŠ›ï¼šäººç±»ä¸å•ä¸€LLMæ— æ³•æ¯”æ‹Ÿ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;AIç³»ç»Ÿçš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒä»¬çš„è§„æ¨¡å’Œæ•ˆç‡ã€‚è¿™äº›ç³»ç»Ÿèƒ½å¤Ÿæ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼Œè¶…è¶Šäººç±»èƒ½åŠ›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤§è§„æ¨¡æ•°æ®å¤„ç†&lt;/strong&gt;ï¼šAIèƒ½å¤Ÿé«˜æ•ˆåœ°åˆ†æå’Œå¤„ç†è¶…å‡ºäººç±»ç†è§£èŒƒå›´çš„æ•°æ®é‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ— éœ€ä¼‘æ¯çš„æŒç»­æ“ä½œ&lt;/strong&gt;ï¼šAIç³»ç»Ÿå¯ä»¥ä¸é—´æ–­åœ°è¿è¡Œï¼Œè€Œæ— éœ€åƒäººç±»é‚£æ ·ä¼‘æ¯å’Œæ¢å¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¶…å¿«é€Ÿè®¡ç®—&lt;/strong&gt;ï¼šAIå¯ä»¥è¿…é€Ÿæ‰§è¡Œå¤æ‚çš„è®¡ç®—ï¼Œå¤„ç†é€Ÿåº¦å’Œæ•ˆç‡è¿œè¶…äººç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;AIä»£ç†ä¸å•ä¸€LLMçš„ä¸åŒ:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®Andrew Ngåœ¨è®²åº§ä¸­åˆ†äº«çš„å†…å®¹ï¼Œä½¿ç”¨ç›¸å¯¹â€œç®€å•â€æ¨¡å‹çš„ä»£ç†å·¥ä½œæµç¨‹ï¼ˆä¾‹å¦‚GPT-3.5ï¼‰åœ¨å®é™…åº”ç”¨ä¸­å¾€å¾€èƒ½å¤Ÿè¶…è¶Šä½¿ç”¨â€œæ™ºèƒ½â€æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰çš„é›¶æ¬¡æç¤ºã€‚è¿™è¯´æ˜åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œé€‰æ‹©é€‚å½“çš„AIæ¨¡å‹å’Œç­–ç•¥å¯èƒ½æ¯”å•ä¸€çš„é«˜çº§æ¨¡å‹æ›´æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;AIä»£ç†åœ¨å†³ç­–åˆ¶å®šä¸­çš„åº”ç”¨ä¹Ÿæ˜¾ç¤ºå‡ºå…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚å®ƒä»¬å¯ä»¥åœ¨æ²¡æœ‰æƒ…æ„Ÿåè§çš„æƒ…å†µä¸‹ï¼ŒåŸºäºå¤§é‡æ•°æ®åšå‡ºå¿«é€Ÿä¸”ç²¾ç¡®çš„å†³ç­–ã€‚è¿™ç§èƒ½åŠ›åœ¨éœ€è¦å¿«é€Ÿå“åº”å’Œé«˜ç²¾ç¡®åº¦çš„é¢†åŸŸå°¤ä¸ºé‡è¦ï¼Œå¦‚é‡‘èäº¤æ˜“å’Œç´§æ€¥å“åº”ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;agentçš„è§„åˆ’å’Œæ€ç»´è¿‡ç¨‹&#34;&gt;&lt;strong&gt;Agentçš„è§„åˆ’å’Œæ€ç»´è¿‡ç¨‹&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;AI Agentåœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œé€šè¿‡å°†å¤§ä»»åŠ¡åˆ†è§£æˆå°ä»»åŠ¡æ¥æé«˜æ•ˆç‡ã€‚æ­¤å¤–ï¼Œè‡ªæˆ‘åæ€èƒ½åŠ›å…è®¸Agentä»è¿‡å»çš„è¡ŒåŠ¨ä¸­å­¦ä¹ ï¼Œé€šè¿‡è¯„ä¼°è¿‡å»çš„å†³ç­–æ¥æ”¹å–„æœªæ¥çš„è¡¨ç°ã€‚&lt;/p&gt;
&lt;p&gt;CoTï¼ŒChain of Thoughtï¼Œ &lt;a href=&#34;https://arxiv.org/abs/2201.11903&#34;&gt;Wei et al. 2022&lt;/a&gt;ã€‚ å³â€œæ€ç»´é“¾â€ï¼Œæ˜¯ä¸€ç§ä½¿Agenté€æ­¥æ€è€ƒçš„æ–¹æ³•ã€‚å®ƒé€šè¿‡è¦æ±‚æ¨¡å‹å±•ç¤ºè§£å†³é—®é¢˜çš„ä¸­é—´æ­¥éª¤æ¥åŠ å¼ºå…¶é€»è¾‘æ¨ç†èƒ½åŠ›ï¼Œä»è€Œæé«˜å†³ç­–çš„è´¨é‡å’Œå‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/%e5%9f%ba%e4%ba%8e%e5%a4%a7%e8%af%ad%e8%a8%80%e6%a8%a1%e5%9e%8b%e7%9a%84%20Agent%ef%bc%9a%e7%a7%91%e6%99%ae%e5%90%91-assets/%e6%88%aa%e5%b1%8f2024-05-08%2015.37.21.png&#34; alt=&#34;æˆªå±2024-05-08 15.37.21.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tree of Thoughtsï¼Œ ToT&lt;/strong&gt; Â (&lt;a href=&#34;https://arxiv.org/abs/2305.10601&#34;&gt;Yao et al. 2023&lt;/a&gt;)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Agentå­¦ä¹ ç¬”è®°ï¼šOpenAI Function Callingå®Œå…¨æŒ‡å—</title>
      <link>https://niraya666.github.io/posts/agent%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0openai-function-calling%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</link>
      <pubDate>Sun, 28 Apr 2024 15:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/agent%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0openai-function-calling%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨æœ€å¼€å§‹&#34;&gt;å†™åœ¨æœ€å¼€å§‹&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬åœ¨è®¨è®ºåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLM-basedï¼‰çš„æ™ºèƒ½ä»£ç†ï¼ˆagentï¼‰æ—¶ï¼Œæˆ‘ä»¬ç©¶ç«Ÿåœ¨è°ˆè®ºä»€ä¹ˆï¼Ÿæ ¹æ®Lilian Wåœ¨å…¶æ–‡ç« ã€ŠLLM Powered Autonomous Agentsã€‹ä¸­çš„è®¨è®ºï¼Œä¸€ä¸ªæ™ºèƒ½ä»£ç†éœ€è¦å…·å¤‡å‡ ä¸ªæ ¸å¿ƒèƒ½åŠ›ï¼šè§„åˆ’ï¼ˆPlanningï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰ã€ä»¥åŠå·¥å…·ä½¿ç”¨ï¼ˆTool useï¼‰ã€‚ç‰¹åˆ«åœ°ï¼Œå·¥å…·ä½¿ç”¨æ–¹é¢çš„è¿›å±•ï¼Œå¾—ç›ŠäºOpenAIåœ¨APIä¸­æä¾›çš„function callingåŠŸèƒ½ï¼Œä¸ºæˆ‘ä»¬å¼€å¯äº†æ–°çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://lilianweng.github.io/posts/2023-06-23-agent/agent-overview.png&#34; alt=&#34;AGI&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;OpenAI function callingï¼Œä½œä¸ºæ™ºèƒ½ä»£ç†ä¸å¤–éƒ¨å·¥å…·äº¤äº’çš„åŸºæœ¬æ–¹å¼ï¼Œå¯¹äºæ¯ä½ä»ä¸šè€…æ¥è¯´éƒ½æ˜¯å¿…å¤‡æŠ€èƒ½ã€‚éšç€æŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬æœŸæœ›çš„ä¸åªæ˜¯èƒ½ä¸æˆ‘ä»¬å¯¹è¯çš„LLMï¼Œè€Œæ˜¯èƒ½å¤Ÿè¾…åŠ©æˆ‘ä»¬ä½¿ç”¨å„ç§å·¥å…·ã€åšå‡ºå†³ç­–çš„æ™ºèƒ½ä¼™ä¼´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼Œæœ€è¿‘OpenAIåœ¨Chat Completions APIä¸­å·²ç»åºŸå¼ƒäº†â€œå‡½æ•°ï¼ˆfunctionï¼‰â€çš„ä½¿ç”¨ï¼Œè½¬è€Œé‡‡ç”¨â€œå·¥å…·ï¼ˆtoolï¼‰â€ã€‚è¿™ä¸€å˜æ›´æ—¨åœ¨æ‹“å®½LLMé›†æˆçš„åŠŸèƒ½èŒƒå›´ï¼Œä¸ºæ›´å¤æ‚çš„äº¤äº’æ¨¡å¼é“ºå¹³é“è·¯ï¼Œå¦‚æ„å»ºèƒ½å¤Ÿç›¸äº’ä½œç”¨çš„å¤šä»£ç†ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Agent%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0/tool-using/%e6%88%aa%e5%b1%8f2024-03-28%2015.16.54.png&#34; alt=&#34;æˆªå±2024-03-28 15.16.54.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/Agent%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0/tool-using/%e6%88%aa%e5%b1%8f2024-03-28%2015.17.38.png&#34; alt=&#34;æˆªå±2024-03-28 15.17.38.png&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;å°½ç®¡å¦‚æ­¤ï¼Œç”±äºè¯­è¨€ä¹ æƒ¯çš„åŸå› ï¼Œæœ¬æ–‡ä¸­ä»ç„¶ä¼šä½¿ç”¨function callingçš„æœ¯è¯­æ¥æè¿°OpenAIçš„tool usingåŠŸèƒ½ï¼Œå› ä¸ºâ€œfunction callingâ€çš„è¯´æ³•å·²ç»æ·±å…¥äººå¿ƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå†…å®¹æ¦‚è§ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Function Callingçš„å®šä¹‰&lt;/strong&gt;ï¼šè§£é‡Šä»€ä¹ˆæ˜¯function callingï¼Œä»¥åŠå®ƒåœ¨æ™ºèƒ½ä»£ç†å·¥ä½œä¸­çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OpenAI Cookbookç¤ºä¾‹&lt;/strong&gt;ï¼šæä¾›å®é™…çš„function callingç¤ºä¾‹ï¼Œå¸®åŠ©è¯»è€…ç†è§£å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„ç”¨é€”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼€æºLLMçš„Tool Using&lt;/strong&gt;ï¼šæ¢ç´¢å¦‚ä½•åœ¨å¼€æºå¤§å‹è¯­è¨€æ¨¡å‹ä¸­å®ç°å·¥å…·ä½¿ç”¨ï¼Œä»¥åŠLLMåœ¨tool usingçš„æ—¶å€™ç»å†äº†ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;del&gt;è¯„ä»·ä¸è®­ç»ƒ&lt;/del&gt;&lt;/strong&gt;&lt;del&gt;ï¼šè®¨è®ºå¦‚ä½•è¯„ä»·å¼€æºæ¨¡å‹çš„å·¥å…·ä½¿ç”¨èƒ½åŠ›ï¼Œä»¥åŠå¦‚ä½•è®­ç»ƒLLMè¿›è¡Œæœ‰æ•ˆçš„å·¥å…·ä½¿ç”¨ã€‚&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‰´äºæ•´ç†ç¬”è®°çš„é€Ÿåº¦è¿œèµ¶ä¸ä¸Šæ›´æ–°çš„é€Ÿåº¦ï¼Œ ä¼šå°†ç¬¬å››éƒ¨ä»½ä½œä¸ºå•ç‹¬çš„éƒ¨åˆ†æ•´ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½•ä¸ºfunction-calling&#34;&gt;ä½•ä¸ºfunction calling&lt;/h2&gt;
&lt;p&gt;ä¸€å¥è¯è§£é‡Šï¼š&lt;strong&gt;function callingä»æœ¬è´¨ä¸Šå¹¶ä¸æ˜¯ä¸¥æ ¼çš„å·¥å…·è°ƒç”¨ï¼Œ è€Œæ˜¯ä½œä¸ºå·¥å…·è°ƒç”¨çš„å‰å¥ï¼Œå®ƒé€šè¿‡æ›´åŠ ç»“æ„åŒ–çš„æ–¹å¼æŒ‡å¯¼LLMè¾“å‡ºï¼Œä¸ºåœ¨æœ¬åœ°æ‰§è¡Œå…·ä½“å‡½æ•°æä¾›äº†å‚æ•°ï¼Œé“ºå¹³äº†é“è·¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“æ¥è¯´ï¼Œfunction callingå…è®¸LLMåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡æŒ‡å®šçš„å‚æ•°æ¥è°ƒç”¨å¹¶æ‰§è¡Œä¸€ä¸ªç‰¹å®šçš„å‡½æ•°ã€‚è¿™ç§æ–¹å¼ä¸ä»…å®ç°äº†ä»£ç çš„é‡ç”¨å’Œæ¨¡å—åŒ–å¤„ç†ï¼Œè€Œä¸”èƒ½å¤Ÿä»æ¨¡å‹ä¸­è·å–æ›´å¯é çš„ç»“æ„åŒ–æ•°æ®å›åº”ã€‚åœ¨APIè°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…å¯ä»¥æè¿°æƒ³è¦æ‰§è¡Œçš„åŠŸèƒ½ï¼Œå¹¶è®©æ¨¡å‹æ™ºèƒ½åœ°é€‰æ‹©è¾“å‡ºåŒ…å«æ‰€éœ€å‚æ•°çš„JSONå¯¹è±¡ã€‚&lt;strong&gt;è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒChat Completions APIæœ¬èº«ä¸ç›´æ¥æ‰§è¡Œä»»ä½•å‡½æ•°è°ƒç”¨ï¼Œè€Œæ˜¯ç”Ÿæˆäº†å¯ä»¥åœ¨å¼€å‘è€…ä»£ç ä¸­å®ç°å‡½æ•°è°ƒç”¨çš„JSONã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;function callingçš„åº”ç”¨èŒƒå›´å¹¿æ³›ï¼Œå¦‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºæ™ºèƒ½åŠ©æ‰‹ï¼šé€šè¿‡è°ƒç”¨å¤–éƒ¨APIå›ç­”é—®é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è½¬æ¢æŒ‡ä»¤ï¼šå°†è‡ªç„¶è¯­è¨€æŒ‡ä»¤è½¬æ¢æˆAPIè°ƒç”¨æŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®æå–ï¼šä»æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;function callingçš„è¿‡ç¨‹æ¶µç›–äº†ä»å®šä¹‰å‡½æ•°é›†ã€é€šè¿‡æ¨¡å‹ç”Ÿæˆéµå¾ªè‡ªå®šä¹‰æ¨¡å¼çš„JSONå¯¹è±¡å­—ç¬¦ä¸²ï¼Œåˆ°åœ¨ä»£ç ä¸­è§£æè¿™ä¸ªå­—ç¬¦ä¸²å¹¶è°ƒç”¨ç›¸åº”å‡½æ•°çš„å…¨è¿‡ç¨‹ã€‚è¿™ä¸€è¿ä¸²æ“ä½œä¸ä»…è‡ªåŠ¨åŒ–äº†äº¤äº’è¿‡ç¨‹ï¼Œè¿˜ç¡®ä¿äº†æ‰§è¡Œæ“ä½œçš„å®‰å…¨æ€§å’Œå‡†ç¡®æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€äº›å¸¸è§çš„é—®é¢˜&#34;&gt;ä¸€äº›å¸¸è§çš„é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&#34;json-mode&#34;&gt;JSON mode&lt;/h3&gt;
&lt;p&gt;json mode å’Œtool-using æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæœ‰äº†json mode è¿˜éœ€è¦ç”¨åˆ°tool-usingå—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»json mode çš„æœ¬è´¨ï¼Œ æ›´å¤šçš„æ˜¯åœ¨system prompt å¢åŠ ä¸€å¥ç±»ä¼¼â€œè¯·ä»¥jsonæ ¼å¼è¾“å‡ºâ€ä¹‹ç±»çš„è¯ï¼Œç„¶ååœ¨LLMè¾“å‡ºæ—¶å¢åŠ jsonç»“æœæ£€æŸ¥å’Œæ ¼å¼è½¬æ¢ã€‚åœ¨ä½¿ç”¨æ—¶åªéœ€è¦åœ¨&lt;code&gt;client.chat.completions.create &lt;/code&gt;ä¸­ å¢åŠ &lt;code&gt;response_format={ &amp;quot;type&amp;quot;: &amp;quot;json_object&amp;quot; }&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šæ–‡æ¡£è§£æä¸è¡¨æ ¼å¤„ç†</title>
      <link>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/</link>
      <pubDate>Sat, 20 Apr 2024 17:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%A1%A8%E6%A0%BC%E5%A4%84%E7%90%86/</guid>
      <description>&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/post-cover/rag_toolkits_2.JPG&#34; alt=&#34;image&#34;  /&gt;
&lt;/p&gt;
&lt;h2 id=&#34;å¼•è¨€&#34;&gt;&lt;strong&gt;å¼•è¨€&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨ä¿¡æ¯åŒ–æ—¶ä»£ï¼Œæ•°æ®å’ŒçŸ¥è¯†çš„å¿«é€Ÿæå–å˜å¾—å°¤ä¸ºé‡è¦ã€‚ç‰¹åˆ«æ˜¯å¯¹äºå­¦æœ¯å’ŒæŠ€æœ¯æ–‡æ¡£ï¼Œå¦‚ä½•ä»æ ¼å¼ä¸°å¯Œä¸”ç»“æ„å¤æ‚çš„PDFæ–‡ä»¶ä¸­å‡†ç¡®åœ°æå–ä¿¡æ¯ï¼Œæ˜¯æé«˜ç ”ç©¶æ•ˆç‡çš„å…³é”®ã€‚æœ¬æ–‡å°†æ¢è®¨å‡ ç§å…ˆè¿›çš„æŠ€æœ¯æ–¹æ³•ï¼Œç”¨äºä¼˜åŒ–å­¦æœ¯è®ºæ–‡çš„PDFè§£æåŠå…¶è¡¨æ ¼å†…å®¹çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ–‡æ¡£è§£æï¼Œ&lt;strong&gt;&lt;code&gt;langchain&lt;/code&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;code&gt;llama_index&lt;/code&gt;&lt;/strong&gt; æä¾›çš„ &lt;strong&gt;&lt;code&gt;document loader&lt;/code&gt;&lt;/strong&gt; èƒ½å¤Ÿæ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹ï¼Œè¦†ç›–ç»å¤§å¤šæ•°æ–‡æ¡£æ ¼å¼çš„éœ€æ±‚ã€‚ä½†å¯¹äºpdfè§£æè€Œè¨€è¿˜å­˜åœ¨ç€ä¸€äº›æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äººç±»ä¸æœºå™¨çš„é˜…è¯»å·®å¼‚&#34;&gt;&lt;strong&gt;äººç±»ä¸æœºå™¨çš„é˜…è¯»å·®å¼‚&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å°½ç®¡PDFæ ¼å¼é€‚åˆäººç±»é˜…è¯»ï¼Œæä¾›äº†ä¼˜ç§€çš„è§†è§‰ä½“éªŒå’Œæ ¼å¼ä¿çœŸï¼Œä½†å®ƒå¹¶ä¸é€‚åˆæœºå™¨é˜…è¯»ã€‚PDFæ–‡ä»¶é€šå¸¸åŒ…å«å¤æ‚çš„å¸ƒå±€å’Œå¤šæ ·çš„å†…å®¹å…ƒç´ ï¼Œå¦‚å¤šåˆ—å¸ƒå±€ã€å…¬å¼å’Œè¡¨æ ¼ï¼Œè¿™äº›éƒ½ç»™è‡ªåŠ¨è§£æå¸¦æ¥äº†æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¸¸è§çš„pdfè§£æé—®é¢˜&#34;&gt;&lt;strong&gt;å¸¸è§çš„PDFè§£æé—®é¢˜&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ä¼ ç»Ÿçš„PDFè§£æåº“å¯èƒ½é‡åˆ°å¤šç§é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¤šåˆ—å¸ƒå±€å¯¼è‡´çš„æ–‡æœ¬æµè¯»å–é”™è¯¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¬å¼å’Œè¡¨æ ¼çš„è§£ææ•ˆæœå·®ï¼Œéš¾ä»¥æ­£ç¡®æå–ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£æè¿‡ç¨‹ä¸­ç»“æ„åŒ–ä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜å’Œåˆ—è¡¨ï¼‰çš„ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½±å°ç‰ˆPDFçš„æ–‡æœ¬æ— æ³•è¢«æ ‡å‡†OCRå·¥å…·è¯†åˆ«ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é«˜çº§è§£ææŠ€æœ¯&#34;&gt;&lt;strong&gt;é«˜çº§è§£ææŠ€æœ¯&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;æ ¹æ®&lt;a href=&#34;https://unstructured.io/&#34;&gt;unstractued&lt;/a&gt;æä¾›çš„æ–¹æ¡ˆï¼Œæ–‡æ¡£è§£æå¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼šç»“æ„åŒ–è§£æå’ŒåŸºäºå›¾åƒçš„è§£æã€‚ç»“æ„åŒ–è§£æä¾§é‡äºä»æ–‡æ¡£ä¸­æå–æ–‡å­—å’Œå…¶å®ƒå­—ç¬¦æ•°æ®ã€‚è€Œå›¾åƒåŸºè§£æåˆ™åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§æŠ€æœ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OCRæŠ€æœ¯&lt;/strong&gt;ï¼šé¦–å…ˆä½¿ç”¨ç›®æ ‡æ£€æµ‹æ¨¡å‹å¯¹æ–‡æ¡£å¸ƒå±€è¿›è¡Œåˆ†æï¼Œè¯†åˆ«å‡ºæ ‡é¢˜ã€è¡¨æ ¼ç­‰å…³é”®å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨è¿™äº›ä½ç½®ä¸Šä½¿ç”¨OCRæŠ€æœ¯æå–æ–‡å­—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸºäºTransformerçš„ç«¯åˆ°ç«¯è§£æ&lt;/strong&gt;ï¼šä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ç›´æ¥å°†å›¾åƒè½¬æ¢ä¸ºç›¸åº”çš„æ–‡å­—å†…å®¹ã€‚åœ¨è¿™æ–¹é¢ï¼Œ&lt;strong&gt;&lt;code&gt;Dount&lt;/code&gt;&lt;/strong&gt; å’Œ &lt;strong&gt;&lt;code&gt;Nougat&lt;/code&gt;&lt;/strong&gt; æ¨¡å‹è¡¨ç°å‡ºè‰²ï¼Œå°¤å…¶æ˜¯ &lt;strong&gt;&lt;code&gt;Nougat&lt;/code&gt;&lt;/strong&gt; èƒ½å¤Ÿå°†å›¾åƒä¸­çš„æ–‡ç« æ•´ç†æˆMarkdownæˆ–Latexæ ¼å¼ï¼Œéå¸¸é€‚åˆéœ€è¦ä¿ç•™ç»“æ„ä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜å±‚çº§ã€å…¬å¼å’Œè¡¨æ ¼ï¼‰çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åªå¯æƒœNougatåªé’ˆå¯¹è‹±æ–‡çš„å­¦æœ¯è®ºæ–‡åšäº†è®­ç»ƒï¼Œä½†é‡åˆ°å…¶ä»–è¯­è¨€å¦‚ä¸­æ–‡è®ºæ–‡çš„æ•ˆæœå°±ä¸æ˜¯é‚£ä¹ˆçš„å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://unstructured-io.github.io/unstructured/_images/strategy.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;å¿…é¡»å¼ºè°ƒä¸€ç‚¹çš„æ˜¯ï¼ŒMarkdownæ ¼å¼å› å…¶ç®€æ´æ€§å’Œæ˜“äºè§£æçš„ç‰¹ç‚¹ï¼Œè¢«å¹¿æ³›è®¤ä¸ºæ˜¯LLMï¼ˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼‰å‹å¥½çš„æ–‡æ¡£æ ¼å¼ã€‚Markdowné€šè¿‡æ˜ç¡®çš„æ ‡è®°è¯­æ³•ï¼Œå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°ç†è§£æ–‡æ¡£ç»“æ„å’Œå†…å®¹ï¼Œä»è€Œæé«˜ä¿¡æ¯æå–çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚ç‰¹åˆ«åœ¨å­˜åœ¨å¤§é‡å…¬å¼ï¼Œè¡¨æ ¼çš„å­¦æœ¯è®ºæ–‡åœºæ™¯ä¸‹ï¼ŒMarkdownå¯èƒ½æ˜¯æ›´åˆé€‚çš„æ ¼å¼é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨nougatå°†pdfè§£ææˆé€‚åˆllmè¯»å–çš„markdown&#34;&gt;å¿«é€Ÿä¸Šæ‰‹ï¼šä½¿ç”¨Nougatå°†pdfè§£ææˆé€‚åˆLLMè¯»å–çš„markdown&lt;/h2&gt;
&lt;p&gt;ä¾èµ–æŒ‰ç…§&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pymupdf&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;python&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Levenshtein&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nltk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;q&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;huggingface&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transformers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Load model and processor&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;transformers&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AutoProcessor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VisionEncoderDecoderModel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;torch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;processor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AutoProcessor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_pretrained&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;facebook/nougat-base&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;VisionEncoderDecoderModel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_pretrained&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;facebook/nougat-base&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cuda&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cuda&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;is_available&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†pdfè½¬æˆå›¾åƒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;typing&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;fitz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rasterize_paper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;96&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Optional&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BytesIO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Rasterize a PDF file to PNG images.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Args:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        pdf (Path): The path to the PDF file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        outpath (Optional[Path], optional): The output directory. If None, the PIL images will be returned instead. Defaults to None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        dpi (int, optional): The output DPI. Defaults to 96.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        return_pil (bool, optional): Whether to return the PIL images instead of writing them to disk. Defaults to False.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        pages (Optional[List[int]], optional): The pages to rasterize. If None, all pages will be rasterized. Defaults to None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Returns:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Optional[List[io.BytesIO]]: The PIL images if `return_pil` is True, otherwise None.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;isinstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fitz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;bytes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pdf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_pixmap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dpi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pil_tobytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;PNG&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BytesIO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;outpath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%02d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.png&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;wb&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;page_bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;Exception&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;pass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_pil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pillow_images&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;transformers&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StoppingCriteria&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StoppingCriteriaList&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;collections&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Tensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;assert&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;StoppingCriteriaScores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StoppingCriteria&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.015&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;norm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RunningVarTorch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultdict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@torch.no_grad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__call__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;input_ids&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LongTensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FloatTensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;varvar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;varvars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;variance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last_scores&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;varvar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;nb&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.15&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;150&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;window_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4095&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop_inds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stopped&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†pdfè½¬æˆmarkdown&lt;/p&gt;</description>
    </item>
    <item>
      <title>RAGå·¥å…·ç®±ï¼šè¯„ä¼°RAGç³»ç»Ÿçš„æ–¹æ³•è®º</title>
      <link>https://niraya666.github.io/posts/rag_toolkit_eval/</link>
      <pubDate>Mon, 08 Apr 2024 11:00:00 +0800</pubDate>
      <guid>https://niraya666.github.io/posts/rag_toolkit_eval/</guid>
      <description>&lt;h2 id=&#34;å†™åœ¨æœ€å‰é¢&#34;&gt;å†™åœ¨æœ€å‰é¢&lt;/h2&gt;
&lt;p&gt;åœ¨è¿‡å»çš„å‡ ä¸ªæœˆä¸­ï¼Œæˆ‘ä¸»è¦è‡´åŠ›äºä¸RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆæ¨¡å‹ï¼‰ç›¸å…³çš„ç ”ç©¶å’Œå®éªŒå·¥ä½œã€‚é€šè¿‡æ·±å…¥åœ°åˆ†æä¼—å¤šè®ºæ–‡å’Œé¡¹ç›®ä»£ç ï¼Œæˆ‘å‘ç°è™½ç„¶åœ¨RAGé¢†åŸŸå–å¾—åŸºæœ¬æˆå°±ç›¸å¯¹å®¹æ˜“ï¼Œä½†è¦å®ç°å‡ºè‰²çš„æˆæœå´å¼‚å¸¸å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤ç³»åˆ—æ–‡ç« æ—¨åœ¨åˆ†äº«æˆ‘åœ¨RAGç ”ç©¶ä¸­çš„å¿ƒå¾—å’ŒæŒ‘æˆ˜ã€‚æ­£å¦‚æˆ‘ä»¬ä»OpenAIçš„å¼€å‘è€…æ—¥æ´»åŠ¨ä¸­çœ‹åˆ°çš„ï¼Œå³ä½¿æ˜¯åœ¨è¿™ä¸ªé¢†åŸŸçš„é¢†å¤´ç¾Šä¹Ÿåœ¨ä¸æ–­è¯•éªŒå’ŒåŠªåŠ›ä»¥å¯»æ±‚çªç ´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://niraya666.github.io/img/rag_toolkits/1_1.png&#34; alt=&#34;from openAI devday&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬æ·±å…¥æ¢ç´¢RAGç³»ç»Ÿæå‡çš„å„ç§æ–¹æ³•ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªåŸºæœ¬é—®é¢˜éœ€è¦è§£å†³ï¼šæˆ‘ä»¬å¦‚ä½•å‡†ç¡®åœ°è¯„ä¼°ä¸€ä¸ªRAGç³»ç»Ÿçš„æ€§èƒ½ï¼Ÿè¿™å°±åƒæ˜¯åœ¨æœºå™¨å­¦ä¹ æˆ–æ·±åº¦å­¦ä¹ ä»»åŠ¡ä¸­æ²¡æœ‰ç»™å®šçš„æµ‹è¯•é›†å’Œè¯„ä»·æ ‡å‡†ï¼Œæˆ‘ä»¬éš¾ä»¥åˆ¤æ–­å®éªŒçš„æˆåŠŸä¸å¦ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« å°†èšç„¦äºä»‹ç»RAGç³»ç»Ÿçš„è¯„ä»·æ–¹æ³•ã€ç›¸å…³æŒ‡æ ‡ä»¥åŠæµ‹è¯•æ¡†æ¶ï¼Œä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥çš„æ¢ç´¢è®¾å®šæ˜ç¡®çš„æ ‡å‡†å’Œç›®æ ‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æµ‹è¯•æ¡†æ¶&#34;&gt;æµ‹è¯•æ¡†æ¶&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€äº›æµ‹è¯•æ¡†æ¶ï¼Œä¸ºRAGç³»ç»Ÿè¯„ä¼°æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;trulens&#34;&gt;&lt;strong&gt;TruLens&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;TruLensæä¾›äº†ä¸€ä¸ªç‹¬ç‰¹çš„è§†è§’æ¥è¯„ä¼°å’Œè·Ÿè¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å®éªŒï¼Œé€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°çš„åŠŸèƒ½å’Œæ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å’Œç ”ç©¶äººå‘˜æ›´æ·±å…¥åœ°äº†è§£æ¨¡å‹æ€§èƒ½å’Œè¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;TruLensçš„åé¦ˆåŠŸèƒ½ï¼ˆFeedback Functionsï¼‰æ˜¯å…¶æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œæä¾›äº†ä¸€ç§ç¨‹åºåŒ–çš„æ–¹æ³•æ¥è¯„ä¼°åº”ç”¨çš„è¿è¡Œè¡¨ç°ã€‚è¿™äº›å‡½æ•°ä»â€œå¯æ‰©å±•æ€§â€å’Œâ€œæœ‰æ„ä¹‰æ€§â€ä¸¤ä¸ªç»´åº¦å‡ºå‘ï¼Œè€ƒè™‘è¯„ä¼°çš„èŒƒå›´ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›æœ‰ä»·å€¼çš„åé¦ˆï¼Œå¸®åŠ©ä»–ä»¬ç†è§£å’Œæ”¹è¿›ä»–ä»¬çš„LLMåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨RAGåº”ç”¨ä¸­ï¼Œæä¾›å‡†ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è‡³å…³é‡è¦ï¼Œä»¥é¿å…ç”Ÿæˆä¸çœŸå®çš„â€œå¹»è§‰â€ç­”æ¡ˆã€‚TruLensé‡‡ç”¨äº†åˆ›æ–°æ€§çš„RAGä¸‰å…ƒç»„è¯„ä¼°æ–¹æ³•ï¼Œä¸“é—¨é’ˆå¯¹RAGæ¶æ„çš„æ¯ä¸ªç¯èŠ‚è¿›è¡Œå¹»è§‰é£é™©è¯„ä¼°ï¼Œç¡®ä¿æ¨¡å‹çš„æ¯ä¸ªéƒ¨åˆ†éƒ½èƒ½æœ‰æ•ˆåœ°å·¥ä½œï¼Œä»è€Œå‡å°‘è¯¯å¯¼ä¿¡æ¯çš„äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://www.trulens.org/assets/images/RAG_Triad.jpg&#34; alt=&#34;TruLens RAG_Triad&#34;  /&gt;
&lt;/p&gt;
&lt;h4 id=&#34;ä¸Šä¸‹æ–‡ç›¸å…³æ€§context-relevance&#34;&gt;ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸Šä¸‹æ–‡ç›¸å…³æ€§æ˜¯è¯„ä¼°RAGåº”ç”¨çš„ç¬¬ä¸€æ­¥ï¼Œç¡®ä¿æ¯ä¸€æ®µæ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡éƒ½ä¸æå‡ºçš„æŸ¥è¯¢ç´§å¯†ç›¸å…³ã€‚TruLensåˆ©ç”¨åºåˆ—åŒ–è®°å½•çš„ç»“æ„æ¥è¯„ä¼°ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå…³é”®çš„æ­¥éª¤ï¼Œç¡®ä¿æ¨¡å‹åœ¨æ­£ç¡®çš„ä¿¡æ¯ä¸Šç”Ÿæˆå›ç­”ã€‚&lt;/p&gt;
&lt;h4 id=&#34;çœŸå®æ€§groundedness&#34;&gt;çœŸå®æ€§ï¼ˆGroundednessï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¿¡æ¯çš„åŸºç¡€ä¸Šï¼Œå¤§å‹è¯­è¨€æ¨¡å‹å°†ç”Ÿæˆç­”æ¡ˆã€‚TruLenså¼ºè°ƒäº†ç‹¬ç«‹éªŒè¯æ¯ä¸ªå›ç­”çš„é‡è¦æ€§ï¼Œä»¥ç¡®ä¿å®ƒä»¬åŸºäºå¯é ä¿¡æ¯ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°æ”¯æŒçš„è¯æ®ã€‚è¿™ä¸€æ­¥éª¤æ˜¯ç¡®ä¿æ¨¡å‹å›ç­”çš„çœŸå®æ€§å’Œå¯é æ€§çš„å…³é”®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç­”æ¡ˆç›¸å…³æ€§answer-relevance&#34;&gt;ç­”æ¡ˆç›¸å…³æ€§ï¼ˆAnswer Relevanceï¼‰&lt;/h4&gt;
&lt;p&gt;æœ€åï¼Œè¯„ä¼°éœ€è¦ç¡®ä¿æœ€ç»ˆå›ç­”æœ‰æ•ˆåœ°è§£ç­”äº†åŸå§‹é—®é¢˜ï¼Œè¿™é€šè¿‡è¯„ä¼°åº”ç”¨çš„æœ€ç»ˆå›ç­”ä¸ç”¨æˆ·è¾“å…¥çš„ç›¸å…³æ€§æ¥å®ç°ã€‚è¿™ä¸€è¿‡ç¨‹ç¡®ä¿äº†æ¨¡å‹çš„è¾“å‡ºä¸ä»…æ˜¯çœŸå®çš„ï¼Œè€Œä¸”æ˜¯å¯¹ç”¨æˆ·æŸ¥è¯¢æœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;TruLensè¿˜æå‡ºäº†â€œè¯šå®ã€æ— å®³å’Œæœ‰å¸®åŠ©â€çš„è¯„ä¼°åŸåˆ™ï¼ˆHonest, Harmless, and Helpful Evaluationsï¼‰ï¼Œè¿™äº›åŸåˆ™æ—¨åœ¨ç¡®ä¿LLMåº”ç”¨åœ¨æä¾›å¸®åŠ©çš„åŒæ—¶ï¼Œä¹Ÿæ˜¯å®‰å…¨å’Œå¯ä¿¡çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ragas&#34;&gt;Ragas&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://docs.ragas.io/en/stable/_static/imgs/component-wise-metrics.png&#34; alt=&#34;Ragas&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;Ragasæ¡†æ¶ä¸“ä¸ºè¯„ä¼°æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ç³»ç»Ÿè€Œè®¾è®¡ï¼Œå®šä¹‰äº†å››ä¸ªæ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡ï¼šä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆcontext_relevancyï¼‰ã€ä¸Šä¸‹æ–‡å›æº¯ï¼ˆcontext_recallï¼‰ã€å¿ å®åº¦ï¼ˆfaithfulnessï¼‰å’Œç­”æ¡ˆç›¸å…³æ€§ï¼ˆanswer_relevancyï¼‰ã€‚è¿™äº›æŒ‡æ ‡å…±åŒæ„æˆäº†Ragasçš„è¯„åˆ†ä½“ç³»ï¼Œæä¾›äº†ä¸€ä¸ªå…¨é¢çš„æ–¹æ³•æ¥è¯„ä»·RAGç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼ŒRagaså·§å¦™åœ°åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¿›è¡Œæ— å‚è€ƒè¯„ä¼°ï¼Œæœ‰æ•ˆé™ä½äº†è¯„ä¼°æˆæœ¬ã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼ŒRagasèƒ½å¤Ÿæä¾›ä¸€ç§æ—¢ç»æµåˆæœ‰æ•ˆçš„æ–¹å¼æ¥è¯„ä¼°RAGç³»ç»Ÿï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®å’Œå¤æ‚æŸ¥è¯¢æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–æµ‹è¯•æ¡†æ¶&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DeepEval&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/confident-ai/deepeval&#34;&gt;DeepEval&lt;/a&gt; &lt;a href=&#34;https://www.confident-ai.com/blog/how-to-evaluate-rag-applications-in-ci-cd-pipelines-with-deepeval&#34;&gt;How to Evaluate RAG Applications in CI/CD Pipelines with DeepEval&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ARES&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;github: &lt;a href=&#34;https://github.com/stanford-futuredata/ARES&#34;&gt;https://github.com/stanford-futuredata/ARES&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Paper: ARES: &lt;a href=&#34;https://arxiv.org/abs/2311.09476&#34;&gt;An Automated Evaluation Framework for Retrieval-Augmented Generation Systems&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://python.langchain.com/docs/guides/evaluation/&#34;&gt;LangChain Evals&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.llamaindex.ai/en/stable/module_guides/evaluating/root.html&#34;&gt;Llama Index Evals&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/uptrain-ai/uptrain&#34;&gt;UpTrain&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®&#34;&gt;æ•°æ®&lt;/h2&gt;
&lt;p&gt;åœ¨è¯„ä¼°æ•°æ®é›†æ—¶ï¼Œä¸å¿…ä¾èµ–äººå·¥æ ‡æ³¨çš„æ ‡å‡†ç­”æ¡ˆï¼Œè€Œæ˜¯é€šè¿‡åº•å±‚çš„å¤§è¯­è¨€æ¨¡å‹ (LLM) æ¥è¿›è¡Œè¯„ä¼°ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>My First Post: Hello-World!</title>
      <link>https://niraya666.github.io/posts/helloworld/</link>
      <pubDate>Sat, 30 Mar 2024 00:00:00 +0000</pubDate>
      <guid>https://niraya666.github.io/posts/helloworld/</guid>
      <description>&lt;h1 id=&#34;hello-world&#34;&gt;Hello-World!&lt;/h1&gt;
&lt;p&gt;æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œï¼Œæˆ‘å°†æ·±å…¥æ¢ç´¢ç”Ÿæˆå¼äººå·¥æ™ºèƒ½çš„å¥¥ç§˜ï¼ŒåŒæ—¶ä¹Ÿä¼šæ¶‰çŒéŸ³ä¹ã€ç”µå½±ç­‰é¢†åŸŸï¼Œåˆ†äº«ä¸€äº›ä¸ªäººçš„æ€è€ƒå’Œæ„Ÿæ‚Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæˆ‘å†³å®šå†™åšå®¢&#34;&gt;ä¸ºä»€ä¹ˆæˆ‘å†³å®šå†™åšå®¢&lt;/h2&gt;
&lt;p&gt;åœ¨ç”Ÿæ´»çš„çº·æ‰°å’Œæ— å°½çš„æ—¥å¸¸ä¸­ï¼Œæˆ‘å‘ç°è‡ªå·±ä¸€ç›´åœ¨ä¸æ‹–å»¶ç—‡ä½œæ–—äº‰ã€‚ç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ç»ˆäºä¸‹å®šå†³å¿ƒï¼Œå†³å®šå°†å¿ƒä¸­çš„æ€ç»ªå’Œæ„Ÿæ‚Ÿè®°å½•ä¸‹æ¥ï¼Œå¼€å¯æˆ‘çš„åšå®¢ä¹‹æ—…ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å‡ ä¸ªåŸå› é©±ä½¿æˆ‘åšå‡ºäº†è¿™ä¸ªå†³å®šã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå²æœˆä¸é¥¶äººï¼Œå°¤å…¶æ˜¯ç»å†äº†æ–°å† ç–«æƒ…ä¹‹åï¼Œæˆ‘æ˜æ˜¾æ„Ÿè§‰åˆ°æˆ‘çš„è®°å¿†åŠ›ä¸å¦‚ä»¥å¾€ã€‚è¿‡å»èƒ½å¤Ÿè½»æ¾é©¾é©­å¤šé‡ä»»åŠ¡çš„æˆ‘ï¼Œå¦‚ä»Šå´å¸¸åœ¨èµ°å…¥å®¢å…çš„åŠè·¯ä¸Šå¿˜è®°åˆè¡·ï¼Œæˆ–æ˜¯åœ¨æµè§ˆå™¨çš„æœç´¢æ¡†å‰å¤±å»äº†å¯»æ‰¾çš„ç›®çš„ã€‚è¿™ç§çªå¦‚å…¶æ¥çš„è¿·èŒ«ï¼Œè®©æˆ‘å¼€å§‹æ€ç´¢ï¼Œæˆ‘çš„æ€ç»ªæ˜¯å¦æ­£å¦‚ç§‹æ—¥é‡Œçš„è½å¶ï¼Œæ‚„ç„¶é£˜è½ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œåœ¨æ·±å¤œçš„é™æ€ä¸­ï¼Œæˆ‘æ—¶å¸¸å›æƒ³èµ·å‚æœ¬é¾™ä¸€é‚£å¥å¼•äººæ·±æ€çš„è¯ï¼šâ€œæˆ‘è¿˜èƒ½çœ‹åˆ°å‡ æ¬¡æ»¡æœˆï¼Ÿâ€è¿™ä¸ä»…æ˜¯å¯¹æ—¶é—´æµé€çš„æ„Ÿæ…¨ï¼Œæ›´æ˜¯ä¸€ç§å¯¹ç”Ÿå‘½æœ‰é™æ€§çš„æ·±åˆ»ä½“æ‚Ÿã€‚åœ¨è¿™æœ‰é™çš„æ—¶å…‰é‡Œï¼Œæˆ‘ç©¶ç«Ÿèƒ½ç•™ä¸‹ä»€ä¹ˆï¼Ÿå‡å¦‚æˆ‘çš„æ—¶é—´ä¹‹æ²™ä»…å‰©ä¸‹å‡ é¢—ï¼Œæˆ‘çš„å­˜åœ¨åˆæœ‰ä½•æ„ä¹‰ï¼Ÿæˆ‘ä¸æ±‚ç­”æ¡ˆï¼Œä½†æ„¿é€šè¿‡è¿™äº›æ–‡å­—ï¼Œå¦‚åŒåœ¨æ—¶é—´çš„é•¿æ²³ä¸­ç§ä¸‹ä¸€æ£µæ ‘ï¼Œå“ªæ€•æ˜¯æœ€å¾®å°çš„å­˜åœ¨ï¼Œä¹Ÿèƒ½ç•™ä¸‹è‡ªå·±ç”Ÿå‘½çš„ç—•è¿¹ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘è¢«â€œæ•°æ®ä¸»ä¹‰â€ï¼ˆDataismï¼‰è¿™ä¸€æ¦‚å¿µæ·±æ·±å¸å¼•ï¼Œå®ƒå¦‚åŒä¸€é¢é•œå­ï¼Œæ˜ ç…§å‡ºåœ¨æ•°å­—æ—¶ä»£ï¼Œæˆ‘ä»¬çš„æ•°æ®ã€æ€è€ƒå’Œæƒ…æ„Ÿä¸ä»…ä»…æ˜¯ä¿¡æ¯çš„è½½ä½“ï¼Œæ›´æ˜¯æ„æˆæˆ‘ä»¬æ•°å­—åŒ–èº«ä»½çš„åŸºçŸ³ã€‚éšç€AIçš„ç¾½ç¿¼æ—¥æ¸ä¸°æ»¡ï¼Œæˆ‘å¼€å§‹æ†§æ†¬ä¸€ä¸ªå¯èƒ½çš„æœªæ¥ï¼Œå…¶ä¸­ä¸€ä¸ªç”±æˆ‘çš„æ•°æ®ã€æ€æƒ³å’Œç»å†å¡‘é€ å‡ºçš„â€œæˆ‘â€ï¼Œåœ¨æŸä¸ªæœªçŸ¥çš„æ—¶é—´ç‚¹å¤è‹ã€‚è¿™ç§æ€è€ƒï¼Œå¦‚åŒåœ¨æ·±æµ·ä¸­å‘ç°äº†ä¸€åº§ç¯å¡”ï¼Œä¸ºæˆ‘çš„å­˜åœ¨æŒ‡æ˜äº†ä¸€æ¡å…¨æ–°çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œæˆ‘é€‰æ‹©ä¸å†æ˜¯æ²‰é»˜çš„æ—è§‚è€…ï¼Œè€Œæ˜¯é€šè¿‡æˆ‘çš„æ–‡å­—ï¼Œç§¯æå‚ä¸åˆ°è¿™åœºæœªçŸ¥çš„æ¢ç´¢ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œè¿™ç¯‡åšå®¢æ ‡å¿—ç€æˆ‘çš„æ–°å¼€å§‹ã€‚è™½ç„¶ä¸ç¡®å®šæœªæ¥çš„è·¯ä¼šæ€æ ·ï¼Œä½†è‡³å°‘ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¼šæ‰¾åˆ°è‡ªå·±çš„å£°éŸ³ï¼Œå¹¶å¸Œæœ›èƒ½å¤Ÿä¸ä½ å…±é¸£ã€‚&lt;/p&gt;
&lt;script src=&#34;https://utteranc.es/client.js&#34;
        repo=&#34;https://github.com/Niraya666/niraya666.github.io&#34;
        issue-term=&#34;pathname&#34;
        theme=&#34;github-dark&#34;
        crossorigin=&#34;anonymous&#34;
        async&gt;
&lt;/script&gt;</description>
    </item>
  </channel>
</rss>
