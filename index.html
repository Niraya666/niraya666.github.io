<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.134.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>LZY Blog</title>

<meta name="description" content="">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://niraya666.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://niraya666.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://niraya666.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://niraya666.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://niraya666.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://niraya666.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://niraya666.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://niraya666.github.io/index.json">
<link rel="alternate" hreflang="en" href="https://niraya666.github.io/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="LZY Blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://niraya666.github.io/" />
<meta property="og:image" content="https://niraya666.github.io/images/papermod-cover.png" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://niraya666.github.io/images/papermod-cover.png" />
<meta name="twitter:title" content="LZY Blog"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "LZY Blog",
  "url": "https://niraya666.github.io/",
  "description": "",
  "thumbnailUrl": "https://niraya666.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/Niraya666", "mailto:lianzhy95@gmail.com", "https://ko-fi.com"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://niraya666.github.io/" accesskey="h" title="LZY Blog (Alt + H)">LZY Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://niraya666.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/posts/" title="AI">
                    <span>AI</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/musik/" title="Musik!">
                    <span>Musik!</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/monthly/" title="æœˆåˆŠ">
                    <span>æœˆåˆŠ</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/essay/" title="æ‚æ–‡">
                    <span>æ‚æ–‡</span>
                </a>
            </li>
            <li>
                <a href="https://niraya666.github.io/travel/" title="æ¸¸è®°">
                    <span>æ¸¸è®°</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>Hi there ğŸ‘‹</h1>
    </header>
    <div class="entry-content">
        Welcome to my Blog
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
    <a href="https://github.com/Niraya666" target="_blank" rel="noopener noreferrer me"
        title="View Source on Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
    <a href="mailto:lianzhy95@gmail.com" target="_blank" rel="noopener noreferrer me"
        title="Send Me an Email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
    <polyline points="22,6 12,13 2,6"></polyline>
</svg>
    </a>
    <a href="https://ko-fi.com" target="_blank" rel="noopener noreferrer me"
        title="Buy Me a Ko-Fi :)">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet"
    viewBox="0 -3 23 27" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
    stroke-linejoin="round">
    <path
        d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604 0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734c4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09c-.443-.441-3.368-3.049-4.034-3.954c-.709-.965-1.041-2.7-.091-3.71c.951-1.01 3.005-1.086 4.363.407c0 0 1.565-1.782 3.468-.963c1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z" />
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LangMem: ä¸€äº›å­¦ä¹ ç¬”è®°
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>æœ¬æ–‡æ˜¯æˆ‘åœ¨é˜…è¯» LangMem çš„æºç ä¸ç›¸å…³æ–‡æ¡£è¿‡ç¨‹ä¸­æ•´ç†çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚
ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘å¯¹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰çš„è®°å¿†æœºåˆ¶å……æ»¡å¥½å¥‡ï¼šç†æƒ³çš„ memory åº”è¯¥å…·å¤‡æ€æ ·çš„ç»“æ„ï¼Ÿåˆè¯¥å¦‚ä½•è®¾è®¡ï¼Ÿç›®å‰å¸‚é¢ä¸Šå…³äº memory çš„å®ç°å¤§å¤šä¸­è§„ä¸­çŸ©ï¼Œå°šæœªçœ‹åˆ°ä»¤äººçœ¼å‰ä¸€äº®çš„æ–¹æ¡ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘å†³å®šå¤šå‚è€ƒä¸€äº›å¼€æºé¡¹ç›®ï¼Œä»¥æœŸè·å¾—æ–°çš„çµæ„Ÿã€‚
æ€»ä½“æ¥çœ‹ï¼ŒLangMem ä½œä¸º LangChain æ¨å‡ºçš„ä¸€æ¬¾ memory æ¡†æ¶ï¼Œè®¾è®¡ä¸Šè¾ƒä¸ºå¸¸è§„ï¼Œè™½æœ‰éƒ¨åˆ†å€¼å¾—å€Ÿé‰´ä¹‹å¤„ï¼Œä½†äº®ç‚¹ä¸å¤šï¼Œä¸å»ºè®®æŠ•å…¥è¿‡å¤šæ—¶é—´æ·±å…¥ç ”ç©¶ã€‚åŒæ—¶ï¼Œä¸ LangChain çš„å…¶ä»–é¡¹ç›®ç±»ä¼¼ï¼Œå…¶ä»£ç ç»“æ„å’Œæ–‡æ¡£ç¼–å†™è¾ƒä¸ºæ··ä¹±ï¼Œé˜…è¯»ä½“éªŒä¸ä½³ã€‚
Core-Concepts core-concepts åœ¨LangMemæ‰€è®¾è®¡çš„memoryä½“ç³»ä¸­ï¼Œ å®šä¹‰äº†å‡ ç§ä¸åŒçš„Typical Storage Patternï¼šCollection ã€ Profileså’ŒProcedural
Collection CollectionÂ ä¸»è¦ç”¨äºå­˜å‚¨ä¸å—é™åˆ¶çš„çŸ¥è¯†ï¼Œé€‚ç”¨äºéœ€è¦é•¿æœŸç§¯ç´¯å’Œæ£€ç´¢çš„ä¿¡æ¯ã€‚æ¯æ¡è®°å¿†è¢«å­˜å‚¨ä¸ºç‹¬ç«‹çš„æ–‡æ¡£æˆ–è®°å½•ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶è¿›è¡Œæœç´¢å’Œå›å¿†ï¼›
é€‚ç”¨åœºæ™¯ï¼šè®°å½•ç”¨æˆ·çš„é•¿æœŸçŸ¥è¯†ï¼Œä¾‹å¦‚ç”¨æˆ·çš„å…´è¶£ã€èŒä¸šèƒŒæ™¯ã€æŠ€èƒ½ç­‰
æ›´æ–°æ–¹å¼ï¼šéœ€è¦åˆå¹¶æ–°ä¿¡æ¯ï¼Œé¿å…é‡å¤æˆ–å†²çª
æ£€ç´¢æ–¹å¼ï¼šé€šè¿‡è¯­ä¹‰æœç´¢æˆ–å…³é”®è¯åŒ¹é…æ¥æŸ¥æ‰¾ï¼Œç»“åˆè®°å¿†çš„é‡è¦æ€§å’Œä½¿ç”¨é¢‘ç‡æ¥ä¼˜åŒ–æ£€ç´¢ç»“æœ
Profiles å­˜å‚¨ç»“æ„åŒ–çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·çš„å§“åã€è¯­è¨€åå¥½ã€æ²Ÿé€šé£æ ¼ç­‰ã€‚ä¸ Collection ä¸åŒï¼ŒProfile åªå­˜å‚¨æœ€æ–°çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯ç´¯ç§¯æ‰€æœ‰å†å²ä¿¡æ¯ã€‚Profile ä½œä¸ºå•ä¸€æ–‡æ¡£å­˜å‚¨ï¼Œæ¯æ¬¡æ›´æ–°æ—¶éƒ½ä¼šè¦†ç›–æ—§æ•°æ®
é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºéœ€è¦å¿«é€Ÿè®¿é—®å½“å‰çŠ¶æ€çš„åº”ç”¨ï¼Œä¾‹å¦‚ä¸ªæ€§åŒ–æ¨èã€ç”¨æˆ·è®¾ç½®ï¼›é€‚ç”¨äºéœ€è¦ä¸¥æ ¼å®šä¹‰æ•°æ®ç»“æ„çš„åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·æ¡£æ¡ˆã€ç³»ç»Ÿé…ç½®ï¼›
æ›´æ–°æ–¹å¼ï¼šä¸ä¼šåˆ›å»ºæ–°è®°å½•ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ–°ç°æœ‰çš„ Profileï¼›é€‚ç”¨äºåªå…³å¿ƒæœ€æ–°çŠ¶æ€çš„åº”ç”¨ï¼Œè€Œä¸æ˜¯å†å²ï¼›
æ£€ç´¢æ–¹å¼ï¼šç›´æ¥æŸ¥æ‰¾ç”¨æˆ·çš„ Profile
Procedural Memory ç±»ä¼¼äºäººç±»çš„å·¥ä½œè®°å¿†ï¼Œç”¨äºå­˜å‚¨å¦‚ä½•æ‰§è¡Œä»»åŠ¡çš„çŸ¥è¯†ï¼Œä¸»è¦ä½“ç°åœ¨system prompts å’Œè¡Œä¸ºä¼˜åŒ–ä¸Š
é€‚ç”¨åœºæ™¯ï¼šéœ€è¦é•¿æœŸä¼˜åŒ– Agentè¡Œä¸ºå’Œäº¤äº’æ–¹å¼ï¼Œå°‘èµ°å¼¯è·¯
æ€»ç»“
Memory Type ç”¨é€” æ™ºèƒ½ä½“ç¤ºä¾‹ å…¸å‹å­˜å‚¨æ¨¡å¼ Semantic Facts &amp; Knowledge User preferences; knowledge triplets Profileæˆ–Collection Episodic Past Experiences Few-shot examples; è¿‡å¾€å¯¹è¯æ‘˜è¦ Collection Procedural System Behavior Core personality and response patterns Prompt rulesæˆ–Collection Writing memories æä¾›äº†ä¸¤ç§å†™å…¥memoryçš„æ–¹æ³•ï¼šåŠæ—¶å†™å…¥ï¼ˆé€‚ç”¨äºè¦æ±‚å³æ—¶è®°å¿†åæ˜ çš„åœºæ™¯ï¼‰å’Œä¸€æ®µæ—¶é—´åçš„å¼‚æ­¥å†™å…¥ï¼ˆé€‚ç”¨äºé«˜æ•ˆå¤„ç†å’Œå­˜å‚¨å¤§é‡ä¿¡æ¯çš„åœºæ™¯ï¼‰
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-04-10 10:44:00 +0800 CST'>April 10, 2025</span>&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to LangMem: ä¸€äº›å­¦ä¹ ç¬”è®°" href="https://niraya666.github.io/posts/langmem-%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RAGå·¥å…·ç®±ï¼šåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„æ–‡æ¡£è§£ææ–¹æ¡ˆï¼ˆ2025ç‰ˆï¼‰
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>Updated on 2025-03-29: Add SmolDocling &amp; VLM Summary
æŠ€æœ¯è¿­ä»£é€Ÿåº¦ä¹‹å¿«ä»¤äººæƒŠå¹ï¼Œå‰ä½œ RAGå·¥å…·ç®±ï¼šæ–‡æ¡£è§£æä¸è¡¨æ ¼å¤„ç† åœ¨çŸ­çŸ­æ•°æœˆå†…å·²æ˜¾ç°å‡ºä»£é™…å·®è·ï¼Œå°½ç®¡å‰ä½œä¹Ÿä»…ä»…åªæ˜¯æŠ›ç –å¼•ç‰å¼åœ°è®¨è®ºäº†pdfçš„è§£ææ–¹æ¡ˆï¼Œä¸è¿‡åœ¨æ–°æŠ€æœ¯çš„é¢å‰ï¼Œæ—¢æœ‰çš„å¤æ‚è§£ææ¶æ„é€æ¸å¤±å»å­˜åœ¨ä»·å€¼ï¼Œä¹Ÿè¢«ç«¯åˆ°ç«¯èŒƒå¼æ‰€å–ä»£ã€‚åœ¨ç¬”è€…çœ‹æ¥ï¼ŒåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„ç«¯åˆ°ç«¯æ–‡æ¡£è§£ææ–¹æ¡ˆï¼Œå°†æˆä¸ºæœ€ä¼˜è§£ã€‚
æœ¬æ–‡å°†æ¢è®¨æ–‡æ¡£è§£æçš„ç»ˆæå½¢æ€â€”â€”åŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆVLMï¼‰çš„è§£ææŠ€æœ¯ï¼ŒåŒ…æ‹¬Mistral-OCRã€OlmOCRç­‰å‰æ²¿å·¥å…·çš„å®ç°ä¸å®è·µï¼Œå¹¶å±•æœ›è¯¥é¢†åŸŸçš„æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼Œå’Œå¯¹äºRAGçš„å½±å“ã€‚
è¿‡å»çš„æŠ€æœ¯æ ˆæ€»ç»“ åœ¨RAGç³»ç»Ÿä¸­ï¼Œæ–‡æ¡£è§£æè´¨é‡ç›´æ¥å†³å®šç³»ç»Ÿä¸Šé™ã€‚ä¸åŒåœºæ™¯ä¸‹çš„æ–‡æ¡£å½¢æ€å·®å¼‚æ˜¾è‘—ï¼Œè‹¥ä¸èƒ½æœ‰æ•ˆè§£å†³&#34;garbage in, garbage out&#34;çš„è¾“å…¥è´¨é‡é—®é¢˜ï¼Œåç»­å¤„ç†ç¯èŠ‚å°†éš¾ä»¥å‘æŒ¥åº”æœ‰ä»·å€¼ã€‚
ä¼ ç»Ÿæ–‡æ¡£è§£ææŠ€æœ¯é•¿æœŸå—é™äºä»¥ä¸‹æ ¸å¿ƒç—›ç‚¹ï¼š
ç»“æ„åŒ–ä¿¡æ¯ç¼ºå¤±ï¼šæ— æ³•å‡†ç¡®è¯†åˆ«æ–‡æ¡£æ ‡é¢˜ã€å‰¯æ ‡é¢˜ç­‰å±‚çº§ç»“æ„
ç‰¹æ®Šå†…å®¹å¤„ç†è–„å¼±ï¼šæ•°å­¦å…¬å¼ã€ä¸“ä¸šç¬¦å·è§£æå‡†ç¡®ç‡ä½ä¸‹
å¤æ‚è¡¨æ ¼è§£æå›°å¢ƒï¼šè·¨é¡µè¡¨æ ¼ã€åˆå¹¶å•å…ƒæ ¼ç­‰åœºæ™¯æ”¯æŒä¸è¶³
å›¾åƒä¿¡æ¯æå–ç“¶é¢ˆï¼šæ‰«ææ–‡æ¡£ã€æ‰‹å†™ä½“è¯†åˆ«æ•ˆæœæ¬ ä½³
ç‰ˆå¼é€‚åº”æ€§é—®é¢˜ï¼šå¤šæ å¸ƒå±€ã€å½±å°ç‰ˆæœ¬ç­‰æ–‡æ¡£æ ¼å¼å…¼å®¹æ€§å·®
ä»æŠ€æœ¯è§’åº¦ï¼Œè¿‡å»æ–‡æ¡£è§£æçš„åº•å±‚é€»è¾‘å’Œæ¡†æ¶ï¼š
çº¯æ–‡æœ¬è§£æ: PyPDF, PyMuPDFåªèƒ½è§£æpdfä¸­çš„æ–‡å­—,å¯¹äºå…¬å¼è¡¨æ ¼å’Œå¤æ‚æ’ç‰ˆè§£ææ— èƒ½,å¯¹äºæ‰«æç‰ˆä½è´¨é‡çš„pdfæ— èƒ½ä¸ºåŠ›
OCRæ–¹æ¡ˆï¼ˆPaddleOCRç­‰ï¼‰: é¦–å…ˆä½¿ç”¨ç›®æ ‡æ£€æµ‹æ¨¡å‹å¯¹æ–‡æ¡£å¸ƒå±€è¿›è¡Œåˆ†æï¼Œè¯†åˆ«å‡ºæ ‡é¢˜ã€è¡¨æ ¼ç­‰å…³é”®å…ƒç´ çš„ä½ç½®ï¼Œç„¶ååœ¨è¿™äº›ä½ç½®ä¸Šä½¿ç”¨OCRæŠ€æœ¯æå–æ–‡å­—ï¼›ç”±äºéœ€è¦è°ƒç”¨å¤šä¸ªæ¨¡å‹ï¼Œæ•´å¥—ç³»ç»Ÿéå¸¸å¤æ‚ï¼›
åŸºäºtransformer çš„è§£ææ–¹æ¡ˆï¼ˆä»£è¡¨: Dount, Nougatï¼‰ï¼šä¸“é—¨é’ˆå¯¹è‹±æ–‡çš„å­¦æœ¯æ–‡ç« åšçš„è®­ç»ƒ, èƒ½å¤Ÿå°†pdfæ–‡ç« æ•´ç†æˆMarkdownæˆ–Latexæ ¼å¼ï¼›ä½†å¯¹äºå…¶ä»–è¯­è¨€å’Œå…¶ä»–ç±»å‹çš„æ–‡æ¡£æ³›åŒ–æ•ˆæœå¾ˆå·®ï¼›
éšç€æ¨¡å‹èƒ½åŠ›æå‡ï¼Œé‡‡ç”¨VLMåšè§£ææ˜¯éå¸¸è‡ªç„¶çš„æƒ³æ³•ï¼Œå°½ç®¡GPT-4oçš„å‘å¸ƒä½¿è¯¥æŠ€æœ¯è·å¾—å¹¿æ³›å…³æ³¨ï¼Œä½†å…¶é«˜æ˜‚çš„APIæˆæœ¬åˆ¶çº¦äº†å®é™…åº”ç”¨ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œå¼€æºç¤¾åŒºçš„æŠ€æœ¯çªç ´æ­£åœ¨æ”¹å˜è¿™ä¸€å±€é¢ï¼šä¸è®ºæ˜¯LLMåŸºåº§æ¨¡å‹å¤šæ¨¡æ€ç†è§£èƒ½åŠ›çš„å¢å¼ºï¼Œè¿˜æ˜¯è§†è§‰ç¼–ç å™¨çš„æå‡ï¼Œè‡³å°‘åœ¨å½“ä¸‹ï¼Œå¼€æºVLMå·²å…·å¤‡å®ç”¨çº§æ–‡æ¡£è§£æèƒ½åŠ›ï¼Œè€Œæ— éœ€é’ˆå¯¹ä¸‹æ¸¸ä»»åŠ¡çš„å¾®è°ƒï¼ŒåŒæ—¶æˆæœ¬ä¸Šå·²ç»åœ¨å¯æ¥å—èŒƒå›´äº†ã€‚
Benchmark ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ¨¡å‹æ˜¯å¦é€‚åˆDocument Parsingï¼Œéœ€è¦benchmarkæµ‹è¯•åˆ†æ•°ï¼Œä½œä¸ºæ¨¡å‹æŒ‘é€‰çš„æ ‡å‡†ã€‚
ç°é˜¶æ®µï¼Œé’ˆå¯¹LLMsåœ¨OCRã€æ–‡æ¡£ä¿¡æ¯æå–åœºæ™¯ä¸‹ä¸»è¦é‡‡ç”¨ä»¥ä¸‹å‡ ä¸ªå¸¸è§çš„bench
OCRBenchã€OCRBench-V2
OmniDocBench
CC-OCR
â€¦and more
ï¼ˆå…³äºbenchmarkçš„å…·ä½“å†…å®¹è§é™„å½•ï¼‰
è¿™äº›benchéƒ½åŸºæœ¬ä¸ŠåŒ…å«äº†é€šç”¨åœºæ™¯ä¸‹çš„OCRèƒ½åŠ›ï¼Œ å¤šè¯­è¨€çš„æ–‡æ¡£è§£æèƒ½åŠ›çš„æµ‹è¯•ï¼Œèƒ½å¤Ÿä¸€å®šç¨‹åº¦ä¸Šä½œä¸ºæ¨¡å‹ç­›é€‰çš„å…³æ³¨é¦–é€‰
å½“ç„¶ï¼Œé™¤äº†æ¨¡å‹èƒ½åŠ›ä»¥å¤–ï¼Œè¿˜éœ€è¦å…³æ³¨æ¨¡å‹çš„å‚æ•°é‡ï¼Œå› ä¸ºä¸å…¶æˆæœ¬å’Œlatencyæ¯æ¯ç›¸å…³ã€‚
ä¸è¿‡ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…·ä½“åœºæ™¯ï¼Œè¿˜æ˜¯éœ€è¦æ„å»ºè‡ªå·±çš„æµ‹è¯•é›†ç”¨äºåˆ¤æ–­æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿèƒœä»»ä»»åŠ¡ï¼Œ å› ä¸ºbenchmarkæ‰€åŒ…å«çš„æµ‹è¯•åœºæ™¯æ•°æ®ï¼Œåˆ†å¸ƒè¯­è¨€ç­‰ç­‰å’Œå…·ä½“çš„åœºæ™¯ä¸è§å¾—å®Œå…¨ä¸€æ ·ã€‚
æ ¹æ®benchmarkå’Œå®é™…æµ‹è¯•ç»“æœï¼Œç›®å‰å‡ ä¸ªå€¼å¾—å…³æ³¨çš„å¼€æºVLMï¼š
Qwen2.5-VL
Phi-4-multimodal
Llama 3.2 Vision
olmocr
and more â€¦
Qwen2.5-VLç³»åˆ—æ¨¡å‹ cookbook
Blog
Technical Report
è¿™åº”è¯¥æ˜¯å¼€æºçš„æ¨¡å‹ä¸­ï¼Œæ•ˆæœæ’å‰åˆ—çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆæˆªæ­¢è‡³ä»Šï¼‰ï¼ŒåŒæ—¶è¿˜å…·å¤‡äº†å¤šç§å‚æ•°é‡ï¼ˆ3Bï¼Œ7Bï¼Œ72Bï¼‰å¯é€‰æ‹©ã€‚
åœ¨Technical Report ä¸­ä¸€äº›å’Œdocument-parseæœ‰å…³çš„å†…å®¹ï¼š
åœ¨ç¬¬ä¸€é˜¶æ®µè§†è§‰é¢„è®­ç»ƒä¸­ï¼ˆä»…è®­ç»ƒViTï¼‰ï¼Œé’ˆå¯¹Document Parsingï¼Œè®¾è®¡äº†ä¸€å¥—æ ‡å‡†åŒ–çš„HTMLæ ‡ç­¾ä½“ç³»ï¼ŒåŒ…å«ï¼šæ®µè½ï¼ˆp&gt;ï¼‰ã€è¡¨æ ¼ï¼ˆ&lt;table&gt;ï¼‰ã€å›¾è¡¨ï¼ˆ&lt;div class=&#34;chart&#34;&gt;ï¼‰ã€å…¬å¼ï¼ˆ&lt;div class=&#34;formula&#34;&gt;ï¼‰ã€å›¾åƒæ ‡æ³¨ï¼ˆ&lt;div class=&#34;image caption&#34;&gt;ï¼‰ã€OCRæ–‡æœ¬ï¼ˆ&lt;div class=&#34;image ocr&#34;&gt;ï¼‰ã€ä¹è°±ï¼ˆ&lt;div class=&#34;music sheet&#34;&gt;ï¼‰ã€åŒ–å­¦å¼ï¼ˆ&lt;div class=&#34;chemical formula&#34;&gt;ï¼‰ç­‰æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—å‡é€šè¿‡Â data-bboxÂ å±æ€§æ ‡æ³¨å…¶åŸå§‹åæ ‡ä½ç½®ï¼Œä¿ç•™ç©ºé—´å¸ƒå±€ä¿¡æ¯; åŒæ—¶æ‰€æœ‰æ–‡æ¡£å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ï¼ˆå¦‚ä½ç½®ã€å°ºå¯¸ï¼‰é€šè¿‡åŸç”Ÿåˆ†è¾¨ç‡ä¸‹çš„ç»å¯¹åæ ‡ç›´æ¥ç¼–ç åˆ°HTMLæ ‡ç­¾ä¸­ï¼Œä½¿æ¨¡å‹èƒ½åŒæ—¶å­¦ä¹ å†…å®¹è¯­ä¹‰å’Œç©ºé—´å…³ç³»
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-03-12 16:44:00 +0800 CST'>March 12, 2025</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to RAGå·¥å…·ç®±ï¼šåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„æ–‡æ¡£è§£ææ–¹æ¡ˆï¼ˆ2025ç‰ˆï¼‰" href="https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E6%96%B9%E6%A1%882025%E7%89%88/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RAGå·¥å…·ç®±ï¼šRAG Tutorial for Beginner
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ä¸€äº›é€‚åˆå…¥é—¨çš„RAGææ–™
åŸç†ã€ç§‘æ™® Retrieval Augmented Generation (RAG) for LLMs
Langchain|Retrieval augmented generation (RAG)
A Practitioners Guide to Retrieval Augmented Generation (RAG)
RAG for Beginners: The Complete Guide to Retrieval Augmented Generation
What is Retrieval Augmented Generation (RAG)?
Retrieval augmented generation (RAG)
æ€è€ƒé¢˜ï¼š
Why RAGï¼Ÿ RAGè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼ŸRAGå’ŒSFTå¦‚ä½•é€‰æ‹©ï¼ŸRAGçš„ä¼˜åŠ¿ï¼Ÿ
ä»€ä¹ˆæ ·çš„é—®é¢˜æ˜¯RAGæ— æ³•è§£å†³çš„ï¼Ÿä»€ä¹ˆæ ·çš„æ•°æ®é€‚åˆä½¿ç”¨RAG
ä¸ºä»€ä¹ˆè¦åšchunkingï¼Ÿchunk-sizeå—é‚£äº›å› ç´ åˆ¶çº¦ï¼Ÿ
ä»€ä¹ˆæ˜¯embeddingï¼Ÿå‘é‡åº“åœ¨åšä»€ä¹ˆï¼Ÿä¸€å®šè¦åšè¯­ä¹‰åŒ¹é…å—ï¼Ÿä»€ä¹ˆæ˜¯rerankingï¼Ÿ
å¦‚ä½•evaluate æ£€ç´¢æ•ˆæœçš„å¥½å ï¼Ÿ
RAGä¸­ï¼ŒLLMsèµ·åˆ°çš„ä½œç”¨ï¼Ÿ
Hands-On å‰ç½®ä»»åŠ¡ è·å–æ¨¡å‹æœåŠ¡ï¼š
è·å¾—LLMsä¾›åº”å•†APIï¼š æ¨è OpenRouterï¼ˆä»…LLMsï¼Œéœ€è¦æ¢¯å­ï¼Œå¢ƒå¤–ä¿¡ç”¨å¡æˆ–Cryptoï¼‰ï¼ŒSilconFlowï¼ˆLLMs&#43;embedding,æ— éœ€æ¢¯å­,æœ‰é€tokenï¼‰ï¼ŒGroqï¼ˆä»…LLMs, éœ€æ¢¯å­ï¼Œé€Ÿåº¦å¿«ï¼Œå…è´¹ï¼‰
æˆ–é‡‡ç”¨æœ¬åœ°éƒ¨ç½²ï¼š æ¨èOllama
ä¾‹å­,é‡‡ç”¨openRouter APIå®ç°LLMå¯¹è¯ï¼š
from openai import OpenAI client = OpenAI( base_url=&#34;https://openrouter.ai/api/v1&#34;, api_key=&#34;&lt;OPENROUTER_API_KEY&gt;&#34;, ) completion = client.chat.completions.create( model=&#34;openai/gpt-4o&#34;, messages=[ { &#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;What is the meaning of life?&#34; } ] ) print(completion.choices[0].message.content) ä¾‹å­ï¼šåŸºäºæœ¬åœ°ollamaå¯åŠ¨çš„deepseek R1ï¼ˆè’¸é¦ç‰ˆæœ¬ï¼‰å¯¹è¯
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-03-11 19:24:00 +0800 CST'>March 11, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to RAGå·¥å…·ç®±ï¼šRAG Tutorial for Beginner" href="https://niraya666.github.io/posts/rag-tutorial-for-beginner/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">å½“AIå¼€å§‹å±•ç°&#34;é¡¿æ‚Ÿæ—¶åˆ»&#34;æ„å‘³ç€ä»€ä¹ˆ
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>å†™åœ¨å‰é¢ æœ¬æ–‡æ˜¯å‰æ®µæ—¶é—´éƒ¨é—¨å†…æŠ€æœ¯åˆ†äº«çš„æ–‡å­—ç¨¿æ•´ç†ï¼›
ä¸»è¦åŒ…å«2ä¸ªæ–¹é¢ï¼šå¯¹äºR1æ¨¡å‹çš„ç®€å•ç§‘æ™®ï¼Œå’Œå¼€å‘å›¢é˜Ÿçš„gen-AIä½¿ç”¨æŒ‡å—ï¼›
åŸä»¥ä¸ºæ˜¥èŠ‚å‡æœŸèƒ½ç¨ä½œä¼‘æ•´ï¼Œæœªæ›¾æ–™æƒ³deepSeek-R1åœ¨æ˜¥èŠ‚æœŸé—´å¼•å‘è¡Œä¸šå…³æ³¨ã€‚èŠ‚åå¤å·¥ï¼Œå„å±‚çº§é¢†å¯¼ä¾¿å¯†é›†å±•å¼€AIæŠ€æœ¯è¿›å±•é—®è¯¢ã€‚
åŸè®¡åˆ’çš„&#34;äºŒæœˆæ‘¸é±¼æŒ‡å—&#34;å½»åº•è½ç©ºï¼Œæ—¢è¦å‘ç®¡ç†å±‚ç§‘æ™®å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯åŸç†ï¼Œåˆè¦æŒ‡æ­£é¢†å¯¼ä»¬è¢«å„ç§è¥é”€å·æ´—è„‘æ‰€å½¢æˆçš„é”™è¯¯è®¤çŸ¥ï¼›æ—¢è¦æ¨è¿›éƒ¨é—¨AIåº”ç”¨åŸ¹è®­ï¼Œåˆè¦åŠ é€Ÿç³»ç»Ÿä¸Šçº¿è¿›ç¨‹ï¼›ç®€ç›´äº†ï¼ŒçœŸæ˜¯TMçš„è°¢è°¢ DeppSeekäº†ã€‚
About DS R1 ä»€ä¹ˆæ˜¯Reasoning model ä½•ä¸ºæ¨ç†ï¼ˆreasoningï¼‰ï¼šæ˜¯å¯¹ä¿¡æ¯è¿›è¡Œå¤„ç†å’Œæ¨æ–­ï¼Œå½¢æˆåˆ¤æ–­æˆ–ç»“è®ºçš„è¿‡ç¨‹ï¼›æ¨ç†é€šå¸¸æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªæ¨æ–­æ­¥éª¤çš„è¿‡ç¨‹ã€‚æ¨ç†é€šå¸¸è¢«è®¤ä¸ºéœ€è¦æŠ½è±¡æ€ç»´â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨ç†çš„èƒ½åŠ›ä¸å±€é™äºå…·ä½“çš„ä¾‹å­ï¼Œè€Œæ˜¯æ›´ä¸ºæ™®éçš„ã€‚
In Thinking, Fast and Slow, Daniel Kahneman defined System 1 as the automatic, intuitive mode of thinking, and System 2 as the slower, more analytical mode. In the context of autoregressive language models, the usual inference process is akin to System 1 â€” models generate answers directly. Reasoning is System 2 thinking - models or systems takes time to deliberate to solve more complex problems.
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-23 23:00:00 +0800 CST'>February 23, 2025</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to å½“AIå¼€å§‹å±•ç°&#34;é¡¿æ‚Ÿæ—¶åˆ»&#34;æ„å‘³ç€ä»€ä¹ˆ" href="https://niraya666.github.io/posts/%E5%BD%93ai%E5%BC%80%E5%A7%8B%E5%B1%95%E7%8E%B0%E9%A1%BF%E6%82%9F%E6%97%B6%E5%88%BB%E6%84%8F%E5%91%B3%E7%9D%80%E4%BB%80%E4%B9%88/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RLHF ä¹‹è·¯ï¼šå¼ºåŒ–å­¦ä¹ å¤ä¹ ä¹‹ä¸Šç¯‡
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>å†™åœ¨å‰é¢ å†³å®šå¼€å¯ä¸€ä¸ªæ–°ç³»åˆ—ï¼Œæ˜¯æ—¶å€™ç³»ç»Ÿæ€§åœ°å­¦ä¹ ä¸€ä¸‹ Alignmentã€RLHF ç­‰ç›¸å…³å†…å®¹äº†ã€‚
å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šåœ¨ä¸€äº›å…¬å¼æ¨å¯¼ä¸Šå¡ä½ï¼Œå¯èƒ½æ˜¯å› ä¸ºä¹‹å‰çš„åŸºç¡€ä¸å¤Ÿæ‰å®ï¼ŒåŠ ä¸Šå­¦è¿‡çš„å†…å®¹é—å¿˜è¾ƒå¤šã€‚ äºæ˜¯ï¼Œå¸Œæœ›é€šè¿‡è¿™ä¸€ç³»åˆ—çš„ç¬”è®°ï¼Œå¸®åŠ©è‡ªå·±ç³»ç»Ÿåœ°å›é¡¾RLã€å’Œå­¦ä¹ RLHFç­‰å†…å®¹ã€‚ï¼ˆé¡ºå¸¦æŠŠä¹‹å‰æ‰‹å†™çš„ç¬”è®°ç”µå­åŒ–ï¼‰
ä¸»è¦çš„æ•™ææ¥è‡ªï¼š
Reinforcement Learning: An Introduction
Bç«™UPä¸» shuhuai008 çš„ç³»åˆ—æ¨å¯¼è§†é¢‘
æœ¬ç¯‡ç¬”è®°å°†åŒ…å«ä»¥ä¸‹çš„å†…å®¹ï¼š
MDP
DP
Monte Carlo Methods
TDæ–¹æ³•
é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹(Markov Decision Processï¼ŒMDP) MDPs are meant to be a straightforward framing of the problem of learning from interaction to achieve a goal.
ç›¸å…³æ¦‚å¿µ éšæœºå˜é‡ï¼ˆRandom Varianceï¼‰ï¼š ( $X, \ y, \ x \perp y$)ï¼Œéšæœºå˜é‡ä¹‹é—´å­˜åœ¨çš„ç‹¬ç«‹æ€§ã€‚
éšæœºè¿‡ç¨‹ï¼ˆStochastic Processï¼‰ï¼š ${S_t}_{t=1}^{\infty}$ ä¸€ä¸ªæ—¶é—´åºåˆ—çš„éšæœºå˜é‡é›†åˆï¼Œé€šå¸¸ç”¨æ¥æè¿°éšç€æ—¶é—´å˜åŒ–çš„çŠ¶æ€ã€‚
Markové“¾/è¿‡ç¨‹ï¼ˆMarkov Chain/Processï¼‰ï¼šå¼ºè°ƒäº†Markovæ€§è´¨ï¼ˆMarkov Propertyï¼‰ï¼Œå³æœªæ¥çš„çŠ¶æ€ä»…ä¾èµ–äºå½“å‰çŠ¶æ€è€Œä¸è¿‡å»æ— å…³ï¼Œå½¢å¼åŒ–åœ°è¡¨ç¤ºä¸ºï¼š
$$ P(S_{t&#43;1}|S_t, S_{t-1}, â€¦,S_1) = P(S_{t&#43;1}|S_{t}) $$
çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆState Space Modelï¼‰ï¼š Markov Chain &#43; Observationï¼› å¦‚ HMMï¼Œ Kalman Filterï¼Œparticle Filterã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-01-23 15:21:00 +0800 CST'>January 23, 2025</span>&nbsp;Â·&nbsp;10 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to RLHF ä¹‹è·¯ï¼šå¼ºåŒ–å­¦ä¹ å¤ä¹ ä¹‹ä¸Šç¯‡" href="https://niraya666.github.io/posts/rlhf-%E4%B9%8B%E8%B7%AF%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E4%B9%8B%E4%B8%8A%E7%AF%87/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Milvus-2.5ç‰ˆæœ¬ï¼šå­¦ä¹ ç¬”è®°å’Œå¤‡å¿˜å½•
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>å‡ å¹´å‰åˆè¯† Milvus çš„å¥‘æœºï¼Œæ¥æºäºå¼€å‘ä¸€ä¸ªå›¾åƒç›¸ä¼¼æ£€ç´¢çš„åº”ç”¨ï¼Œå½“æ—¶å¸‚é¢ä¸Šå‘é‡åº“çš„å¯é€‰æ‹©é¡¹å¹¶ä¸åƒç°åœ¨è¿™ä¹ˆå¤šï¼Œä¸”åŠŸèƒ½ä¹Ÿä»…é™äºå•çº¯çš„å‘é‡æ£€ç´¢ã€‚
é‰´äºæœ€è¿‘æœ‰ä¸šåŠ¡æ›´æ–°çš„éœ€è¦ï¼Œå’Œæ‰“ç®—é‡æ„ä¸€ä¸‹ä¹‹å‰åšçš„RAGé¡¹ç›®ï¼Œå†æ¬¡æœ‰æœºä¼šæ·±å…¥å­¦ä¹  Milvusï¼Œæ¢ç´¢å…¶åœ¨æ–°åŠŸèƒ½å’Œå®é™…åº”ç”¨ä¸Šçš„æ›´å¤šå¯èƒ½æ€§ã€‚
æœ¬ç¯‡ç¬”è®°ï¼Œä»…ä½œä¸ºå­¦ä¹ ç¬”è®°ï¼Œæ›´å¤šæ˜¯è®°å½•ä¸€äº› Milvusä»2.0 åˆ°2.5 çš„å˜åŒ–ï¼Œ å’Œä¸€äº›åŠ¨æ‰‹å®è·µçš„è®°å½•ï¼Œä¾¿äºä¹‹åçš„æŸ¥é˜…ã€‚
ä¸€äº›æ¦‚å¿µ Collections, Schema and index Collectionæ˜¯Milvusä¸­çš„ä¸€ä¸ªäºŒç»´è¡¨æ ¼ï¼Œå…·æœ‰å›ºå®šçš„åˆ—å’Œå¯å˜çš„è¡Œã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªå­—æ®µ(field)ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå®ä½“(entity)
Schemaå’Œå­—æ®µÂ Collectionéœ€è¦ä¸€ä¸ªschemaæ¥å®šä¹‰å…¶ç»“æ„
ç´¢å¼•Â åœ¨ç‰¹å®šå­—æ®µä¸Šåˆ›å»ºç´¢å¼•å¯ä»¥æé«˜æœç´¢æ•ˆç‡ã€‚å»ºè®®ä¸ºæœåŠ¡æ‰€ä¾èµ–çš„æ‰€æœ‰å­—æ®µåˆ›å»ºç´¢å¼•ï¼Œå…¶ä¸­å‘é‡å­—æ®µçš„ç´¢å¼•æ˜¯å¿…éœ€çš„ã€‚
åˆ†åŒº(Partition)Â åˆ†åŒºæ˜¯Collectionçš„å­é›†ï¼Œä¸å…¶çˆ¶Collectionå…±äº«ç›¸åŒçš„å­—æ®µé›†
åˆ†ç‰‡(Shard)Â åˆ†ç‰‡æ˜¯Collectionçš„æ°´å¹³åˆ‡ç‰‡ã€‚æ¯ä¸ªåˆ†ç‰‡å¯¹åº”ä¸€ä¸ªæ•°æ®è¾“å…¥é€šé“ã€‚
Shard vs Partitionçš„åŒºåˆ«Â :
åˆ†åŒº(Partition)çš„ä½œç”¨æ˜¯é€šè¿‡æŒ‡å®šåˆ†åŒºåç§°æ¥å‡å°‘è¯»å–è´Ÿè½½
è€Œåˆ†ç‰‡(Shard)çš„ä½œç”¨æ˜¯å°†å†™å…¥è´Ÿè½½åˆ†æ•£åˆ°å¤šä¸ªæœåŠ¡å™¨åˆ†å¸ƒå¼æ¶æ„ä¸­çš„åº”ç”¨Â åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†ç‰‡æ˜¯å®ç°æ°´å¹³æ‰©å±•çš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡å°†æ•°æ®åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨é›†ç¾¤çš„å¹¶è¡Œè®¡ç®—æ½œåŠ›ï¼Œæé«˜ç³»ç»Ÿçš„å†™å…¥æ€§èƒ½
MilvusClient vs Connection MilvusClient
å®šä½ï¼šæ›´é«˜çº§å°è£…ï¼Œæä¾›ä¸€ä½“åŒ–çš„æ“ä½œæ¥å£ã€‚ç®€åŒ–äº†ä¸ Milvus çš„äº¤äº’æµç¨‹ï¼Œ æä¾›æ›´ç›´è§‚å’Œç»“æ„åŒ–çš„æ“ä½œæ–¹å¼ï¼Œä¾¿äºæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ï¼Œå†…ç½®äº†å¯¹è¿æ¥çš„ç®¡ç†å’Œæ“ä½œï¼Œå‡å°‘æ‰‹åŠ¨å¤„ç†çš„å¤æ‚æ€§ã€‚
from pymilvus import MilvusClient # åˆ›å»ºå®¢æˆ·ç«¯å¹¶è¿æ¥åˆ° Milvus client = MilvusClient(uri=&#34;http://localhost:19530&#34;) # åˆ›å»ºé›†åˆ client.create_collection( name=&#34;example_collection&#34;, schema={&#34;fields&#34;: [{&#34;name&#34;: &#34;vector&#34;, &#34;type&#34;: &#34;FLOAT_VECTOR&#34;, &#34;params&#34;: {&#34;dim&#34;: 128}}]} ) # æ’å…¥æ•°æ® client.insert(&#34;example_collection&#34;, data={&#34;vector&#34;: [[0.1] * 128, [0.2] * 128]}) # æœç´¢ results = client.search(&#34;example_collection&#34;, data=[[0.1] * 128]) print(results) Connection
å®šä½ï¼šåŸºç¡€è¿æ¥æ“ä½œï¼Œéœ€è¦é€šè¿‡ connect æ–¹æ³•åˆ›å»ºå¹¶ç»´æŠ¤è¿æ¥ã€‚æä¾›æ›´åº•å±‚çš„æ§åˆ¶ï¼Œé€‚åˆçµæ´»ã€è‡ªå®šä¹‰çš„æ“ä½œã€‚
from pymilvus import connections, Collection, FieldSchema, CollectionSchema # åˆ›å»ºè¿æ¥ connections.connect(alias=&#34;default&#34;, host=&#34;localhost&#34;, port=&#34;19530&#34;) # åˆ›å»ºé›†åˆ fields = [ FieldSchema(name=&#34;vector&#34;, dtype=&#34;FLOAT_VECTOR&#34;, dim=128) ] schema = CollectionSchema(fields, description=&#34;example collection&#34;) collection = Collection(name=&#34;example_collection&#34;, schema=schema) # æ’å…¥æ•°æ® collection.insert([[0.1] * 128, [0.2] * 128]) # æœç´¢ collection.load() results = collection.search([[0.1] * 128], anns_field=&#34;vector&#34;, limit=10) print(results) Schema Schema ç”¨äºå®šä¹‰collectionåŠå…¶å­—æ®µçš„å±æ€§
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-12-25 15:49:00 +0800 CST'>December 25, 2024</span>&nbsp;Â·&nbsp;15 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Milvus-2.5ç‰ˆæœ¬ï¼šå­¦ä¹ ç¬”è®°å’Œå¤‡å¿˜å½•" href="https://niraya666.github.io/posts/milvus-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%92%8C%E5%A4%87%E5%BF%98%E5%BD%95%E4%BB%8E2.0-%E5%88%B02.5%E7%89%88%E6%9C%AC%E7%9A%84%E4%BB%8E%E5%A4%B4%E5%AD%A6%E4%B9%A0/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Agent å­¦ä¹ ç¬”è®°ï¼šæ¡†æ¶ ï½œ openAI Swarm
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>å¼€ç¯‡ â€œCloseAIâ€ ç»ˆäºåˆå¼€æºäº†æ–°çš„é¡¹ç›®ï¼Œå¯æƒœOpenAIæ˜ç¡®è¡¨ç¤ºï¼ŒSwarmæ˜¯ä¸€ä¸ªå®éªŒæ€§æ¡†æ¶ï¼Œä¸»è¦ç”¨äºæ•™è‚²ç›®çš„ï¼Œä¸é€‚åˆç”Ÿäº§ç¯å¢ƒï¼Œä¹Ÿæ²¡æœ‰å®˜æ–¹æ”¯æŒã€‚ä¸è¿‡ä»è¿™æ ·ä¸€ä¸ªå®éªŒæ€§çš„æ¡†æ¶ï¼Œè‡³å°‘èƒ½å¤Ÿäº†è§£åˆ°OpenAIå¯¹äºAgentä¸Šçš„ä¸€äº›ç†è§£ï¼Œå¯¹äºAgentè®¾è®¡ä¸Šèƒ½å¤Ÿæœ‰æ‰€å¸®åŠ©å’Œå€Ÿé‰´ã€‚
Routines and Handoffs æ ¹æ®openAI cookbook: Orchestrating Agents: Routines and Handoffs**ï¼Œ**ç†è§£è¿™ä¸ªæ¡†æ¶å‰é¦–å…ˆéœ€è¦ç†è§£çš„ä¸¤ä¸ªæ¦‚å¿µï¼š Routines å’Œ Handoffsã€‚
The notion of a â€œroutineâ€ is not strictly defined, and instead meant to capture the idea of a set of steps. Concretely, letâ€™s define a routine to be a list of instructions in natural language (which weâ€™ll represent with a system prompt), along with the tools necessary to complete them.
Routinesï¼ˆå¸¸è§„ï¼‰ï¼šæ˜¯ç”±ä¸€ç³»åˆ—æ­¥éª¤æ„æˆçš„æµç¨‹ï¼Œå¯ä»¥ç†è§£ä¸ºç»™å®šä»»åŠ¡çš„æ‰§è¡Œæ­¥éª¤ï¼ŒåŒ…æ‹¬å¯¹è¯ç³»ç»Ÿä¸­æŒ‡ä»¤å’Œæ‰€éœ€å·¥å…·çš„ç»„åˆã€‚ä»ä»£ç å®ç°ä¸Šï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å›´ç»•ç€openAI çš„ openai.chat.completions.createAPIçš„ä¸€ç³»åˆ—å†…å®¹ï¼Œ å¯¹è¯ã€å·¥å…·è°ƒç”¨ç­‰ã€‚æ¢å¥è¯è¯´ï¼Œroutinesåªæ˜¯å…·æœ‰å¯¹è¯&#43;å·¥å…·è°ƒç”¨çš„chatbotï¼Œè¿™ä¹Ÿæ˜¯openAIå¯¹äºAgentçš„åŸºç¡€æŠ½è±¡ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-11 11:10:00 +0800 CST'>November 11, 2024</span>&nbsp;Â·&nbsp;12 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Agent å­¦ä¹ ç¬”è®°ï¼šæ¡†æ¶ ï½œ openAI Swarm" href="https://niraya666.github.io/posts/agent-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%A1%86%E6%9E%B6--openai-swarm/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RAGå·¥å…·ç®±ï¼šQuery Enhancement
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>å¼•è¨€ é¦–å…ˆï¼Œä»æœ€ç®€å•çš„RAGï¼ˆRetrieval-Augmented Generationï¼‰è°ˆèµ·ã€‚
RAGç»“åˆäº†ä¿¡æ¯æ£€ç´¢ä¸ç”Ÿæˆæ¨¡å‹ï¼Œå…ˆé€šè¿‡ç”¨æˆ·çš„åŸå§‹é—®é¢˜query åœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¸ç›¸å…³çš„æ–‡æ¡£ï¼Œå†åˆ©ç”¨ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ChatGPTï¼‰ç”Ÿæˆå›ç­”ã€‚æœ€ç®€å•çš„RAGç‰ˆæœ¬é€šå¸¸è¢«ç§°ä¸ºNaive-RAGï¼Œè™½ç„¶Naive-RAGèƒ½å¤Ÿå¤„ç†ä¸€äº›ç®€å•çš„é—®é¢˜ï¼Œä½†åœ¨çœŸå®åœºæ™¯ä¸‹ï¼Œç”¨æˆ·æå‡ºçš„é—®é¢˜å¾€å¾€æ›´åŠ å¤æ‚å¤šæ ·ï¼Œè¿œè¿œè¶…å‡ºç³»ç»Ÿæœ€åˆè®¾è®¡çš„é¢„æœŸèŒƒå›´ã€‚
åœ¨ç”¨æˆ·ä¸RAGç³»ç»Ÿäº¤äº’æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§å¸¸è§é—®é¢˜ï¼š
è¡¨è¾¾æ¨¡ç³Šä¸æ¸…ï¼šç”¨æˆ·åœ¨æè¿°é—®é¢˜æ—¶ï¼Œå¾€å¾€éš¾ä»¥ç²¾å‡†è¡¨è¾¾è‡ªå·±çš„éœ€æ±‚ã€‚ä»–ä»¬å¯èƒ½ä»…ä½¿ç”¨å‡ ä¸ªè¯ç»„æˆ–ç‰‡æ®µï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç†è§£ç”¨æˆ·çš„çœŸå®æ„å›¾ã€‚
ä¾èµ–ä¸Šä¸‹æ–‡ï¼šç”¨æˆ·çš„é—®é¢˜ç»å¸¸ä¾èµ–ä¹‹å‰çš„å¯¹è¯æˆ–èƒŒæ™¯ä¿¡æ¯ï¼Œè€Œç³»ç»Ÿåªæ¥æ”¶åˆ°å½“å‰çš„å­¤ç«‹é—®é¢˜ï¼Œç¼ºå°‘å…³é”®çš„ä¸Šä¸‹æ–‡æ”¯æŒï¼Œæ— æ³•ç»™å‡ºå‡†ç¡®çš„ç­”æ¡ˆã€‚
å¤æ‚å¤šå±‚æ¬¡é—®é¢˜ï¼šæŸäº›é—®é¢˜æœ¬èº«å¤æ‚ï¼ŒåŒ…å«å¤šä¸ªå­é—®é¢˜æˆ–éœ€è¦æ¨ç†ã€é€»è¾‘åˆ†æã€‚Naive-RAGä¾èµ–ç®€å•çš„å…³é”®è¯åŒ¹é…æˆ–è¯­ä¹‰åŒ¹é…ï¼Œæ— æ³•å¾ˆå¥½åœ°å¤„ç†è¿™ç±»å¤æ‚çš„éœ€æ±‚ã€‚
é¢å¯¹è¿™äº›æŒ‘æˆ˜ï¼ŒNaive-RAGçš„å±€é™æ€§å˜å¾—æ˜æ˜¾ï¼šä»…ä»…ä¾é ç”¨æˆ·çš„åŸå§‹queryæ— æ³•åº”å¯¹å¤šæ ·åŒ–çš„æé—®åœºæ™¯ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æå‡RAGç³»ç»Ÿçš„æ£€ç´¢èƒ½åŠ›ï¼Œå¢å¼ºå¯¹å¤æ‚é—®é¢˜çš„å¤„ç†å‘¢ï¼Ÿè¿™æ—¶å°±éœ€è¦å¼•å…¥Query-EnhancementæŠ€æœ¯ã€‚
Query-Enhancementï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¯¹ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œå¢å¼ºå¤„ç†ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸è¦ç›´æ¥ä½¿ç”¨ç”¨æˆ·çš„åŸå§‹queryè¿›è¡Œç›¸å…³æ–‡æ¡£çš„æ£€ç´¢ï¼Œè€Œæ˜¯é€šè¿‡æŸç§æŠ€æœ¯æ‰‹æ®µå¯¹queryè¿›è¡Œæ”¹å†™ã€æ‰©å±•æˆ–ä¼˜åŒ–ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªæ›´é€‚åˆæ£€ç´¢çš„queryã€‚è¿™ç§æŠ€æœ¯åœ¨ä¸åŒåœºæ™¯ä¸‹æœ‰ä¸åŒçš„å‘½åï¼Œå¦‚query rewriteæˆ–query reformulationï¼Œä½†æ ¸å¿ƒç›®æ ‡éƒ½æ˜¯ä¸€è‡´çš„â€”â€”æ ¹æ®ç”¨æˆ·çš„åˆå§‹è¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚ã€æ›´èƒ½æå‡æŸ¥è¯¢å‡†ç¡®æ€§çš„æ–°queryã€‚
é€šè¿‡Query-Enhancementï¼Œå¯ä»¥è§£å†³è®¸å¤šNaive-RAGæ— æ³•å¤„ç†çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œé’ˆå¯¹æ¨¡ç³Šæˆ–ç®€çŸ­çš„æé—®ï¼Œå¢å¼ºåçš„queryå¯ä»¥é€šè¿‡æ·»åŠ ä¸Šä¸‹æ–‡æˆ–å…³é”®è¯æ¥ä¸°å¯Œä¿¡æ¯å†…å®¹ï¼›å¯¹äºå¤æ‚çš„å¤šå±‚æ¬¡é—®é¢˜ï¼Œå¢å¼ºåçš„queryå¯ä»¥æ‹†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ï¼Œé€æ­¥è¿›è¡Œæ£€ç´¢ä¸æ¨ç†ã€‚
æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ä¸åŒçš„Query-EnhancementæŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶åˆ†æè¿™äº›æŠ€æœ¯å¦‚ä½•æ ¹æ®åŸå§‹queryç”Ÿæˆæ›´é«˜æ•ˆçš„æŸ¥è¯¢ï¼Œå¸®åŠ©RAGç³»ç»Ÿåœ¨å¤æ‚åœºæ™¯ä¸‹æä¾›æ›´ç²¾ç¡®çš„ç­”æ¡ˆã€‚
Query Rewrite Because the original query can not be always optimal to retrieve for the LLM, especially in the real worldâ€¦ we first prompt an LLM to rewrite the queries, then conduct retrieval-augmented reading.
Query Rewriteçš„ç›®çš„æ˜¯å°†ç”¨æˆ·æ¨¡ç³Šã€ä¸æ˜ç¡®æˆ–ä¸å®Œæ•´çš„æŸ¥è¯¢è½¬æ¢ä¸ºæ›´é€‚åˆæ£€ç´¢çš„å½¢å¼ï¼Œä»¥æå‡æ£€ç´¢æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚
ä»…ä½¿ç”¨åŸå§‹queryçš„ç¼ºç‚¹ï¼š
æŸ¥è¯¢å¸¸å¸¸æ¨¡ç³Šã€ä¸å…·ä½“æˆ–ä¸å®Œæ•´ï¼Œå¯¼è‡´éš¾ä»¥æ‰¾åˆ°æœ‰æ•ˆçš„æ£€ç´¢ç»“æœã€‚
ç¼ºä¹æ˜ç¡®æœ¯è¯­ï¼Œæ— æ³•æœ‰æ•ˆä»å¤§å‹æ•°æ®é›†ä¸­æå–ç›¸å…³ä¿¡æ¯ã€‚
å¯¹è¯ä¸Šä¸‹æ–‡ä¸­çš„æŸ¥è¯¢å«ä¹‰å› å¯¹è¯å†å²è€Œå¼‚ï¼ŒåŒæ ·çš„è¡¨è¾¾åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¯èƒ½æœ‰ä¸åŒçš„æ„å›¾ã€‚
è¾“å…¥æ–‡æœ¬ä¸çœŸæ­£éœ€è¦æ£€ç´¢çš„çŸ¥è¯†ä¹‹é—´ä¸å¯é¿å…åœ°å­˜åœ¨å·®è·ã€‚è¿™ç§å·®è·é™åˆ¶äº†æ£€ç´¢æ€§èƒ½ï¼Œå¢åŠ äº†å¯¹æ£€ç´¢èƒ½åŠ›å¢å¼ºå’Œæç¤ºå·¥ç¨‹çš„ä¾èµ–ã€‚
ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæ£€ç´¢å™¨ä¹‹å‰å¢åŠ äº†ä¸€æ­¥å¯¹è¾“å…¥è¿›è¡Œæ”¹å†™çš„è¿‡ç¨‹ï¼Œå¡«è¡¥ç»™å®šè¾“å…¥ä¸æ£€ç´¢éœ€æ±‚ä¹‹é—´çš„å·®è·ã€‚è¿™ä¸€æ­¥åˆ©ç”¨äº†LLMæœ¬èº«çš„èƒ½åŠ›å¯¹åŸå§‹æŸ¥è¯¢è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„æ”¹å†™ã€‚
æ¯”å¦‚ï¼Œæ¥è‡ªRAG_Techniques çš„è¿™æ®µpromptï¼š
query_rewrite_template = &#34;&#34;&#34;You are an AI assistant tasked with reformulating user queries to improve retrieval in a RAG system. Given the original query, rewrite it to be more specific, detailed, and likely to retrieve relevant information. Original query: {original_query} Rewritten query:&#34;&#34;&#34; ä½¿LLMå¯ä»¥æ›´åŠ ç³»ç»Ÿåœ°å°†ç”¨æˆ·çš„åŸå§‹æŸ¥è¯¢æ”¹å†™ä¸ºæ›´ç¬¦åˆæ£€ç´¢éœ€æ±‚çš„å½¢å¼ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-10-31 16:04:00 +0800 CST'>October 31, 2024</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to RAGå·¥å…·ç®±ï¼šQuery Enhancement" href="https://niraya666.github.io/posts/rag%E5%B7%A5%E5%85%B7%E7%AE%B1query-enhancement/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LLM è¾“å‡ºé™åˆ¶ï¼šStructured Outputsã€å—é™ç¼–ç å’Œæç¤ºè¯å·¥ç¨‹
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>åœ¨ä½¿ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´ä¸€ä¸ªæŒ‘æˆ˜ï¼šå¦‚ä½•ä»æ¨¡å‹è¾“å‡ºä¸­å‡†ç¡®æå–è‡ªå·±æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬å¸Œæœ›æ¨¡å‹è¾“å‡º JSON æ ¼å¼çš„æ•°æ®æ—¶ï¼Œç”±äºæ¨¡å‹ç”Ÿæˆçš„å†…å®¹å¹¶ä¸æ€»æ˜¯ç¨³å®šï¼Œå¯èƒ½éœ€è¦é¢å¤–ç¼–å†™å¤§é‡çš„æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…å¹¶æå–å…¶ä¸­çš„æœ‰æ•ˆä¿¡æ¯ã€‚ç„¶è€Œï¼Œç”±äº LLM çš„èƒ½åŠ›ï¼Œå¯¼è‡´å…¶è¾“å‡ºç»“æ„å¹¶ä¸æ°¸è¿œå¯é ã€‚
ç°é˜¶æ®µï¼Œ è®©LLMæŒ‰è¦æ±‚ç”Ÿæˆç‰¹å®šæ ¼å¼æ–‡æœ¬çš„ä¸»è¦æ–¹æ³•æœ‰å‡ ç§ç§ï¼š
å¾®è°ƒï¼šä½¿æ¨¡å‹çš„è¾“å‡ºéµå¾ªç‰¹å®šæ ¼å¼
OpenAI Json-mode/Structured Outputs/function-calling: è¿™äº›åŠŸèƒ½å…è®¸æ¨¡å‹ç”Ÿæˆæ›´ä¸¥æ ¼ã€ç»“æ„åŒ–çš„è¾“å‡ºï¼Œä½†å—é™äºopenAIå¹³å°ã€‚
æ ¼å¼çº¦æŸï¼šåœ¨decodingé˜¶æ®µè¿›è¡Œçº¦æŸï¼Œé™åˆ¶æ¨¡å‹çš„è¾“å‡ºï¼Œ
Prompt Engineeringï¼š æœ€ç®€å•çš„åŠæ³•ï¼Œä½†ä¸ç¨³å®šã€‚
å¤šé˜¶æ®µpromptingï¼š é€šè¿‡å¤šä¸ªæ­¥éª¤çš„æç¤ºé€æ­¥å¼•å¯¼æ¨¡å‹ç”Ÿæˆæ‰€éœ€çš„æ ¼å¼ã€‚
æœ¬æ–‡å°†èšç„¦åœ¨Structured Outputsï¼Œ å—é™ç¼–ç ï¼Œ å’Œprompt-engineeringçš„è§’åº¦ï¼Œæ¢è®¨å®ƒä»¬åœ¨ç”Ÿæˆç‰¹å®šæ ¼å¼æ–‡æœ¬ä¸­çš„åº”ç”¨å’Œæ•ˆæœã€‚
Json Mode ä»…ç‰¹å®šæ¨¡å‹å’Œå¹³å°æ”¯æŒ
ä»¥openAI ä¸ºä¾‹ï¼Œ åœ¨openai.chat.completions.create å‚æ•°ä¸­å¢åŠ response_format={&#34;type&#34;:&#34;json_object&#34;} å³å¯ï¼ˆå…·ä½“å‚è§ï¼šresponse_format ï¼‰ã€‚
éœ€è¦åœ¨promptä¸­è¦æ±‚è¾“å‡ºjsonæ ¼å¼
ä¸èƒ½ä¿è¯å®Œå…¨æŒ‰è¦æ±‚çš„æ ¼å¼ç»“æ„è¾“å‡º
ä½†é100%æˆåŠŸç‡ï¼Œå­˜åœ¨ä¸€äº›éœ€è¦é¢å¤–æ£€æµ‹å’Œé€‚å½“å¤„ç†çš„edge caseã€‚
Handling edge cases æ ¹æ®OpenAIå®˜æ–¹æ–‡æ¡£æä¾›çš„å¤„ç†æ–¹æ¡ˆ https://platform.openai.com/docs/guides/structured-outputs/json-mode we_did_not_specify_stop_tokens = True try: response = client.chat.completions.create( model=&#34;gpt-3.5-turbo-0125&#34;, messages=[ {&#34;role&#34;: &#34;system&#34;, &#34;content&#34;: &#34;You are a helpful assistant designed to output JSON.&#34;}, {&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Who won the world series in 2020? Please respond in the format {winner: ...}&#34;} ], response_format={&#34;type&#34;: &#34;json_object&#34;} ) # Check if the conversation was too long for the context window, resulting in incomplete JSON if response.choices[0].message.finish_reason == &#34;length&#34;: # your code should handle this error case pass # Check if the OpenAI safety system refused the request and generated a refusal instead if response.choices[0].message[0].get(&#34;refusal&#34;): # your code should handle this error case # In this case, the .content field will contain the explanation (if any) that the model generated for why it is refusing print(response.choices[0].message[0][&#34;refusal&#34;]) # Check if the model&#39;s output included restricted content, so the generation of JSON was halted and may be partial if response.choices[0].message.finish_reason == &#34;content_filter&#34;: # your code should handle this error case pass if response.choices[0].message.finish_reason == &#34;stop&#34;: # In this case the model has either successfully finished generating the JSON object according to your schema, or the model generated one of the tokens you provided as a &#34;stop token&#34; if we_did_not_specify_stop_tokens: # If you didn&#39;t specify any stop tokens, then the generation is complete and the content key will contain the serialized JSON object # This is guaranteed to parse successfully and should now contain &#34;{&#34;winner&#34;: &#34;Los Angeles Dodgers&#34;}&#34; print(response.choices[0].message.content) else: # Check if the response.choices[0].message.content ends with one of your stop tokens and handle appropriately pass except Exception as e: # Your code should handle errors here, for example a network error calling the API print(e) ä½¿ç”¨pydanticçš„æ–¹æ¡ˆ ä½¿ç”¨pydanticçš„æ–¹æ¡ˆ from pydantic import BaseModel, EmailStr, ValidationError # å®šä¹‰ä½ æœŸæœ›çš„ JSON æ•°æ®æ¨¡å‹ class UserModel(BaseModel): name: str age: int email: EmailStr # æ£€æŸ¥ JSON æ˜¯å¦ç¬¦åˆæ¨¡å‹çš„å‡½æ•° def validate_json(json_str): try: # å°†è¾“å…¥çš„ JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º UserModel å®ä¾‹ user = UserModel.parse_raw(json_str) # å¦‚æœéªŒè¯é€šè¿‡ï¼Œè¿”å›å­—å…¸ return user.dict() except ValidationError as ve: print(f&#34;JSON validation error: {ve.json()}&#34;) return None # ç¤ºä¾‹ç”¨æ³• json_str = &#39;{&#34;name&#34;: &#34;John Doe&#34;, &#34;email&#34;: &#34;john.doe@example.com&#34;}&#39; validated_json = validate_json(json_str) if validated_json is not None: print(&#34;JSON is valid and conforms to the schema:&#34;) print(validated_json) else: print(&#34;JSON is invalid.&#34;) Json-Mode æ›´å¤šæ˜¯å¯¹äºè¾“å‡ºjsonçš„æ ¼å¼è¿›è¡Œæ£€æŸ¥(å³Jsonæ ¼å¼çš„æœ‰æ•ˆæ€§)
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-08-21 14:49:00 +0800 CST'>August 21, 2024</span>&nbsp;Â·&nbsp;11 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to LLM è¾“å‡ºé™åˆ¶ï¼šStructured Outputsã€å—é™ç¼–ç å’Œæç¤ºè¯å·¥ç¨‹" href="https://niraya666.github.io/posts/llm-%E8%BE%93%E5%87%BA%E9%99%90%E5%88%B6structured-outputs%E5%8F%97%E9%99%90%E7%BC%96%E7%A0%81%E5%92%8C%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RAGå·¥å…·ç®±ï¼šæ£€ç´¢
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p> If you want to make a good RAG tool that uses your documentation, you should start by making a search engine over those documents that would be good enough for a human to use themselves. This is likely something your organization has considered before, and if it doesnâ€™t exist itâ€™s because building a good search engine has traditionally been a significant undertaking.
â€” from Build a search engine, not a vector DB
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-25 17:08:00 +0800 CST'>July 25, 2024</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to RAGå·¥å…·ç®±ï¼šæ£€ç´¢" href="https://niraya666.github.io/posts/rag%E6%A3%80%E7%B4%A2/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://niraya666.github.io/page/2/">Next&nbsp;2/2&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://niraya666.github.io/">LZY Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
